(function(){var m,q,o,h,a={},c={},p=/\\/g;var f=function(u,t){if(u==null){return null}if(u.Slick===true){return u}u=(""+u).replace(/^\s+|\s+$/g,"");h=!!t;var s=(h)?c:a;if(s[u]){return s[u]}m={Slick:true,expressions:[],raw:u,reverse:function(){return f(this.raw,true)}};q=-1;while(u!=(u=u.replace(k,b))){}m.length=m.expressions.length;return s[u]=(h)?i(m):m};var j=function(s){if(s==="!"){return" "}else{if(s===" "){return"!"}else{if((/^!/).test(s)){return s.replace(/^!/,"")}else{return"!"+s}}}};var i=function(y){var v=y.expressions;for(var t=0;t<v.length;t++){var x=v[t];var u={parts:[],tag:"*",combinator:j(x[0].combinator)};for(var s=0;s<x.length;s++){var w=x[s];if(!w.reverseCombinator){w.reverseCombinator=" "}w.combinator=w.reverseCombinator;delete w.reverseCombinator}x.reverse().push(u)}return y};var g=function(s){return s.replace(/[-[\]{}()*+?.\\^$|,#\s]/g,"\\$&")};var k=new RegExp("^(?:\\s*(,)\\s*|\\s*(<combinator>+)\\s*|(\\s+)|(<unicode>+|\\*)|\\#(<unicode>+)|\\.(<unicode>+)|\\[\\s*(<unicode1>+)(?:\\s*([*^$!~|]?=)(?:\\s*(?:([\"']?)(.*?)\\9)))?\\s*\\](?!\\])|:+(<unicode>+)(?:\\((?:(?:([\"'])([^\\12]*)\\12)|((?:\\([^)]+\\)|[^()]*)+))\\))?)".replace(/<combinator>/,"["+g(">+~`!@$%^&={}\\;</")+"]").replace(/<unicode>/g,"(?:[\\w\\u00a1-\\uFFFF-]|\\\\[^\\s0-9a-f])").replace(/<unicode1>/g,"(?:[:\\w\\u00a1-\\uFFFF-]|\\\\[^\\s0-9a-f])"));function b(B,w,H,D,v,G,u,F,E,C,y,J,z,t,A){if(w||q===-1){m.expressions[++q]=[];o=-1;if(w){return""}}if(H||D||o===-1){H=H||" ";var x=m.expressions[q];if(h&&x[o]){x[o].reverseCombinator=j(H)}x[++o]={combinator:H,tag:"*"}}var s=m.expressions[q][o];if(v){s.tag=v.replace(p,"")}else{if(G){s.id=G.replace(p,"")}else{if(u){u=u.replace(p,"");if(!s.classList){s.classList=[]}if(!s.classes){s.classes=[]}s.classList.push(u);s.classes.push({value:u,regexp:new RegExp("(^|\\s)"+g(u)+"(\\s|$)")})}else{if(J){A=A||t;A=A?A.replace(p,""):null;if(!s.pseudos){s.pseudos=[]}s.pseudos.push({key:J.replace(p,""),value:A})}else{if(F){F=F.replace(p,"");y=(y||"").replace(p,"");var I,K;switch(E){case"^=":K=new RegExp("^"+g(y));break;case"$=":K=new RegExp(g(y)+"$");break;case"~=":K=new RegExp("(^|\\s)"+g(y)+"(\\s|$)");break;case"|=":K=new RegExp("^"+g(y)+"(-|$)");break;case"=":I=function(L){return y==L};break;case"*=":I=function(L){return L&&L.indexOf(y)>-1};break;case"!=":I=function(L){return y!=L};break;default:I=function(L){return !!L}}if(y==""&&(/^[*$^]=$/).test(E)){I=function(){return false}}if(!I){I=function(L){return L&&K.test(L)}}if(!s.attributes){s.attributes=[]}s.attributes.push({key:F,operator:E,value:y,test:I})}}}}}return""}var d=(this.Slick||{});d.parse=function(s){return f(s)};d.escapeRegExp=g;if(!this.Slick){this.Slick=d}}).apply((typeof exports!="undefined")?exports:this);
/*!
 * Sizzle CSS Selector Engine - v1.0
 *  Copyright 2009, The Dojo Foundation
 *  Released under the MIT, BSD, and GPL Licenses.
 *  More information: http://sizzlejs.com/
 */
(function(){var t=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,j=0,d=Object.prototype.toString,s=false,i=true;[0,0].sort(function(){i=false;return 0});var b=function(A,v,D,E){D=D||[];v=v||document;var G=v;if(v.nodeType!==1&&v.nodeType!==9){return[]}if(!A||typeof A!=="string"){return D}var x,I,L,w,H,K,J,C,z=true,y=b.isXML(v),B=[],F=A;do{t.exec("");x=t.exec(F);if(x){F=x[3];B.push(x[1]);if(x[2]){w=x[3];break}}}while(x);if(B.length>1&&k.exec(A)){if(B.length===2&&f.relative[B[0]]){I=h(B[0]+B[1],v)}else{I=f.relative[B[0]]?[v]:b(B.shift(),v);while(B.length){A=B.shift();if(f.relative[A]){A+=B.shift()}I=h(A,I)}}}else{if(!E&&B.length>1&&v.nodeType===9&&!y&&f.match.ID.test(B[0])&&!f.match.ID.test(B[B.length-1])){H=b.find(B.shift(),v,y);v=H.expr?b.filter(H.expr,H.set)[0]:H.set[0]}if(v){H=E?{expr:B.pop(),set:a(E)}:b.find(B.pop(),B.length===1&&(B[0]==="~"||B[0]==="+")&&v.parentNode?v.parentNode:v,y);I=H.expr?b.filter(H.expr,H.set):H.set;if(B.length>0){L=a(I)}else{z=false}while(B.length){K=B.pop();J=K;if(!f.relative[K]){K=""}else{J=B.pop()}if(J==null){J=v}f.relative[K](L,J,y)}}else{L=B=[]}}if(!L){L=I}if(!L){b.error(K||A)}if(d.call(L)==="[object Array]"){if(!z){D.push.apply(D,L)}else{if(v&&v.nodeType===1){for(C=0;L[C]!=null;C++){if(L[C]&&(L[C]===true||L[C].nodeType===1&&b.contains(v,L[C]))){D.push(I[C])}}}else{for(C=0;L[C]!=null;C++){if(L[C]&&L[C].nodeType===1){D.push(I[C])}}}}}else{a(L,D)}if(w){b(w,G,D,E);b.uniqueSort(D)}return D};b.uniqueSort=function(w){if(c){s=i;w.sort(c);if(s){for(var v=1;v<w.length;v++){if(w[v]===w[v-1]){w.splice(v--,1)}}}}return w};b.matches=function(v,w){return b(v,null,null,w)};b.matchesSelector=function(v,w){return b(w,null,null,[v]).length>0};b.find=function(C,v,D){var B;if(!C){return[]}for(var y=0,x=f.order.length;y<x;y++){var z,A=f.order[y];if((z=f.leftMatch[A].exec(C))){var w=z[1];z.splice(1,1);if(w.substr(w.length-1)!=="\\"){z[1]=(z[1]||"").replace(/\\/g,"");B=f.find[A](z,v,D);if(B!=null){C=C.replace(f.match[A],"");break}}}}if(!B){B=v.getElementsByTagName("*")}return{set:B,expr:C}};b.filter=function(G,F,J,z){var B,v,x=G,L=[],D=F,C=F&&F[0]&&b.isXML(F[0]);while(G&&F.length){for(var E in f.filter){if((B=f.leftMatch[E].exec(G))!=null&&B[2]){var K,I,w=f.filter[E],y=B[1];v=false;B.splice(1,1);if(y.substr(y.length-1)==="\\"){continue}if(D===L){L=[]}if(f.preFilter[E]){B=f.preFilter[E](B,D,J,L,z,C);if(!B){v=K=true}else{if(B===true){continue}}}if(B){for(var A=0;(I=D[A])!=null;A++){if(I){K=w(I,B,A,D);var H=z^!!K;if(J&&K!=null){if(H){v=true}else{D[A]=false}}else{if(H){L.push(I);v=true}}}}}if(K!==undefined){if(!J){D=L}G=G.replace(f.match[E],"");if(!v){return[]}break}}}if(G===x){if(v==null){b.error(G)}else{break}}x=G}return D};b.error=function(v){throw"Syntax error, unrecognized expression: "+v};var f=b.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(['"]*)(.*?)\3|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(v){return v.getAttribute("href")}},relative:{"+":function(B,w){var y=typeof w==="string",A=y&&!/\W/.test(w),C=y&&!A;if(A){w=w.toLowerCase()}for(var x=0,v=B.length,z;x<v;x++){if((z=B[x])){while((z=z.previousSibling)&&z.nodeType!==1){}B[x]=C||z&&z.nodeName.toLowerCase()===w?z||false:z===w}}if(C){b.filter(w,B,true)}},">":function(B,w){var A,z=typeof w==="string",x=0,v=B.length;if(z&&!/\W/.test(w)){w=w.toLowerCase();for(;x<v;x++){A=B[x];if(A){var y=A.parentNode;B[x]=y.nodeName.toLowerCase()===w?y:false}}}else{for(;x<v;x++){A=B[x];if(A){B[x]=z?A.parentNode:A.parentNode===w}}if(z){b.filter(w,B,true)}}},"":function(y,w,A){var z,x=j++,v=u;if(typeof w==="string"&&!/\W/.test(w)){w=w.toLowerCase();z=w;v=q}v("parentNode",w,x,y,z,A)},"~":function(y,w,A){var z,x=j++,v=u;if(typeof w==="string"&&!/\W/.test(w)){w=w.toLowerCase();z=w;v=q}v("previousSibling",w,x,y,z,A)}},find:{ID:function(w,x,y){if(typeof x.getElementById!=="undefined"&&!y){var v=x.getElementById(w[1]);return v&&v.parentNode?[v]:[]}},NAME:function(x,A){if(typeof A.getElementsByName!=="undefined"){var w=[],z=A.getElementsByName(x[1]);for(var y=0,v=z.length;y<v;y++){if(z[y].getAttribute("name")===x[1]){w.push(z[y])}}return w.length===0?null:w}},TAG:function(v,w){return w.getElementsByTagName(v[1])}},preFilter:{CLASS:function(y,w,x,v,B,C){y=" "+y[1].replace(/\\/g,"")+" ";if(C){return y}for(var z=0,A;(A=w[z])!=null;z++){if(A){if(B^(A.className&&(" "+A.className+" ").replace(/[\t\n\r]/g," ").indexOf(y)>=0)){if(!x){v.push(A)}}else{if(x){w[z]=false}}}}return false},ID:function(v){return v[1].replace(/\\/g,"")},TAG:function(w,v){return w[1].toLowerCase()},CHILD:function(v){if(v[1]==="nth"){if(!v[2]){b.error(v[0])}v[2]=v[2].replace(/^\+|\s*/g,"");var w=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec(v[2]==="even"&&"2n"||v[2]==="odd"&&"2n+1"||!/\D/.test(v[2])&&"0n+"+v[2]||v[2]);v[2]=(w[1]+(w[2]||1))-0;v[3]=w[3]-0}else{if(v[2]){b.error(v[0])}}v[0]=j++;return v},ATTR:function(z,w,x,v,A,B){var y=z[1].replace(/\\/g,"");if(!B&&f.attrMap[y]){z[1]=f.attrMap[y]}if(z[2]==="~="){z[4]=" "+z[4]+" "}return z},PSEUDO:function(z,w,x,v,A){if(z[1]==="not"){if((t.exec(z[3])||"").length>1||/^\w/.test(z[3])){z[3]=b(z[3],null,null,w)}else{var y=b.filter(z[3],w,x,true^A);if(!x){v.push.apply(v,y)}return false}}else{if(f.match.POS.test(z[0])||f.match.CHILD.test(z[0])){return true}}return z},POS:function(v){v.unshift(true);return v}},filters:{enabled:function(v){return v.disabled===false&&v.type!=="hidden"},disabled:function(v){return v.disabled===true},checked:function(v){return v.checked===true},selected:function(v){v.parentNode.selectedIndex;return v.selected===true},parent:function(v){return !!v.firstChild},empty:function(v){return !v.firstChild},has:function(x,w,v){return !!b(v[3],x).length},header:function(v){return(/h\d/i).test(v.nodeName)},text:function(v){return"text"===v.type},radio:function(v){return"radio"===v.type},checkbox:function(v){return"checkbox"===v.type},file:function(v){return"file"===v.type},password:function(v){return"password"===v.type},submit:function(v){return"submit"===v.type},image:function(v){return"image"===v.type},reset:function(v){return"reset"===v.type},button:function(v){return"button"===v.type||v.nodeName.toLowerCase()==="button"},input:function(v){return(/input|select|textarea|button/i).test(v.nodeName)}},setFilters:{first:function(w,v){return v===0},last:function(x,w,v,y){return w===y.length-1},even:function(w,v){return v%2===0},odd:function(w,v){return v%2===1},lt:function(x,w,v){return w<v[3]-0},gt:function(x,w,v){return w>v[3]-0},nth:function(x,w,v){return v[3]-0===w},eq:function(x,w,v){return v[3]-0===w}},filter:{PSEUDO:function(x,C,B,D){var v=C[1],w=f.filters[v];if(w){return w(x,B,C,D)}else{if(v==="contains"){return(x.textContent||x.innerText||b.getText([x])||"").indexOf(C[3])>=0}else{if(v==="not"){var y=C[3];for(var A=0,z=y.length;A<z;A++){if(y[A]===x){return false}}return true}else{b.error(v)}}}},CHILD:function(v,y){var B=y[1],w=v;switch(B){case"only":case"first":while((w=w.previousSibling)){if(w.nodeType===1){return false}}if(B==="first"){return true}w=v;case"last":while((w=w.nextSibling)){if(w.nodeType===1){return false}}return true;case"nth":var x=y[2],E=y[3];if(x===1&&E===0){return true}var A=y[0],D=v.parentNode;if(D&&(D.sizcache!==A||!v.nodeIndex)){var z=0;for(w=D.firstChild;w;w=w.nextSibling){if(w.nodeType===1){w.nodeIndex=++z}}D.sizcache=A}var C=v.nodeIndex-E;if(x===0){return C===0}else{return(C%x===0&&C/x>=0)}}},ID:function(w,v){return w.nodeType===1&&w.getAttribute("id")===v},TAG:function(w,v){return(v==="*"&&w.nodeType===1)||w.nodeName.toLowerCase()===v},CLASS:function(w,v){return(" "+(w.className||w.getAttribute("class"))+" ").indexOf(v)>-1},ATTR:function(A,y){var x=y[1],v=f.attrHandle[x]?f.attrHandle[x](A):A[x]!=null?A[x]:A.getAttribute(x),B=v+"",z=y[2],w=y[4];return v==null?z==="!=":z==="="?B===w:z==="*="?B.indexOf(w)>=0:z==="~="?(" "+B+" ").indexOf(w)>=0:!w?B&&v!==false:z==="!="?B!==w:z==="^="?B.indexOf(w)===0:z==="$="?B.substr(B.length-w.length)===w:z==="|="?B===w||B.substr(0,w.length+1)===w+"-":false},POS:function(z,w,x,A){var v=w[2],y=f.setFilters[v];if(y){return y(z,x,w,A)}}}};var k=f.match.POS,g=function(w,v){return"\\"+(v-0+1)};for(var p in f.match){f.match[p]=new RegExp(f.match[p].source+(/(?![^\[]*\])(?![^\(]*\))/.source));f.leftMatch[p]=new RegExp(/(^(?:.|\r|\n)*?)/.source+f.match[p].source.replace(/\\(\d+)/g,g))}var a=function(w,v){w=Array.prototype.slice.call(w,0);if(v){v.push.apply(v,w);return v}return w};try{Array.prototype.slice.call(document.documentElement.childNodes,0)[0].nodeType}catch(m){a=function(z,y){var x=0,w=y||[];if(d.call(z)==="[object Array]"){Array.prototype.push.apply(w,z)}else{if(typeof z.length==="number"){for(var v=z.length;x<v;x++){w.push(z[x])}}else{for(;z[x];x++){w.push(z[x])}}}return w}}var c,o;if(document.documentElement.compareDocumentPosition){c=function(w,v){if(w===v){s=true;return 0}if(!w.compareDocumentPosition||!v.compareDocumentPosition){return w.compareDocumentPosition?-1:1}return w.compareDocumentPosition(v)&4?-1:1}}else{c=function(D,C){var A,w,x=[],v=[],z=D.parentNode,B=C.parentNode,E=z;if(D===C){s=true;return 0}else{if(z===B){return o(D,C)}else{if(!z){return -1}else{if(!B){return 1}}}}while(E){x.unshift(E);E=E.parentNode}E=B;while(E){v.unshift(E);E=E.parentNode}A=x.length;w=v.length;for(var y=0;y<A&&y<w;y++){if(x[y]!==v[y]){return o(x[y],v[y])}}return y===A?o(D,v[y],-1):o(x[y],C,1)};o=function(w,v,x){if(w===v){return x}var y=w.nextSibling;while(y){if(y===v){return -1}y=y.nextSibling}return 1}}b.getText=function(v){var w="",y;for(var x=0;v[x];x++){y=v[x];if(y.nodeType===3||y.nodeType===4){w+=y.nodeValue}else{if(y.nodeType!==8){w+=b.getText(y.childNodes)}}}return w};(function(){var w=document.createElement("div"),x="script"+(new Date()).getTime(),v=document.documentElement;w.innerHTML="<a name='"+x+"'/>";v.insertBefore(w,v.firstChild);if(document.getElementById(x)){f.find.ID=function(z,A,B){if(typeof A.getElementById!=="undefined"&&!B){var y=A.getElementById(z[1]);return y?y.id===z[1]||typeof y.getAttributeNode!=="undefined"&&y.getAttributeNode("id").nodeValue===z[1]?[y]:undefined:[]}};f.filter.ID=function(A,y){var z=typeof A.getAttributeNode!=="undefined"&&A.getAttributeNode("id");return A.nodeType===1&&z&&z.nodeValue===y}}v.removeChild(w);v=w=null})();(function(){var v=document.createElement("div");v.appendChild(document.createComment(""));if(v.getElementsByTagName("*").length>0){f.find.TAG=function(w,A){var z=A.getElementsByTagName(w[1]);if(w[1]==="*"){var y=[];for(var x=0;z[x];x++){if(z[x].nodeType===1){y.push(z[x])}}z=y}return z}}v.innerHTML="<a href='#'></a>";if(v.firstChild&&typeof v.firstChild.getAttribute!=="undefined"&&v.firstChild.getAttribute("href")!=="#"){f.attrHandle.href=function(w){return w.getAttribute("href",2)}}v=null})();if(document.querySelectorAll){(function(){var v=b,y=document.createElement("div"),x="__sizzle__";y.innerHTML="<p class='TEST'></p>";if(y.querySelectorAll&&y.querySelectorAll(".TEST").length===0){return}b=function(G,A,C,F){A=A||document;G=G.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");if(!F&&!b.isXML(A)){if(A.nodeType===9){try{return a(A.querySelectorAll(G),C)}catch(D){}}else{if(A.nodeType===1&&A.nodeName.toLowerCase()!=="object"){var B=A.getAttribute("id"),z=B||x,I=A.parentNode,H=/^\s*[+~]/.test(G);if(!B){A.setAttribute("id",z)}else{z=z.replace(/'/g,"\\$&")}if(H&&I){A=A.parentNode}try{if(!H||I){return a(A.querySelectorAll("[id='"+z+"'] "+G),C)}}catch(E){}finally{if(!B){A.removeAttribute("id")}}}}}return v(G,A,C,F)};for(var w in v){b[w]=v[w]}y=null})()}(function(){var v=document.documentElement,x=v.matchesSelector||v.mozMatchesSelector||v.webkitMatchesSelector||v.msMatchesSelector,w=false;try{x.call(document.documentElement,"[test!='']:sizzle")}catch(y){w=true}if(x){b.matchesSelector=function(z,B){B=B.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");if(!b.isXML(z)){try{if(w||!f.match.PSEUDO.test(B)&&!/!=/.test(B)){return x.call(z,B)}}catch(A){}}return b(B,null,null,[z]).length>0}}})();(function(){var v=document.createElement("div");v.innerHTML="<div class='test e'></div><div class='test'></div>";if(!v.getElementsByClassName||v.getElementsByClassName("e").length===0){return}v.lastChild.className="e";if(v.getElementsByClassName("e").length===1){return}f.order.splice(1,0,"CLASS");f.find.CLASS=function(w,x,y){if(typeof x.getElementsByClassName!=="undefined"&&!y){return x.getElementsByClassName(w[1])}};v=null})();function q(w,B,A,E,C,D){for(var y=0,x=E.length;y<x;y++){var v=E[y];if(v){var z=false;v=v[w];while(v){if(v.sizcache===A){z=E[v.sizset];break}if(v.nodeType===1&&!D){v.sizcache=A;v.sizset=y}if(v.nodeName.toLowerCase()===B){z=v;break}v=v[w]}E[y]=z}}}function u(w,B,A,E,C,D){for(var y=0,x=E.length;y<x;y++){var v=E[y];if(v){var z=false;v=v[w];while(v){if(v.sizcache===A){z=E[v.sizset];break}if(v.nodeType===1){if(!D){v.sizcache=A;v.sizset=y}if(typeof B!=="string"){if(v===B){z=true;break}}else{if(b.filter(B,[v]).length>0){z=v;break}}}v=v[w]}E[y]=z}}}if(document.documentElement.contains){b.contains=function(w,v){return w!==v&&(w.contains?w.contains(v):true)}}else{if(document.documentElement.compareDocumentPosition){b.contains=function(w,v){return !!(w.compareDocumentPosition(v)&16)}}else{b.contains=function(){return false}}}b.isXML=function(v){var w=(v?v.ownerDocument||v:0).documentElement;return w?w.nodeName!=="HTML":false};var h=function(v,C){var A,y=[],z="",x=C.nodeType?[C]:C;while((A=f.match.PSEUDO.exec(v))){z+=A[0];v=v.replace(f.match.PSEUDO,"")}v=f.relative[v]?v+"*":v;for(var B=0,w=x.length;B<w;B++){b(v,x[B],y)}return b.filter(z,y)};window.Sizzle=b})();var Mustache=function(){var a=function(){};a.prototype={otag:"{{",ctag:"}}",pragmas:{},buffer:[],pragmas_implemented:{"IMPLICIT-ITERATOR":true},context:{},render:function(f,d,c,g){if(!g){this.context=d;this.buffer=[]}if(!this.includes("",f)){if(g){return f}else{this.send(f);return}}f=this.render_pragmas(f);var b=this.render_section(f,d,c);if(g){return this.render_tags(b,d,c,g)}this.render_tags(b,d,c,g)},send:function(b){if(b!=""){this.buffer.push(b)}},render_pragmas:function(b){if(!this.includes("%",b)){return b}var d=this;var c=new RegExp(this.otag+"%([\\w-]+) ?([\\w]+=[\\w]+)?"+this.ctag);return b.replace(c,function(h,f,g){if(!d.pragmas_implemented[f]){throw ({message:"This implementation of mustache doesn't understand the '"+f+"' pragma"})}d.pragmas[f]={};if(g){var i=g.split("=");d.pragmas[f][i[0]]=i[1]}return""})},render_partial:function(b,d,c){b=this.trim(b);if(!c||c[b]===undefined){throw ({message:"unknown_partial '"+b+"'"})}if(typeof(d[b])!="object"){return this.render(c[b],d,c,true)}return this.render(c[b],d[b],c,true)},render_section:function(d,c,b){if(!this.includes("#",d)&&!this.includes("^",d)){return d}var g=this;var f=new RegExp(this.otag+"(\\^|\\#)\\s*(.+)\\s*"+this.ctag+"\n*([\\s\\S]+?)"+this.otag+"\\/\\s*\\2\\s*"+this.ctag+"\\s*","mg");return d.replace(f,function(i,j,h,k){var m=g.find(h,c);if(j=="^"){if(!m||g.is_array(m)&&m.length===0){return g.render(k,c,b,true)}else{return""}}else{if(j=="#"){if(g.is_array(m)){return g.map(m,function(o){return g.render(k,g.create_context(o),b,true)}).join("")}else{if(g.is_object(m)){return g.render(k,g.create_context(m),b,true)}else{if(typeof m==="function"){return m.call(c,k,function(o){return g.render(o,c,b,true)})}else{if(m){return g.render(k,c,b,true)}else{return""}}}}}}})},render_tags:function(m,b,d,g){var f=this;var k=function(){return new RegExp(f.otag+"(=|!|>|\\{|%)?([^\\/#\\^]+?)\\1?"+f.ctag+"+","g")};var h=k();var j=function(q,i,p){switch(i){case"!":return"";case"=":f.set_delimiters(p);h=k();return"";case">":return f.render_partial(p,b,d);case"{":return f.find(p,b);default:return f.escape(f.find(p,b))}};var o=m.split("\n");for(var c=0;c<o.length;c++){o[c]=o[c].replace(h,j,this);if(!g){this.send(o[c])}}if(g){return o.join("\n")}},set_delimiters:function(c){var b=c.split(" ");this.otag=this.escape_regex(b[0]);this.ctag=this.escape_regex(b[1])},escape_regex:function(c){if(!arguments.callee.sRE){var b=["/",".","*","+","?","|","(",")","[","]","{","}","\\"];arguments.callee.sRE=new RegExp("(\\"+b.join("|\\")+")","g")}return c.replace(arguments.callee.sRE,"\\$1")},find:function(c,d){c=this.trim(c);function b(g){return g===false||g===0||g}var f;if(b(d[c])){f=d[c]}else{if(b(this.context[c])){f=this.context[c]}}if(typeof f==="function"){return f.apply(d)}if(f!==undefined){return f}return""},includes:function(c,b){return b.indexOf(this.otag+c)!=-1},escape:function(b){b=String(b===null?"":b);return b.replace(/&(?!\w+;)|["'<>\\]/g,function(c){switch(c){case"&":return"&amp;";case"\\":return"\\\\";case'"':return"&quot;";case"'":return"&#39;";case"<":return"&lt;";case">":return"&gt;";default:return c}})},create_context:function(c){if(this.is_object(c)){return c}else{var d=".";if(this.pragmas["IMPLICIT-ITERATOR"]){d=this.pragmas["IMPLICIT-ITERATOR"].iterator}var b={};b[d]=c;return b}},is_object:function(b){return b&&typeof b=="object"},is_array:function(b){return Object.prototype.toString.call(b)==="[object Array]"},trim:function(b){return b.replace(/^\s*|\s*$/g,"")},map:function(g,d){if(typeof g.map=="function"){return g.map(d)}else{var f=[];var b=g.length;for(var c=0;c<b;c++){f.push(d(g[c]))}return f}}};return({name:"mustache.js",version:"0.3.1-dev",to_html:function(d,b,c,g){var f=new a();if(g){f.send=g}f.render(d,b,c);if(!g){return f.buffer.join("\n")}}})}();if(!this.JSON){this.JSON={}}(function(){function f(n){return n<10?"0"+n:n}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(key){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf()}}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key)}if(typeof rep==="function"){value=rep.call(holder,key,value)}switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null"}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null"}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){k=rep[i];if(typeof k==="string"){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}else{for(k in value){if(Object.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v}}if(typeof JSON.stringify!=="function"){JSON.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" "}}else{if(typeof space==="string"){indent=space}}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify")}return str("",{"":value})}}if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v}else{delete value[k]}}}}return reviver.call(holder,key,value)}text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}}}());Object.keys=function(c){var a=[];if(c===undefined||c===null){return a}for(var b in c){if(c.hasOwnProperty(b)){a.push(b)}}if(c.call!==undefined&&c.call!==Function.prototype.call&&a.indexOf("call")===-1){a.push("call")}return a};Array.isArray=Array.isArray||function(a){return Object.prototype.toString.call(a)==="[object Array]"};Array.prototype.forEach=Array.prototype.forEach||function(b,c){for(var a=0;a<this.length;a++){b.call(c,this[a],a,this)}};Array.prototype.indexOf=Array.prototype.indexOf||function(b){for(var a=0;a<this.length;a++){if(b===this[a]){return a}}return -1};Array.prototype.some=Array.prototype.some||function(c,d){for(var b=0,a=this.length;b<a;b++){if((b in this)&&c.call(d,this[b],b,this)){return true}}return false};Array.prototype.every=Array.prototype.every||function(c,d){for(var b=0,a=this.length;b<a;b++){if((b in this)&&!c.call(d,this[b],b,this)){return false}}return true};Array.prototype.map=Array.prototype.map||function(d,f){var c=[];for(var b=0,a=this.length;b<a;b++){if(b in this){c[b]=d.call(f,this[b],b,this)}}return c};Array.prototype.filter=Array.prototype.filter||function(d,f){var c=[];for(var b=0,a=this.length;b<a;b++){if((b in this)&&d.call(f,this[b],b,this)){c.push(this[b])}}return c};Array.prototype.reduce=Array.prototype.reduce||function(b){if(this===undefined||this===null){throw new TypeError()}var f=Object(this);var a=f.length>>>0;if(typeof b!=="function"){throw new TypeError()}if(a===0&&arguments.length==1){throw new TypeError()}var d=0;var c;if(arguments.length>=2){c=arguments[1]}else{do{if(d in f){c=f[d++];break}if(++d>=a){throw new TypeError()}}while(true)}while(d<a){if(d in f){c=b.call(undefined,c,f[d],d,f)}d++}return c};Array.prototype.reduceRight=Array.prototype.reduceRight||function(b){if(this===undefined||this===null){throw new TypeError()}var f=Object(this);var a=f.length>>>0;if(typeof b!=="function"){throw new TypeError()}if(a===0&&arguments.length===1){throw new TypeError()}var d=a-1;var c;if(arguments.length>=2){c=arguments[1]}else{do{if(d in this){c=this[d--];break}if(--d<0){throw new TypeError()}}while(true)}while(d>=0){if(d in f){c=b.call(undefined,c,f[d],d,f)}d--}return c};String.prototype.trim=String.prototype.trim||function(){return this.replace(/^\s\s*/,"").replace(/\s\s*$/,"")};if(!Function.prototype.bind||Function.prototype.bind===window.__hualuOldBind){Function.prototype.bind=function(b){var c=this;var a=Array.prototype.slice.call(arguments,1);return function(){return c.apply(b,a.concat(Array.prototype.slice.call(arguments)))}}}var object=(function(f){var b=function(){};if((function c(){}).name){Function.__get_name__=function(g){return g.name}}else{var d=/(?:^|\()function ([\w$]+)/;Function.__get_name__=function(h){var g=d.exec(h.toString());if(g){return g[1]}return""}}var a=function(i,g,h){return !(i in g)};b.extend=function(m,h,g){var i=null;if(typeof g=="function"){i=g}else{if(g===true||typeof g==="undefined"){}else{i=a}}for(var j in h){if(i&&!i(j,m,h)){continue}try{m[j]=h[j]}catch(k){}}if(h&&h.hasOwnProperty("call")&&(!i||i(m,h,"call"))){m.call=h.call}return m};b.clone=function(h){var i={};for(var g in h){i[g]=h[g]}return i};b.bind=function(g){b.extend(g,b)};b._loader=null;return b})(window);(function(E){var y=true;for(var w in {toString:1}){y=null}if(y){y=["hasOwnProperty","valueOf","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","constructor"]}var d=function(i,F){return function(H,G){if(H===null){return this}if(F||typeof H!="string"){for(var I in H){i.call(this,I,H[I])}if(y){for(var J=y.length;J>0;J--){I=y[J];if(H.hasOwnProperty(I)){i.call(this,I,H[I])}}}}else{i.call(this,H,G)}return this}};var k=function(i,G){var F=Object.__getattribute__(this,i);if(G!==false&&x.isMethod(F)){G=G||this;return F.bind(G)}return F};var B=d(function(F,i){if("__setattr__" in this){this.__setattr__(F,i)}else{Object.__setattr__(this,F,i)}});var g=function(i,G){var F=o.__getattribute__(this,i);if(G!==false&&x.isMethod(F)){G=G||this;return F.bind(G)}return F};var z=function(i){if(i=="@mixins"){i="__mixins__"}var G=this.prototype;var F=G.__properties__;return(i in this||i in G||(F&&i in F))};var A=d(function(i,F){if("__metaclass__" in this){o.__getattribute__(this.__metaclass__,"__setattr__").call(this.__metaclass__,this,i,F)}else{o.__setattr__(this,i,F)}});var m=function(F,i){this[F]=i};var v=function(){return this.__subclassesarray__};var p=function(G,I,H){if(!I){throw new Error("can not get function name when this.parent called")}var K=G;while(K&&!K.prototype.hasOwnProperty(I)){K=K.__base__}var J=K.__base__;var F=K.__mixins__;var L,i;if(J&&J.get&&J.has(I)){i=J;L=o.__getattribute__(J,I)}else{if(F&&F.length&&F.some(function(M){i=M;return M.has(I)})){L=o.__getattribute__(i,I)}}if(!L||typeof L!="function"){throw new Error("no such method in parent : '"+I+"'")}else{return L.apply(i,H)}};function q(i,G,F){if(G==="__name__"&&i[G]&&i[G]!==F){if(typeof console!="undefined"&&console.warn){console.warn("请不要将同一个方法赋值给多个类成员："+i[G]+" --> "+F)}}}var h=function(G,F){var H;var i;if(F===false){H=function(I){return this.prototype[G.__name__].im_func.apply(this.__this__,arguments)}}else{H=function(){var I=[].slice.call(arguments,0);if(F===true){if(typeof this=="function"){i=this}else{i=this.__class__}}else{i=this}I.unshift(i);return G.apply(this.__this__,I)}}H.im_self=F;H.__class__=arguments.callee;H.im_func=G;H.__setattr__=function(J,I){q(G,J,I);this[J]=I};return H};var c=this.staticmethod=function(i){return{__class__:arguments.callee,im_func:i,__setattr__:function(G,F){q(this,G,F);this[G]=F}}};var s=this.classmethod=function(F,i){var G={__class__:arguments.callee,im_func:F,__setattr__:function(I,H){q(this,I,H);this[I]=H}};return G};var j=this.property=function(F,i){var G={};G.__class__=arguments.callee;G.__setattr__=function(I,H){q(this,I,H);this[I]=H};G.fget=F;G.fset=i;return G};var b=function(G,F){var i=new x(function(){for(var I=0,H=F.length;I<H;I++){this[F[I]]=(function(J){return function(){return G.prototype[J].apply(arguments[0],[].slice.call(arguments,1))}})(F[I])}});return i};var u=(function(){if(!Array.push){return false}var F=function(){};F.prototype=new Array;var i=new F;i.push(null);return !!i.length})();var f,t;Object.__getattribute__=function(G,i){var F=G.__properties__["prop_"+i]||G.__properties__[i];if(F){if(F.fget){return F.fget.call(G.__this__,G)}else{throw new Error("get not allowed property "+i)}}else{if(i in G){return G[i]}else{if(G.__getattr__){return G.__getattr__.call(G,i)}else{return undefined}}}};Object.__setattr__=E.__setattr__=function(G,H,F){var i=null;if(G.__properties__){i=G.__properties__["prop_"+H]||G.__properties__[H]}if(!i){G[H]=F}else{if(i.fset){i.fset.call(G.__this__,G,F)}else{throw"set not allowed property "+H}}};Object.__new__=function(F){if(F===Array||F===String){return new F}F.__prototyping__=true;var i=new F();delete F.__prototyping__;return i};var o=this.Type=this.type=function(){};o.__class__=o;o.__new__=function(M,i,F,G){var L=function(){if(L.__prototyping__){return this}if(L.__constructs__){return L.__constructs__(arguments)}else{this.__class__=L;x.initMixins(L,this);var N=this.initialize?this.initialize.apply(this,arguments):null;return N}};L.__subclassesarray__=[];L.__subclasses__=v;L.__classbasedmethods__=[];if(E.runtime){L.__module__=E.runtime.stack[E.runtime.stack.length-1].id}else{L.__module__=""}L.set=L.__mixin__=A;L.get=g;L.has=z;L.__metaclass__=M;L.__class__=M;L.__new__=F.__new__;L.__dict__=G;L.__constructs__=F.__constructs__||null;if(F!==Object&&F!==o){(F.__classbasedmethods__||[]).forEach(function(N){L[N]=F[N];L.__classbasedmethods__.push(N)})}L.__constructing__=true;L.prototype=Object.__new__(F);L.prototype.constructor=L;if(F.__subclassesarray__){F.__subclassesarray__.push(L)}var J=L.prototype;var I=J.__properties__||{};J.__properties__=E.extend({},I);o.__setattr__(L,"__setattr__",o.__getattribute__(F,"__setattr__"));o.__setattr__(L,"__base__",F);o.__setattr__(L,"__this__",{base:F,parent:function(){return p(L,arguments.callee.caller.__name__,arguments)}});for(var H in G){o.__setattr__(L,H,G[H])}var K=L.__mixins__;if(K){K.forEach(function(N){x.keys(N).forEach(function(O){if(L.has(O)){return}var P=o.__getattribute__(N,O);o.__setattr__(L,O,P)})})}L.prototype.get=k;L.prototype.set=B;L.prototype._set=m;delete L.__constructing__;return L};var D=["__mixins__","__new__","__this__","__base__"],a=["__new__","__metaclass__","__mixins__"],C=["__this__","__base__"];o.__setattr__=function(i,F,K){if(F=="@mixins"){F="__mixins__"}if(D.indexOf(F)!=-1){if(!K||(typeof K!="object"&&typeof K!="function")){return}}var J=i.prototype,I=J.__properties__,H=i.__subclassesarray__,G=i.__constructing__;delete i[F];delete J[F];delete I[F];if(a.indexOf(F)!=-1){if(K&&(typeof K=="object"||typeof K=="function")){i[F]=K}}else{if(C.indexOf(F)!=-1){i[F]=J[F]=K}else{if(K==null){J[F]=K}else{if(K.__class__===undefined&&typeof K=="function"){J[F]=h(K);J[F].__setattr__("__name__",F);K.__name__=F;if(F=="initialize"){i[F]=h(K,false)}}else{if(K.__class__===j){K.__setattr__("__name__",F);I[F]=K;J[F]=undefined}else{if(K.__class__===h){J[F]=h(K.im_func);if(K.im_self==true){i[F]=K}}else{if(K.__class__===s){K.__setattr__("__name__",F);K.im_func.__name__=F;i[F]=J[F]=h(K.im_func,true);i.__classbasedmethods__.push(F)}else{if(K.__class__===c){K.__setattr__("__name__",F);K.im_func.__name__=F;i[F]=J[F]=K.im_func;i.__classbasedmethods__.push(F)}else{if(x.instanceOf(K,o)){i[F]=J[F]=K}else{J[F]=K}}}}}}}}}if(!G&&F in i&&H){H.forEach(function(L){if(!(F in L)){o.__setattr__(L,F,K)}})}};o.__delattr__=function(i,F){delete i[F];delete i.prototype[F];delete i.prototype.__properties__[F]};o.__getattribute__=function(i,F){if(F=="@mixins"){F="__mixins__"}var I=i.prototype;var G=I.__properties__;var H=i.__metaclass__;var J;if(F in i){J=i[F]}else{if(G&&G[F]!==undefined){J=G[F]}else{if(I[F]&&I[F].__class__==h){i[F]=J=h(I[F].im_func,false)}else{if(H&&(J=o.__getattribute__(H,F))!==undefined){if(J.__class__===h){J=h(J.im_func,true)}i[F]=J}else{J=I[F]}}}}return J};o.__constructs__=function(H){var J=H.length;if(J<1){throw new Error("bad arguments")}var G=null;var K=J>1?H[0]:Object;if(typeof K!="function"&&typeof K!="object"){throw new Error("base is not function or object")}if(K){if(!u){if(K===Array){K=f}else{if(K===String){K=t}}}}var L=H[J-1],F;if(typeof L!="function"&&typeof L!="object"){throw new Error("constructor is not function or object")}if(L instanceof Function){F=L;L={};F.call(L)}var I;if(this===Object){I=L.__metaclass__||K.__metaclass__||o}else{I=this}var i=I.__new__(I,G,K,L);if(!i||typeof i!="function"){throw new Error("__new__ method should return cls")}o.__getattribute__(I,"initialize").call(I,i,G,K,L);return i};o.initialize=function(){};Object.__class__=o;var x=this.Class=function(){return o.__constructs__.call(Object,arguments)};x.initMixins=function(I,F){if(!I){return}if(I.__base__){x.initMixins(I.__base__,F)}var H=I.__mixins__;if(H){F.__this__.mixining=true;for(var K=0,G=H.length,J;K<G;K++){J=H[K];if(J.prototype&&typeof J.prototype.initialize=="function"){J.prototype.initialize.call(F)}}delete F.__this__.mixining}};x.mixin=function(F,i){if(!F||typeof F!="object"){return}if(i===Array){i=f}else{if(i===String){i=t}}F.__mixins__=F.__mixins__||[];F.__mixins__.push(i)};x.hasProperty=function(F,i){return(F&&F.__properties__)?(i in F.__properties__):false};x.hasMember=function(i,F){if(!i){return false}if(F in i.prototype){return true}return false};x.isMethod=function(i){if(typeof i=="function"){if(!i.__class__||i.__class__==h||i.__class__==c||i.__class__==s){return true}}return false};x.getPropertyNames=function(i){return(i&&i.__properties__)?Object.keys(i.__properties__):[]};x.inject=function(i,J,G,H){if(typeof i!="function"){throw new Error("bad arguments.")}var F=arguments.length,K,I,L;if(F===2){G=[];H=true}else{if(F===3){if(Array.isArray(G)){H=true}else{H=G;G=[]}}}J.__class__=i;I=i.prototype,L=I.initialize;J.__properties__=I.__properties__;K=Object.__new__(i);E.extend(J,K,H);x.initMixins(i,J);if(typeof L=="function"){L.apply(J,G)}};x.instanceOf=function(G,F){if(typeof F!="function"){throw new Error("bad arguments.")}var i;if(typeof G=="function"){i=G.__class__;if(i){do{if(i===F){return true}}while(i=i.__base__)}}else{return G instanceof F}return false};x.getChain=function(F){if(!F){return[]}var i=[F];while(F.__base__){i.push(F.__base__);F=F.__base__}return i};x.getAllSubClasses=function(F){if(!F||!F.__subclassesarray__){return[]}var I=F.__subclassesarray__;var i=[].concat(I),H=i.shift(),G;while(H!=null){G=H.__subclassesarray__;if(G!=null){i=i.concat(G);I=I.concat(G)}H=i.shift()}return I};x.keys=function(i){if(!i||!i.prototype){return[]}var F=[];for(var G in i.prototype){F.push(G)}F=F.filter(function(H){if((H.indexOf("__")==0&&H.slice(-2)=="__")){return false}if(["get","set","_set","initialize","constructor"].indexOf(H)!=-1){return false}return true});return F};f=b(Array,["concat","indexOf","join","lastIndexOf","pop","push","reverse","shift","slice","sort","splice","unshift","valueOf","forEach","some","every","map","filter","reduce","reduceRight"]);f.prototype.length=0;t=b(String,["charAt","charCodeAt","concat","indexOf","lastIndexOf","match","replace","search","slice","split","substr","substring","toLowerCase","toUpperCase","valueOf","trim"]);t.prototype.length=0})(object);(function(v){var w="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+-.";function q(z,A,E,D){var C=A.length;for(var B=0,y=A.length;B<y;B++){if(E.indexOf(A.charAt(B))!=-1){if(B<C){C=B;break}}}z.got=A.substring(0,C);z.remained=(D?A.substring(C):A.substring(C+1));return z}function i(y,B){if(typeof y!="string"){return["","","","","",""]}var z="",A="",H="",C="",F="",E="",D=0;D=y.indexOf(":");if(D>0){if(y.substring(0,D)=="http"){z=y.substring(0,D).toLowerCase();y=y.substring(D+1)}else{for(D=0,len=y.length;D<len;D++){if(w.indexOf(y.charAt(D))==-1){break}}z=y.substring(0,D);y=y.substring(D+1)}}if(!z&&B){z=B}var G={};if(y.substring(0,2)=="//"){q(G,y.substring(2),"/?#",true);A=G.got;y=G.remained}if(y.indexOf("#")!=-1){q(G,y,"#");y=G.got;E=G.remained}if(y.indexOf("?")!=-1){q(G,y,"?");y=G.got;F=G.remained}if(y.indexOf(";")!=-1){q(G,y,";");H=G.got;C=G.remained}if(!H){H=y}return[z,A,H,C,F,E]}function k(z){if(!z){return""}var y="";if(z[0]){y+=z[0]+"://"+z[1]}if(z[1]&&z[2]&&z[2].indexOf("/")!=0){y+="/"}y+=z[2];if(z[3]){y+=";"+z[3]}if(z[4]){y+="?"+z[4]}if(z[5]){y+="#"+z[5]}return y}function m(C,A){if(!C){return A}if(!A){return C}A=String(A);C=String(C);var y=i(C);var D=i(A,y[0]);if(D[0]!=y[0]){return A}if(D[1]){return k(D)}D[1]=y[1];if(D[2].charAt(0)=="/"){return k(D)}if(!D[2]&&!D[3]){D[2]=y[2];D[3]=y[3];if(!D[4]){D[4]=y[4]}return k(D)}var z=y[2].split("/").slice(0,-1).concat(D[2].split("/"));var B;if(z[z.length-1]=="."){z[z.length-1]=""}for(B=0,l=z.length;B<l;B++){if(z[B]=="."){z.splice(B,1);B--}}while(true){B=1;n=z.length-1;while(B<n){if(z[B]==".."&&["",".."].indexOf(z[B-1])==-1){z.splice(B-1,2);break}B++}if(B>=n){break}}if(z.length==2&&z[0]==""&&z[1]==".."){z[z.length-1]=""}else{if(z.length>=2&&z[z.length-1]==".."){z.pop();z.pop();z.push("")}}D[2]=z.join("/");return k(D)}function b(){var A=window.location;var z=A.protocol+"//"+A.host+(A.pathname.charAt(0)!=="/"?"/":"")+A.pathname;if(z.indexOf("\\")!=-1){z=z.replace(/\\/g,"/")}var y="./";if(z.indexOf("/")!=-1){y=z.substring(0,z.lastIndexOf("/")+1)}return y}function c(D){D=D.replace(/([^:\/])\/+/g,"$1/");if(D.indexOf(".")===-1){return D}var C=D.split("/");var z=[];for(var B=0,A,y=C.length;B<y;B++){A=C[B];if(A===".."){if(z.length===0){throw new Error("invalid path: "+D)}z.pop()}else{if(A!=="."){z.push(A)}}}return z.join("/").replace(/#$/,"")}function x(y){this.__name__=y}x.prototype.toString=function(){return"<module '"+this.__name__+"'>"};function d(y){this.message="no module named "+y}d.prototype=new Error();function s(y,z){this.message=z.id+": module "+y+" required"}s.prototype=new Error();function h(y,z){this.runStack=y;var A="";y.forEach(function(B,C){A+=B.module.id+"-->"});A+=z.id;this.message=A+" cyclic dependency."}h.prototype=new Error();function f(A,z,y){o.apply(this,arguments)}f.prototype=new o();f.prototype.constructor=f;f.prototype.make=function(A,B,E,D){var y=new x(A);D.modules[A]=y;D.packages[A]=this;var z=this.createRequire(A,B,E,D);var C=this.factory.call(y,z,y,this);if(C){C.__name__=y.__name__;y=C}D.addModule(A,y);return y};f.prototype.execute=function(z,A,B){if(B.getStackItem(z)){return null}var C=B.loadings[this.id].deps;B.pushStack(z,this);var y=this.make(z,A,C,B);if(z=="__main__"&&typeof y.main=="function"){y.main()}B.popStack();return y};f.prototype.toDep=function(z,A){var y=this.dependencies[z];if(y.indexOf("/")==-1&&y.indexOf(".")!=-1){return new j(y,this,A)}else{return new p(y,this,A)}};f.prototype.createRequire=function(y,z,G,C){var F=C.loader;var E=this;var B=y;var D=z;function A(J){var I=E.dependencies.indexOf(J);if(I==-1){throw new s(J,E)}var K=G[I];var H=K.execute(B,D);if(!H){if(E.dependencies.indexOf(J)!=-1){throw new h(C.stack,F.lib[K.id])}else{console.warn("Unknown Error.")}}return H}A.async=function(H,J){C.loader.buildFileLib();var I=E.id+"~"+new Date().getTime()+Math.floor(Math.random()*100);C.loader.defineModule(f,I,H,function(M,K,N){var L=[];N.dependencies.forEach(function(O){L.push(M(O))});J.apply(null,L)});C.loadModule(I,function(){var K=C.loader.lib[I];K.execute(K.id,z,C)})};return A};function t(A,z,y){o.apply(this,arguments)}t.prototype=new o();t.prototype.constructor=t;t.prototype.make=function(A,B,E,D){var C;var z=[];var y;E.forEach(function(G){var F=G.execute(A,B);if(z.indexOf(F)==-1){z.push(F)}},this);y=D.modules[A];if(!y){y=new x(A);D.modules[A]=y;D.packages[A]=this}z.unshift(y);if(this.factory){C=this.factory.apply(y,z)}if(C){if(y.__empty_refs__){y.__empty_refs__.forEach(function(F){if(typeof console!="undefined"){console.warn(F+"无法正确获得"+A+"模块的引用。因为该模块是通过return返回模块实例的。")}})}C.__name__=y.__name__;y=C}else{delete y.__empty_refs__}D.addModule(A,y);return y};t.prototype.execute=function(z,A,C){var y;var B;var D;if(C.getStackItem(z)){if(!(z in C.modules)){C.addModule(z,new x(z));C.packages[z]=this}y=C.modules[z];B=C.stack[C.stack.length-1];if(!y.__empty_refs__){y.__empty_refs__=[]}y.__empty_refs__.push(B.module.id)}else{D=C.loadings[this.id].deps;C.pushStack(z,this);y=this.make(z,A,D,C);if(z=="__main__"&&typeof y.main=="function"){y.main()}C.popStack()}return y};t.prototype.toDep=function(z,A){var y=this.dependencies[z];if(y.indexOf("/")!=-1){return new p(y,this,A)}else{return new j(y,this,A)}};function o(A,z,y){if(!A){return}this.id=A;this.factory=y;this.dependencies=this.parseDependencies(z)}o.prototype.load=function(B,D){var C=[];var z=this;var y=-1;function A(){y++;if(y==z.dependencies.length){if(D){D()}}}this.dependencies.forEach(function(E,F){var G=this.toDep(F,B);C.push(G);G.load(A)},this);B.loadings[this.id].deps=C;B.loadings[this.id].callbacks.forEach(function(E){E()});B.loadings[this.id].callbacks=[];A()};o.prototype.execute=function(z,A,B){if(B.getStackItem(z)){throw new h(B.stack)}var y=new x(z);if(this.id==="sys"){y.modules=B.modules;y.stack=B.stack;y.getModule=function(C){return B.packages[C]}}B.addModule(z,y);B.packages[z]=this;return y};o.prototype.parseDependencies=function(y){if(Array.isArray(y)){return y}if(!y){return[]}y=y.trim().replace(/^,*|,*$/g,"").split(/\s*,\s*/ig);return y};function a(z,y,A){if(!z){return}this.owner=y;this.runtime=A;this.name=z}function p(y,B,D){a.apply(this,arguments);var F=D.loader;var C,z,A;var G=F.paths;var E=this.getType(y);if(E=="absolute"){z=y}else{if(E=="relative"){C=F.find(m(m(B.id,"."),y),G);z=C.id;A=C.context}else{if(E=="root"){z=m(g._pageDir,y)}else{C=F.find(y,G);z=C.id;A=C.context}}}this.id=z;this.context=A||"";this.type=E}p.prototype=new a();p.prototype.getType=function(y){if(~y.indexOf("://")||y.indexOf("//")===0){return"absolute"}if(y.indexOf("./")===0||y.indexOf("../")===0){return"relative"}if(y.charAt(0)==="/"&&y.charAt(1)!=="/"){return"root"}return"top-level"};p.prototype.constructor=p;p.prototype.load=function(y){this.runtime.loadModule(this.id,y)};p.prototype.execute=function(E,z){var C=this.runtime;var y=C.loader;var D;if(this.type=="top-level"){D=this.name}else{if(this.type=="relative"){D=this.id.slice(z.length)}else{D=this.id}}if(D.slice(-3)==".js"){D=D.slice(0,-3)}var A=C.modules[D];var B,F;if(!A){B=y.lib[this.id];A=B.execute(D,this.context,C)}return A};function j(y,B,D){a.apply(this,arguments);var F=D.loader;var G=D.path.concat([D.moduleId]);var E=false;var C=F.find(y.replace(/\./g,"/"),G,B.id);var A=C.id;var z=C.context;if(z==""){E=true;z=m(m(B.id,"."),z)}this.nameParts=this.name.split(".");this.id=A;this.context=z;this.isRelative=E}j.prototype=new a();j.prototype.constructor=j;j.prototype.load=function(D){var B=this.runtime;var y=B.loader;var C=this.nameParts;var z=-1;function A(){z++;if(z==C.length){if(D){D()}}}C.forEach(function(E,F){var H,G;if(F==C.length-1){H=this.id}else{G=y.find(m(this.context,C.slice(0,F+1).join("/")));H=G.id;if(!G.found){H=H+"/index.js";y.definePrefix(H)}}B.loadModule(H,A)},this);A()};j.prototype.execute=function(J,B){var C=this;var L=this.runtime;var E=L.loader;var y=this.context||"";var G=this.nameParts;var M,I;if(this.isRelative){I=J.lastIndexOf(".");if(I==-1){M=""}else{M=J.slice(0,I)}}else{M=""}var D=M;var P;var A=(M?M+".":"")+G[0];var F,z,O;for(var N=0,K=G.length,H;N<K;N++){H=G[N];P=(D?D+".":"")+H;if(!(P in L.modules)){if(N==G.length-1){F=C.id}else{F=E.find(m(y,G.slice(0,N+1).join("/"))).id}z=E.lib[F];O=z.execute(P,y,L);L.setMemberTo(D,H,O)}D=P}return L.modules[A]};function u(y){this.modules={};this.packages={};this.loadings={};this.stack=[];this.members={};this.moduleId=y;this.path=[""]}u.prototype.addModule=function(A,z){z=z||new x(A);this.modules[A]=z;var y=this.members[A];if(y){y.forEach(function(B){this.modules[A][B.id]=B.value},this)}return z};u.prototype.loadModule=function(D,C){var A=this;var y=this.loader;if(D in this.loadings){if(this.loadings[D].deps){C()}else{this.loadings[D].callbacks.push(C)}return}this.loadings[D]={deps:null,callbacks:[]};var z=y.lib[D];if(!z){throw new d(D)}function B(){var F=z.id;var E=z.file;z=y.lib[F];if(!z||!z.factory){throw new Error(E+" do not add "+F)}z.load(A,C)}if(z.file){g.loadScript(z.file,B,true)}else{z.load(this,C)}};u.prototype.getStackItem=function(z){var y;this.stack.some(function(A){if(A.id==z){y=A;return true}});return y};u.prototype.pushStack=function(z,y){this.stack.push({id:z,module:y})};u.prototype.popStack=function(){this.stack.pop()};u.prototype.setMemberTo=function(y,A,z){if(y){if(this.modules[y]){this.modules[y][A]=z}else{if(!this.members[y]){this.members[y]=[]}this.members[y].push({id:A,value:z})}}};function g(y){this.useCache=true;this.anonymousModuleCount=0;this.base=y||"/";this.lib={};this.paths=[this.base];this.scripts=document.getElementsByTagName("script");this.lib.sys=new o("sys")}g._urlNodeMap={};g._pageDir=null;g.getAbsolutePath=function(y){if(y.indexOf("://")!=-1||y.indexOf("//")===0){return c(y)}if(!g._pageDir){g._pageDir=b()}return c(g._pageDir+y)};g.prototype.name2id=function(A,z){if(typeof A!="string"){return""}var C,B,y;if(A.indexOf("/")==-1){C=A.replace(/\./g,"/")}else{C=A}if(z&&A.lastIndexOf("/")!=A.length-1){y=C.lastIndexOf(".");if(y!=-1){B=C.slice(y)}else{B=""}if(!B){C+=".js"}}return C};g.prototype.find=function(z,G,A){var F=this;var B=z.slice(z.lastIndexOf("."));if(!G){G=this.paths}var C=null;var E=null;function D(I){var H;if(H=F.lib[I]||F.lib[I+".js"]||F.lib[I+"/index.js"]){return H.id}}function y(I){var H=D(m(m(A,I),z));if(H){C=H;E=I;return true}}G.some(y);return{found:!!C,id:C||z,context:E}};g.prototype.buildFileLib=function(){var y=this.scripts;for(var B=0,A,C,D,z=y.length;B<z;B++){A=y[B];D=A.getAttribute("data-src");C=A.getAttribute("data-module");if(!C||!D){continue}C.trim().split(/\s+/ig).forEach(function(E){this.defineFile(m(this.base,this.name2id(E,true)),D)},this)}};g.loadScript=function(E,F,z){if(!E||typeof E!="string"){throw new Error("bad arguments.")}E=E.trim();var B=g.getAbsolutePath(E);if(z){var A=g._urlNodeMap,y=A[B];if(y){if(y.loading){y.callbacks.push(F)}else{F(y)}return}}var D=document.createElement("script");D.type="text/javascript";D.src=E;D.async=true;D.loading=true;D.callbacks=[];var C=function(){D.loading=null;D.callbacks.forEach(function(I){I(D)});for(var H=0,G=D.callbacks.length;H<G;H++){D.callbacks[H]=null}D.callbacks=null;D=null};D.callbacks.push(F);if(window.ActiveXObject){D.onreadystatechange=function(){var G=this.readyState;if("loaded"===G||"complete"===G){D.onreadystatechange=null;C()}}}else{if(D.addEventListener){D.addEventListener("load",C,false);D.addEventListener("error",C,false)}else{D.onload=D.onerror=C}}document.getElementsByTagName("head")[0].insertBefore(D,null);if(z){A[B]=D}};g.prototype.removeScript=function(B){if(!B||typeof B!="string"){throw new Error("bad arguments.")}B=B.trim();var A=g.getAbsolutePath(B);var z=g._urlNodeMap,y=z[A];if(y){delete z[A];if(y.parentNode){y.parentNode.removeChild(y)}y=null}};g.prototype.createRuntime=function(z){var y=new u(z);y.loader=this;y.path=y.path.concat(this.paths);return y};g.prototype.definePrefix=function(y){if(!y||typeof y!="string"){return}if(y in this.lib){return}this.lib[y]=new o(y)};g.prototype.defineFile=function(A,z){if(!A||typeof A!="string"){return}if(A in this.lib&&(this.lib[A].factory||this.lib[A].file)){return}var y=new o(A);y.file=z;this.lib[A]=y};g.prototype.defineModule=function(A,C,B,y){if(arguments.length<4){return}if(C in this.lib&&this.lib[C].factory){return}var z=new A(C,B,y);this.lib[C]=z};g.prototype.getModule=function(y){var z=this.find(this.name2id(y)).id;if(z in this.lib){return this.lib[z]}return null};g.prototype.predefine=function(y,A,z){if(!y||!A){return}z=z||"";y.trim().split(/\s+/ig).forEach(function(B){B=z+B;this.defineFile(m(this.base,this.name2id(B,true)),A)},this)};g.prototype.define=function(z,A,y){if(typeof z!="string"){return}if(typeof A=="function"){y=A;A=[]}var B=m(this.base,this.name2id(z,true));this.defineModule(f,B,A,y)};g.prototype.add=function(z,A,y){if(typeof z!="string"){return}if(typeof A=="function"){y=A;A=[]}var B=m(this.base,this.name2id(z,true));this.defineModule(t,B,A,y)};g.prototype.remove=function(y,z){var A=m(this.base,this.name2id(y,true));delete this.lib[A];if(z){y=y.charAt(y.length-1)=="/"?y:y+"/";A=m(this.base,this.name2id(y));Object.keys(this.lib).forEach(function(B){if(B.indexOf(A)==0){delete this.lib[B]}},this)}};g.prototype.clear=function(){for(var y in this.lib){if(y!="sys"){this.remove(y)}}};g.prototype.execute=function(y){if(!y||typeof y!="string"){return}this.buildFileLib();var B=this.find(this.name2id(y));var C=B.id;var z=B.context;var A=this.createRuntime(C,z);v.runtime=A;A.loadModule(C,function(){var D=A.loader.lib[C];D.execute("__main__",z,A)});v.runtime=null};g.prototype.use=function(A,y){if(!y||typeof y!="function"){return}this.buildFileLib();var B="__anonymous_"+this.anonymousModuleCount+"__";this.anonymousModuleCount++;this.defineModule(f,B,A,function(E,C,F){var D=[];F.dependencies.forEach(function(G){dep=E(G);if(D.indexOf(dep)==-1){D.push(dep)}});if(y.length==D.length+1){if(typeof console!="undefined"){console.warn("object.use即将不再支持第一个exports参数，请尽快删除。")}D.unshift(C)}y.apply(null,D)});var z=this.createRuntime(B);v.runtime=z;z.loadModule(B,function(){var C=z.loader.lib[B];C.execute("__main__","",z)});v.runtime=null};v.Loader=g;v.NoModuleError=d;v.ModuleRequiredError=s})(object);(function(b){var a=new b.Loader("http://pub.objectjs.org/object/");b._loader=a;b.add=a.add.bind(a);b.predefine=a.predefine.bind(a);b.define=a.define.bind(a);b.remove=a.remove.bind(a);b.use=a.use.bind(a);b.execute=a.execute.bind(a);b.addPath=function(c){a.paths.push(c)};b.define("./window.js","sys",function(c){var d=c("sys");var f=d.modules.dom;if(f){f.wrap(window)}return window});b.define("./loader.js",function(d,c){c.Loader=b.Loader})})(object);object.add("ua/index.js",function(a){var c=this.numberify=function(f){if(!f||typeof f!="string"){}var g=0;return parseFloat(f.replace(/\./g,function(){return(g++===0)?".":""}))};this.__detectUA=b;this.ua={};var d=b(navigator.userAgent);object.extend(this.ua,d);function b(j){if(!j&&typeof j!="string"){j=navigator.userAgent}var f,h;var k={},g,i;if(j.indexOf("Trident/7.0")>-1){k[g="ie"]=document.documentMode;k[i="ieshell"]=11}else{if(!~j.indexOf("Opera")&&(f=j.match(/MSIE\s([^;]*)/))&&f[1]){if((h=j.match(/Trident\/([\d\.]*)/))&&h[1]){k[g="ie"]=document.documentMode;k[i="ieshell"]=c(h[1])+4}else{k[i="ieshell"]=k[g="ie"]=c(f[1])}}else{if((f=j.match(/AppleWebKit\/([\d\.]*)/))&&f[1]){k[g="webkit"]=c(f[1])}else{if(!~j.indexOf("Opera")&&(f=j.match(/Gecko/))){k[g="gecko"]=0;if((f=j.match(/rv:([\d\.]*)/))&&f[1]){k[g]=c(f[1])}}else{if((f=j.match(/Presto\/([\d\.]*)/))&&f[1]){k[g="presto"]=c(f[1])}}}if((f=j.match(/Chrome\/([\d\.]*)/))&&f[1]){k[i="chrome"]=c(f[1])}else{if((f=j.match(/\/([\d\.]*)( Mobile\/?[\w]*)? Safari/))&&f[1]){k[i="safari"]=c(f[1])}else{if(/\/[\d\.]* \(KHTML, like Gecko\) Safari/.test(j)){k[i="safari"]=undefined}else{if(!~j.indexOf("Opera")&&(f=j.match(/Firefox\/([\d\.]*)/))&&f[1]){k[i="firefox"]=c(f[1])}else{if((f=j.match(/Opera\/([\d\.]*)/))&&f[1]){k[i="opera"]=c(f[1]);if((f=j.match(/Opera\/.* Version\/([\d\.]*)/))&&f[1]){k[i]=c(f[1])}}else{if((f=j.match(/Opera ([\d\.]*)/))&&f[1]){g="presto";k[i="opera"]=c(f[1])}}}}}}}}k.shell=i;k.core=g;return k}});object.add("./string.js",function(a){this.substitute=function(){return Mustache.to_html.apply(null,arguments)};this.camelCase=function(b){return b.replace(/-\D/g,function(c){return c.charAt(1).toUpperCase()})};this.hyphenate=function(b){return b.replace(/[A-Z]/g,function(c){return("-"+c.charAt(0).toLowerCase())})};this.capitalize=function(b){return b.replace(/\b[a-z]/g,function(c){return c.toUpperCase()})};this.trim=function(b){return(b||"").replace(/^\s+|\s+$/g,"")};this.ltrim=function(b){return(b||"").replace(/^\s+/,"")};this.rtrim=function(b){return(b||"").replace(/\s+$/,"")};this.lengthZh=function(b){return b.length};this.toQueryString=function(d){var h=[];for(var f in d){var g=d[f];var c;if(g&&g.constructor===Array){var b={};g.forEach(function(k,j){b[j]=k});c=arguments.callee(b,f)}else{if(typeof g=="object"){c=arguments.callee(g,f)}else{c=f+"="+encodeURIComponent(g)}}if(g!==null){h.push(c)}}return h.join("&")}});object.define("./events.js","ua",function(c,a){var d=c("ua");var f=(function(){if(document.createEvent){var i=document.createEvent("Event");i.initEvent(type,false,true);if(i.preventDefault){i.preventDefault();return !(i.getPreventDefault?i.getPreventDefault():i.defaultPrevented)}else{return true}}return false})();function g(){}g.prototype.stopPropagation=function(){this.cancelBubble=true};g.prototype.preventDefault=function(){this.returnValue=false};g.prototype.getPreventDefault=function(){return this.returnValue===false};g.prototype.stop=function(){this.stopPropagation();this.preventDefault()};this.fireevent=function(j){var i,o,m;var k=function(p){var w=arguments.callee.__name__;if(!i){i=w}var v={};var q=Array.prototype.slice.call(arguments,1);if(m){for(var s=0;s<m.length;s++){v[m[s]]=arguments[s+1]}}v._args=q;var u=p.fireEvent(i,v,p);var x=p[w+"_createEvent"];if(x){q.unshift(u);x.apply(p,q)}var t=u.getPreventDefault?u.getPreventDefault():u.defaultPrevented;if(!t){return o.apply(this,arguments)}};if(typeof j=="function"){o=j;return k}else{if(Array.isArray(arguments[0])){m=arguments[0]}else{i=j;if(arguments[1]){m=arguments[1]}}return function(p){o=p;return k}}};this.HOLD=2;this.CAPTURE=1;this.wrapEvent=function(i){i.target=i.srcElement;i.stopPropagation=g.prototype.stopPropagation;i.preventDefault=g.prototype.preventDefault;i.getPreventDefault=g.prototype.getPreventDefault;i.stop=g.prototype.stop;return i};this.wrapPreventDefault=function(i){if(f){var j=i.preventDefault;i.preventDefault=function(){this.defaultPrevented=true;j.apply(this,arguments)}}};var h={click:2,dblclick:2,mouseup:2,mousedown:2,contextmenu:2,mousewheel:2,DOMMouseScroll:2,mouseover:2,mouseout:2,mousemove:2,selectstart:2,selectend:2,keydown:2,keypress:2,keyup:2,orientationchange:2,touchstart:2,touchmove:2,touchend:2,touchcancel:2,gesturestart:2,gesturechange:2,gestureend:2,focus:2,blur:2,change:2,reset:2,select:2,submit:2,paste:2,oninput:2,load:2,unload:1,beforeunload:2,resize:1,move:1,DOMContentLoaded:1,readystatechange:1,error:1,abort:1,scroll:1};function b(j,i){if(j.nativeEventNames){return j.nativeEventNames.indexOf(i)!=-1}return i in h}this.Events=new Class(function(){function k(w,y){var x=v(w,y);if(w.__nativeEvents&&w.__nativeEvents[y]){x.removeEventListener(y,w.__nativeEvents[y].run,false);x.addEventListener(y,w.__nativeEvents[y].run,false)}}function q(w,y){var x=v(w,y);x.attachEvent("on"+y,function(B){B=a.wrapEvent(B||window.event);var A=w.__eventListeners?w.__eventListeners[y]:null;if(A){A=A.slice(0);A.forEach(function(C){try{C.call(w,B)}catch(D){j(D)}});A=null}var z=w.__nativeEvents?w.__nativeEvents[y]:null;if(z){z=z.slice(0);z.forEach(function(C){C.call(w,B)});z=null}})}function s(w,z){if(z in h&&w.nodeType==1){return}var y=typeof z=="string"?z.toLowerCase():z;var x=v(w,z);var B=w["on"+y],A=x["__on"+y];if(!B&&A){x.removeEventListener(z,A,false);x["__on"+y]=null}else{if(B&&B!=A){x.removeEventListener(z,A,false);x.addEventListener(z,B,false);x["__on"+y]=B}}}function u(y,B){if(y.nodeType==1&&b(y,B)&&i(y)){return}var z=typeof B=="string"?B.toLowerCase():B;if(!y.__eventListeners){y.__eventListeners={}}if(!y.__eventListeners[B]){y.__eventListeners[B]=[]}var x=y.__eventListeners[B];var w=x.length;var D=y["on"+z],C=y["__on"+z];if(!D&&C){for(var A=0;A<w;A++){if(x[A]==C){x.splice(A,1);break}}y["__on"+z]=null}else{if(D&&D!=C){for(var A=0;A<w;A++){if(x[A]==C){x.splice(A,1);break}}x.push(D);y["__on"+z]=D}}}function i(x){if(!x){return false}var w=x.parentNode;var y=document.documentElement;while(w){if(w==y){return true}w=w.parentNode}return false}function t(w,y,x){if(!w["__preEventAdded_"+y]){w["__preEventAdded_"+y]=true;if(w["on"+y]){w["__on"+y]=w["on"+y];w["on"+y]=null}w.addEventListener(y,function(A){a.wrapPreventDefault(A)},x);if(w["__on"+y]){w["on"+y]=w["__on"+y];w["__on"+y]=null;try{delete w["__on"+y]}catch(z){}}}}var o=typeof console!="undefined"&&console.error;var p=[];function j(w){if(o){p.length=0;for(var x in w){p.push(x+":"+w[x]);p.push(", ")}if(p.length>0){p.pop()}console.error(w,p.join(""))}}this.initialize=function(w){if(!w.addEventListener||(w==window&&d.ua.ie==9)){if(!w.__eventListeners){w.__eventListeners={}}if(!w.__nativeEvents){w.__nativeEvents={}}}if(!w.addEventListener&&!w.attachEvent||(w==window&&d.ua.ie==9)){w.__boss=document.createElement("div")}};this.addEvent=document.addEventListener?function(w,A,B,z){var x=v(w,A);if(z===null){z=false}z=!!(z&a.CAPTURE);if(!d.ua.ie&&(A=="mouseenter"||A=="mouseleave")){var y=B;B=function(C){if(y.delegating){y.call(w,C);return}var E=C.relatedTarget;while(E&&E!=w){try{E=E.parentNode}catch(D){E=w}}if(E!==w&&y){y.call(w,C)}};B.innerFunc=y;A=(A=="mouseenter"?"mouseover":"mouseout");if(!w.__eventListeners){w.__eventListeners={}}if(!w.__eventListeners[A]){w.__eventListeners[A]=[]}w.__eventListeners[A].push(B)}if(f){t(x,A,z)}s(w,A);x.addEventListener(A,B,z);k(w,A)}:function(x,z,A){var y=v(x,z);var w;if(!x.__eventListeners){x.__eventListeners={}}if(!x.__eventListeners[z]){w=[];x.__eventListeners[z]=w;if(!x.__nativeEvents||!x.__nativeEvents[z]){q(x,z)}}else{w=x.__eventListeners[z]}if(w.some(function(B){return B===A})){return}u(x,z);w.push(A)};this.addNativeEvent=document.addEventListener?function(x,z,A){var y=v(x,z);if(f){t(y,z,false)}var w;if(!x.__nativeEvents){x.__nativeEvents={}}if(!x.__nativeEvents[z]){w=[];x.__nativeEvents[z]=w;x.__nativeEvents[z].run=function(B){w.forEach(function(C){C.call(x,B)})};k(x,z)}else{w=x.__nativeEvents[z]}w.push(A)}:function(x,z,A){var y=v(x);var w;if(!x.__nativeEvents){x.__nativeEvents={}}if(!x.__nativeEvents[z]){w=[];x.__nativeEvents[z]=w;if(!x.__nativeEvents||!x.__eventListeners[z]){q(x,z)}}else{w=x.__nativeEvents[z]}if(w.some(function(B){return B===A})){return}w.push(A)};this.removeEvent=document.removeEventListener?function(E,C,x,D){var A=v(E,C);D=!!(D&a.CAPTURE);if(!d.ua.ie&&C=="mouseleave"){C="mouseout";if(E.__eventListeners&&E.__eventListeners[C]){var w=E.__eventListeners[C];for(var z=0,B,y=w.length;z<y;z++){B=w[z];if(B.innerFunc===x){A.removeEventListener(C,B,D);w.splice(z,1);break}}}}else{A.removeEventListener(C,x,D)}}:function(x,B,C,A){var y=v(x,B);if(!x.__eventListeners){x.__eventListeners={}}var w=x.__eventListeners[B];if(!w){return}for(var z=0;z<w.length;z++){if(w[z]===C){w.splice(z,1);break}}};var m=["error","unload","scroll","resize","load","beforeunload","blur","focus","storage","popstate","hashchange","message","redo","undo"];function v(w,x){if(d.ua.ie!=9||w!=window){return w.__boss||w}if(m.indexOf(x)!=-1){return w}else{return w.__boss}}this.fireEvent=document.dispatchEvent?function(w,y,A){if(!d.ua.ie){if(y=="mouseleave"){y="mouseout"}else{if(y=="mouseenter"){y="mouseover"}}}s(w,y);var x=v(w,y);var z=document.createEvent("Event");z.initEvent(y,false,true);object.extend(z,A);a.wrapPreventDefault(z);x.dispatchEvent(z);return z}:function(G,E,F){if(!F){F={}}if(G.nodeType==1&&b(G,E)){var w=a.wrapEvent(document.createEventObject());object.extend(w,F);if(i(G)){var y=G["__on"+E];var x=G.__eventListeners[E];if(y&&x){for(var C=0,z=x.length;C<z;C++){if(x[C]==y){x.splice(C,1);break}}G["__on"+E]=null}if(G._oldFireEventInIE){G._oldFireEventInIE("on"+E,w);return w}else{if(typeof console!="undefined"){console.warn("请使用dom.wrap方法包装对象以添加事件处理函数")}}}}u(G,E);var w=a.wrapEvent(F);var x=G.__eventListeners[E];if(x){x=x.slice(0);for(var C=0,B=x.length;C<B;C++){if(x[C]){try{x[C].call(G,w,true)}catch(D){j(D)}}}x=null}var A=G.__nativeEvents[E];if(A){A=A.slice(0);A.forEach(function(H){H.call(G,w)});A=null}return w}})});object.add("./options.js",function(b){var a=true,c=Array.prototype.slice;for(var d in {toString:1}){a=null}if(a){a=["hasOwnProperty","valueOf","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","constructor"]}this.overloadsetter=function(f){return function(){var h=arguments[f.length-2]||null;var g=arguments[f.length-1];var o=args=c.call(arguments,0,f.length-2);if(h===null){return this}if(typeof h!="string"){for(var j in h){args=o.slice(0);args.push(j);args.push(h[j]);f.apply(this,args)}if(a){for(var m=a.length;m>0;m--){j=a[m];if(h.hasOwnProperty(j)){f.call(this,j,h[j])}}}}else{args.push(h);args.push(g);f.apply(this,args)}return this}};this.Arguments=new Class(function(){this.initialize=function(g,j,i){if(i==undefined){i={}}var f={};for(var h in j){f[h]=(i[h]!=undefined?i[h]:j[h])}return f}});this.Options=new Class({initialize:function(f,g){if(g){f._provider=g}f._options={}},setOptions:function(f,g,j){if(!j){j=f._options}for(var h in g){if(h in j){j[h]=g[h]}}},setOption:function(f,g,h,i){if(i!==undefined){f._options[g]=i}else{if(f._provider&&f._provider.makeOption){i=f._provider.makeOption(g,h);if(i===null){return}else{f._options[g]=i}}}},getOptions:function(f){return f._options}})});object.define("dom/index.js","ua, events, string, net",function(require,exports,module){var ua=require("ua"),events=require("events"),string=require("string"),net=require("net");window.UID=1;var storage={};var get=function(uid){return(storage[uid]||(storage[uid]={}))};var $uid=this.$uid=(window.ActiveXObject)?function(item){if(item===undefined||item===null){return null}return(item.uid||(item.uid=[window.UID++]))[0]}:function(item){if(item===undefined||item===null){return null}return item.uid||(item.uid=window.UID++)};$uid(window);$uid(document);function doScrollLeft(){if(window.__domLoaded){runHooks();return}if(!document.documentElement||!document.documentElement.doScroll){return}try{document.documentElement.doScroll("left")}catch(e){setTimeout(doScrollLeft,1);return}doDomReady()}function doCheckReadyState(){var timer=null;timer=setInterval(function(){if(/loaded|complete/.test(document.readyState)){clearInterval(timer);doDomReady()}},1)}function doDomReady(){if(!window.__domLoaded){window.__domLoaded=true}runHooks()}if(!window.__domLoaded&&!window.__domreadyAdded){window.__domreadyAdded=true;window.__domLoaded=false;window.__domloadHooks=[];if(document.addEventListener){document.addEventListener("DOMContentLoaded",function(){document.removeEventListener("DOMContentLoaded",arguments.callee,false);window.__domLoaded=true},false)}else{if(window.attachEvent){document.attachEvent("onreadystatechange",function(){if(document.readyState==="complete"){document.detachEvent("onreadystatechange",arguments.callee);doDomReady()}});window.attachEvent("onload",doDomReady);tryDomReady()}}}function tryDomReady(){if(ua.ua.webkit&&ua.ua.webkit<525){doCheckReadyState()}else{if(ua.ua.ie){var toplevel=false;try{toplevel=window.frameElement==null}catch(e){}if(toplevel){doScrollLeft()}}}}function runHooks(){var callbacks=window.__domloadHooks;var fn;while(callbacks[0]){try{fn=callbacks.shift();fn()}catch(e){if(XN&&XN.DEBUG_MODE){throw e}}}}this.ready=function(callback){if(typeof callback!="function"){return}if(window.__domLoaded==true){callback();return}if(document.readyState=="complete"){window.__domLoaded=true;runHooks();callback();return}if((ua.ua.webkit&&ua.ua.webkit<525)||!document.addEventListener){window.__domloadHooks.push(callback)}else{if(document.addEventListener){document.addEventListener("DOMContentLoaded",callback,false)}}};var WRAPPED={};var wrap=this.wrap=function(node){if(!node){return null}if(Array.isArray(node)){return new exports.Elements(node)}else{if(node._wrapped){return node}if(ua.ua.ie&&node.fireEvent){node._oldFireEventInIE=node.fireEvent}var wrapper;if(node===window){wrapper=exports.Window}else{if(node===window.document){wrapper=exports.Document}else{if(node.nodeType===1){wrapper=getWrapper(node.tagName)}else{return node}}}node._wrapped=WRAPPED;$uid(node);Class.inject(wrapper,node,function(prop,dest,src){if(typeof src[prop]!="function"){return(!(prop in dest))}else{return true}});return node}};this.getElements=function(selector,context){if(!selector||typeof selector!="string"){return null}if(!context){context=document}return new exports.Elements(Sizzle(selector,context));var parsed=Slick.parse(selector);var eles=Sizzle(selector,context);var wrapper,part;if(parsed.expressions.length==1){part=parsed.expressions[0];wrapper=getWrapper(part[part.length-1].tag)}else{for(var i=0,chain,previousChain;i<parsed.expressions.length;i++){part=parsed.expressions[i];wrapper=getWrapper(part[part.length-1].tag);chain=Class.getChain(wrapper).slice(0,-1).reverse();if(previousChain){chain=getCommon(chain,previousChain)}if(chain.length==1){break}previousChain=chain}wrapper=chain[chain.length-1]}return new exports.Elements(eles,wrapper)};this.getElement=function(selector,context){if(!selector||typeof selector!="string"){return null}if(!context){context=document}var ele=Sizzle(selector,context)[0];ele=wrap(ele);return ele};this.id=function(id){return exports.wrap(document.getElementById(id))};var eval_inner_JS=this.eval_inner_JS=function(ele){if(!ele){return}if(typeof ele=="string"){var node=document.createElement("div");node.innerHTML="<div>&nbsp;</div> "+ele;ele=node}var js=[];if(ele.nodeType==11){for(var i=0,l=ele.childNodes.length,current;i<l;i++){current=ele.childNodes[i];if(current.tagName&&current.tagName.toUpperCase()=="SCRIPT"){js.push(current)}else{if(current.nodeType===1){var subScripts=current.getElementsByTagName("script");for(var j=0,subLength=subScripts.length;j<subLength;j++){js.push(subScripts[j])}}}}}else{if(ele.nodeType==1){if(ele.tagName&&ele.tagName.toUpperCase()=="SCRIPT"){js.push(ele)}else{js=ele.getElementsByTagName("script")}}}var arr=[];for(i=0;i<js.length;i++){arr.push(js[i])}arr.forEach(function(s,i){if(s.src){return}else{var inner_js="__inner_js_out_put = [];\n";inner_js+=s.innerHTML.replace(/document\.write/g,"__inner_js_out_put.push");eval(inner_js);if(__inner_js_out_put.length!==0){var tmp=document.createDocumentFragment();var div=document.createElement("div");div.innerHTML=__inner_js_out_put.join("");while(div.firstChild){tmp.appendChild(div.firstChild)}s.parentNode.insertBefore(tmp,s)}}})};var _supportUnknownTags=(function(){var t=document.createElement("div");t.innerHTML="<TEST_TAG></TEST_TAG>";return !(t.firstChild===null)})();var _supportNamedItemSync=(function(){if(ua.ua.ie<8){return false}return true})();var _supportPlaceholder="placeholder" in document.createElement("input");var _supportNaturalWH="naturalWidth" in document.createElement("img");var _supportHTML5Forms="checkValidity" in document.createElement("input");var _supportHidden="hidden" in document.createElement("div");var _supportMultipleSubmit="formAction" in document.createElement("input");var _supportSelectionStart="selectionStart" in document.createElement("input");var nativeproperty=function(){var prop=property(function(self){var attr=prop.__name__;attr=attr.replace(/^prop_/,"");return self[attr]},function(self,value){var attr=prop.__name__;attr=attr.replace(/^prop_/,"");self._set(attr,value)});return prop};var attributeproperty=function(defaultValue,attr){var prop=property(function(self){if(!attr){attr=prop.__name__.toLowerCase()}attr=attr.replace(/^prop_/,"");var value=self.getAttribute(attr);return value!=null&&value!=="undefined"?value:defaultValue},function(self,value){if(!attr){attr=prop.__name__.toLowerCase()}attr=attr.replace(/^prop_/,"");if(!value){value=""}self.setAttribute(attr,value)});return prop};this.getDom=function(str){var tmp=document.createElement("div");var result=document.createDocumentFragment();if(!_supportUnknownTags){tmp.style.display="none";document.body.appendChild(tmp)}tmp.innerHTML=str;while(tmp.firstChild){result.appendChild(wrap(tmp.firstChild))}if(!_supportUnknownTags){tmp.parentNode.removeChild(tmp)}return result};this.ElementClassList=new Class(Array,function(){this.initialize=function(self,ele){self.length=0;self._ele=ele;self._loadClasses()};this._loadClasses=function(self){self._classes=self._ele.className.replace(/^\s+|\s+$/g,"").split(/\s+/)};this.toggle=function(self,token){if(!token){throw new Error("token不能为空");return}if(typeof token!="string"){return}if(self.contains(token)){self.remove(token)}else{self.add(token)}};this.add=function(self,token){if(!token){throw new Error("token不能为空");return}if(typeof token!="string"){return}if(!self.contains(token)){self._ele.className=(self._ele.className+" "+token).trim();self._loadClasses()}};this.remove=function(self,token){if(!token){throw new Error("token不能为空");return}if(typeof token!="string"){return}if(!self.contains(token)){return}self._ele.className=self._ele.className.replace(new RegExp(token.trim(),"i"),"").trim();self._loadClasses()};this.contains=function(self,token){if(!token){throw new Error("token不能为空");return false}if(typeof token!="string"){return false}self._loadClasses();if(self._classes.indexOf(token)!=-1){return true}else{return false}};this.item=function(self,i){self._loadClasses();return self._classes[i]||null};this.toString=function(self){return self._ele.className}});var basicNativeEventNames=["click","dblclick","mouseup","mousedown","contextmenu","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup"];this.Element=new Class(function(){Class.mixin(this,events.Events);this.nativeEventNames=basicNativeEventNames;this.initialize=function(self,tagName){if(tagName){self=document.createElement(tagName);wrap(self)}else{}if(!self.__eventListeners){self.__eventListeners={}}if(!self.__nativeEvents){self.__nativeEvents={}}if(self.classList===undefined&&self!==document&&self!==window){self.classList=new exports.ElementClassList(self)}self.delegates={}};this.prop_hidden=_supportHidden?nativeproperty():property(function(self){return self.style.display=="none"},function(self,value){if(value==true){if(self.style.display!=="none"){self.__oldDisplay=self.style.display}self.style.display="none"}else{self.style.display=self.__oldDisplay||""}});this.retrieve=function(self,property,defaultValue){var storage=get(self.uid);if(!(property in storage)&&defaultValue!==undefined){storage[property]=defaultValue}return storage[property]};this.store=function(self,property,value){var storage=get(self.uid);storage[property]=value;return self};this.delegate=function(self,selector,type,fn,option){function wrapper(e){var ele=e.srcElement||e.target;do{if(ele&&exports.Element.get("matchesSelector")(ele,selector)){fn.call(wrap(ele),e)}}while((ele=ele.parentNode))}var key=selector+"_"+type;if(!self.delegates){self.delegates={}}if(!(key in self.delegates)){self.delegates[key]=[]}self.delegates[key].push({wrapper:wrapper,fn:fn});wrapper.delegating=true;if(ua.ua.ie){if(type=="mouseleave"){type="mouseout"}else{if(type=="mouseenter"){type="mouseover"}}}self.addEvent(type,wrapper,option)};this.undelegate=function(self,selector,type,fn,option){var key=selector+"_"+type;if(!self.delegates){self.delegates={}}if(!(key in self.delegates)){return}self.delegates[key].forEach(function(item){if(item.fn===fn){self.removeEvent(type,item.wrapper,option);return}})};this.matchesSelector=function(self,selector){if(self!=document&&!self.parentNode){return false}return Sizzle.matches(selector,[self]).length>0};this.getData=function(self,name){return self.getAttribute("data-"+name)};this.setData=function(self,name,value){return self.setAttribute("data-"+name,value)};this.setHTML=function(self,str){self.set("innerHTML",str)};this.setContent=function(self,str){self.setHTML(str)};this.getElement=function(self,selector){return exports.getElement(selector,self)};this.getElements=function(self,selector){return exports.getElements(selector,self)};var inserters={before:function(context,element){var parent=element.parentNode;if(parent){parent.insertBefore(context,element)}},after:function(context,element){var parent=element.parentNode;if(parent){parent.insertBefore(context,element.nextSibling)}},bottom:function(context,element){element.appendChild(context)},top:function(context,element){element.insertBefore(context,element.firstChild)}};inserters.inside=inserters.bottom;this.grab=function(self,el,where){inserters[where||"bottom"](el,self);return self};this.inject=function(self,el,where){inserters[where||"bottom"](self,el);return self};this.getPrevious=function(self,selector){var matchesSelector=selector?exports.Element.get("matchesSelector"):null;var element=self;while(element=element.previousSibling){if(element.nodeType!=1){continue}if(!matchesSelector||matchesSelector(element,selector)){return wrap(element)}}return null};this.getAllPrevious=function(self,selector){var matchesSelector=selector?exports.Element.get("matchesSelector"):null;var result=[];var element=self;while(element=element.previousSibling){if(element.nodeType!=1){continue}if(!matchesSelector||matchesSelector(element,selector)){result.push(wrap(element))}}return result};this.getNext=function(self,selector){var matchesSelector=selector?exports.Element.get("matchesSelector"):null;var element=self;while(element=element.nextSibling){if(element.nodeType!=1){continue}if(!matchesSelector||matchesSelector(element,selector)){return wrap(element)}}return null};this.getAllNext=function(self,selector){var matchesSelector=selector?exports.Element.get("matchesSelector"):null;var result=[];var element=self;while(element=element.nextSibling){if(element.nodeType!=1){continue}if(!matchesSelector||matchesSelector(element,selector)){result.push(wrap(element))}}return result};this.getFirst=function(self,selector){var matchesSelector=selector?exports.Element.get("matchesSelector"):null;var childrens=self.childNodes,l=childrens.length;for(var i=0,element;i<l;i++){element=childrens[i];if(element.nodeType!=1){continue}if(!matchesSelector||matchesSelector(element,selector)){return wrap(element)}}return null};this.getLast=function(self,selector){var matchesSelector=selector?exports.Element.get("matchesSelector"):null;var childrens=self.childNodes,l=childrens.length;for(var i=l-1,element;i>=0;i--){element=childrens[i];if(element.nodeType!=1){continue}if(!matchesSelector||matchesSelector(element,selector)){return wrap(element)}}return null};this.getParent=function(self,selector){if(!selector){return wrap(self.parentNode)}var matchesSelector=exports.Element.get("matchesSelector");var element=self;do{if(matchesSelector(element,selector)){return wrap(element)}}while((element=element.parentNode));return null};this.getParents=function(self,selector){var matchesSelector=selector?exports.Element.get("matchesSelector"):null;var result=[];var element=self;while(element=element.parentNode){if(element.nodeType!=1){continue}if(!matchesSelector||matchesSelector(element,selector)){result.push(wrap(element))}}return result};this.getSiblings=function(self,selector){return self.getAllPrevious(selector).concat(self.getAllNext(selector))};this.getChildren=function(self,selector){var matchesSelector=selector?exports.Element.get("matchesSelector"):null;var childrens=self.childNodes,l=childrens.length,result=[];for(var i=0,element;i<l;i++){element=childrens[i];if(element.nodeType!=1){continue}if(!matchesSelector||matchesSelector(element,selector)){result.push(wrap(element))}}return result};this.addClass=function(self,name){if(!name){return}self.classList.add(name)};this.removeClass=function(self,name){if(!name){return}self.classList.remove(name)};this.toggleClass=function(self,name){if(!name){return}self.classList.toggle(name)};this.hasClass=function(self,name){if(!name){return false}return self.classList.contains(name)};var html=document.documentElement;var floatName=(html.style.cssFloat==null)?"styleFloat":"cssFloat",hasOpacity=(!ua.ua.ie&&html.style.opacity!=null),hasFilter=(html.style.filter!=null),reAlpha=/alpha\(opacity=([\d.]+)\)/i;this.prop_opacity=property(function(self){if(hasOpacity){return self.style.opacity}else{if(hasFilter){var filter=self.style.filter||self.currentStyle.filter;if(filter){opacity=filter.match(reAlpha)}return(opacity==null||filter==null)?1:(opacity[1]/100)}else{return self.retrieve("opacity")}}},function(self,opacity){if(hasOpacity){self.style.opacity=opacity}else{if(hasFilter){if(!self.currentStyle||!self.currentStyle.hasLayout){self.style.zoom=1}opacity=parseInt(opacity*100);if(opacity>100){opacity=100}else{if(opacity<0){opacity=0}}var opacityStr=opacity==100?"":"alpha(opacity="+opacity+")";var filter=self.style.filter||self.currentStyle.filter||"";self.style.filter=reAlpha.test(filter)?filter.replace(reAlpha,opacityStr):filter+opacityStr}else{self.store("opacity",opacity);self.style.visibility=opacity>0?"visible":"hidden"}}});this.setStyle=function(self,property,value){switch(property){case"opacity":return self.set("opacity",parseFloat(value));case"float":property=floatName;break;default:break}property=string.camelCase(property);self.style[property]=value;return null};this.getStyle=function(self,style){if(ua.ua.ie){style=(style=="float"||style=="cssFloat")?"styleFloat":style;var value=self.style[style];if(!value&&self.currentStyle){value=self.currentStyle[style]}if(style=="opacity"){if(value=(self.style.filter||"").match(/alpha\(opacity=(.*)\)/)){if(value[1]){return parseFloat(value[1])/100}}return 1}if(value=="auto"){if((style=="width"||style=="height")&&(self.getStyle("display")!="none")){return self["offset"+(style=="width"?"Width":"Height")]+"px"}return value}return value}else{style=style=="float"?"cssFloat":style;var value=self.style[style];if(!value){var css=document.defaultView.getComputedStyle(self,null);value=css?css[style]:null}if(style=="opacity"){return value?parseFloat(value):1}return value}};this.dispose=function(self){return(self.parentNode)?self.parentNode.removeChild(self):self};var blockElements="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr noframes noscript ol p pre table ul center dir isindex menu".split(" ");this.hide=function(self){self.setData("old-display",self.getStyle("display"));self.style.display="none"};this.show=function(self){if(self.getStyle("display")!="none"){return}var display=self.getData("old-display");if(display&&display!="none"){self.style.display=display;return}self.style.display="";if(self.getStyle("display")!="none"){return}if(blockElements.indexOf(self.get("tagName").toLowerCase())!=-1){self.style.display="block"}else{self.style.display="inline"}};this.toggle=function(self){if(self.getStyle("display")=="none"){self.show()}else{self.hide()}};this.prop_innerHTML=property(null,function(self,html){if(_supportUnknownTags){self.innerHTML=html}else{var nodes=exports.getDom(html);self.innerHTML="";while(nodes.firstChild){self.appendChild(nodes.firstChild)}}});this.prop_tagName=property(function(self){return self.tagName.toUpperCase()});this.fromString=staticmethod(function(str){var tmp=document.createElement("div");if(!_supportUnknownTags){tmp.style.display="none";document.body.appendChild(tmp)}tmp.innerHTML=str.trim();var result=wrap(tmp.firstChild);if(!_supportUnknownTags){tmp.parentNode.removeChild(tmp)}return result});this.position=function(self){if(self.parentNode===null||self.style.display=="none"){return false}var parent=null;var pos=[];var box;if(self.getBoundingClientRect){box=self.getBoundingClientRect();var scrollTop=Math.max(document.documentElement.scrollTop,document.body.scrollTop);var scrollLeft=Math.max(document.documentElement.scrollLeft,document.body.scrollLeft);return{x:box.left+scrollLeft,y:box.top+scrollTop}}else{if(document.getBoxObjectFor){box=document.getBoxObjectFor(self);var borderLeft=(self.style.borderLeftWidth)?parseInt(self.style.borderLeftWidth):0;var borderTop=(self.style.borderTopWidth)?parseInt(self.style.borderTopWidth):0;pos=[box.x-borderLeft,box.y-borderTop]}else{pos=[self.offsetLeft,self.offsetTop];parent=self.offsetParent;if(parent!=self){while(parent){pos[0]+=parent.offsetLeft;pos[1]+=parent.offsetTop;parent=parent.offsetParent}}if(ua.ua.opera||(ua.ua.safari&&self.style.position=="absolute")){pos[0]-=document.body.offsetLeft;pos[1]-=document.body.offsetTop}}}parent=self.parentNode||null;while(parent&&parent.tagName!="BODY"&&parent.tagName!="HTML"){pos[0]-=parent.scrollLeft;pos[1]-=parent.scrollTop;parent=parent.parentNode}return{x:pos[0],y:pos[1]}}});this.ImageElement=new Class(exports.Element,function(){this.nativeEventNames=basicNativeEventNames.concat(["error","abort"]);function _getNaturalSize(img){var anotherImg=new Image();anotherImg.src=img.src;return{width:anotherImg.width,height:anotherImg.height}}this.prop_naturalWidth=property(function(self){if(_supportNaturalWH){return self.naturalWidth}else{return _getNaturalSize(self).width}});this.prop_naturalHeight=property(function(self){if(_supportNaturalWH){return self.naturalHeight}else{return _getNaturalSize(self).height}})});this.FormElement=new Class(exports.Element,function(){this.nativeEventNames=basicNativeEventNames.concat(["reset","submit"]);this.initialize=function(self){this.parent(self);if(self.elements){for(var i=0;i<self.elements.length;i++){wrap(self.elements[i])}}if(!_supportNamedItemSync){self.elements.namedItem=function(name){return Sizzle("*[name="+name+"]",self)[0]}}if(!_supportMultipleSubmit){self.addNativeEvent("submit",function(event){if(!self.__submitButton){return}var button=self.__submitButton;self.__submitButton=null;var oldAction=self.action;var oldMethod=self.method;var oldEnctype=self.encoding||self.enctype;var oldNoValidate=self.noValidate;var oldTarget=self.target;var formAction=button.getAttribute("formaction");var formMethod=button.getAttribute("formmethod");var formEnctype=button.getAttribute("formenctype");var formNoValidate=button.getAttribute("formnovalidate");var formTarget=button.getAttribute("formtarget");if(formAction){self.action=formAction}if(formMethod){self.method=formMethod}if(formEnctype){self.enctype=self.encoding=formEnctype}if(formNoValidate){self.formNoValidate=formNoValidate}if(formTarget){self.target=formTarget}var preventDefaulted=event.getPreventDefault?event.getPreventDefault():event.defaultPrevented;if(!preventDefaulted){event.preventDefault();self.submit()}if(ua.ua.webkit<=534.3){setTimeout(function(){self.action=oldAction;self.method=oldMethod;self.enctype=self.encoding=oldEnctype;self.formNoValidate=oldNoValidate;self.target=oldTarget},0)}else{self.action=oldAction;self.method=oldMethod;self.enctype=self.encoding=oldEnctype;self.formNoValidate=oldNoValidate;self.target=oldTarget}})}};this.createRequest=function(self,params){if(!params){params={}}if(!params.method){params.method=self.method}if(!params.url){params.url=self.action}if(!params.data){params.data=self.toQueryString()}if(!params.onsuccess){params.onsuccess=function(event){self.fireEvent("requestSuccess",{request:event.request})}}if(!params.onerror){params.onerror=function(event){self.fireEvent("requestError",{request:event.request})}}if(net){xhr=new net.Request(params)}else{throw new object.ModuleRequiredError("net",module)}return xhr};this.send=function(self,data){var request=self.createRequest();request.send(data);return request};this.toQueryString=function(self){var queryString=[];function addItem(name,value){if(typeof value!="undefined"){queryString.push(encodeURIComponent(name)+"="+encodeURIComponent(value))}}self.getElements("input, select, textarea, output").forEach(function(el){var type=el.type;if(!el.name||el.disabled||type=="submit"||type=="reset"||type=="file"||type=="image"){return}if(el.tagName.toLowerCase()=="select"){el.getSelected().map(function(opt){var value=wrap(opt).get("value");addItem(el.name,value)})}else{if(type=="radio"||type=="checkbox"){if(el.checked){addItem(el.name,el.get("value"))}}else{addItem(el.name,el.get("value"))}}});return queryString.join("&")};this.checkValidity=function(self){return self.getElements("input, select, textarea, output").every(function(el){return el.checkValidity()})}});this.FormItemElement=new Class(exports.Element,function(){this.nativeEventNames=basicNativeEventNames.concat(["focus","blur","change","select","paste"]);this.required=_supportHTML5Forms?nativeproperty():attributeproperty(false);this.pattern=_supportHTML5Forms?nativeproperty():attributeproperty("");this.maxlength=nativeproperty();this.type=_supportHTML5Forms?nativeproperty():attributeproperty("text");this.min=_supportHTML5Forms?nativeproperty():attributeproperty("");this.max=_supportHTML5Forms?nativeproperty():attributeproperty("");this.selectionStart=property(function(self){try{if(typeof self.selectionStart=="number"){return self.selectionStart}}catch(e){return -1}if(document.selection){var range=document.selection.createRange();if(range==null||range.parentElement()!=self){if(self.__selectionPos){return self.__selectionPos.start}else{return -1}}return calculateSelectionPos(self).start}else{return -1}});this.selectionEnd=property(function(self){try{if(typeof self.selectionEnd=="number"){return self.selectionEnd}}catch(e){return -1}if(document.selection){var range=document.selection.createRange();if(range==null||range.parentElement()!=self){if(self.__selectionPos){return self.__selectionPos.end}else{return -1}}return calculateSelectionPos(self).end}else{return -1}});this.getSelected=function(self){self.selectedIndex;var selected=[];for(var i=0;i<self.options.length;i++){if(self.options[i].selected){selected.push(self.options[i])}}return selected};this.prop_value=property(function(self){if(self.classList.contains("placeholder")){return""}return self.value},function(self,value){if(self.classList.contains("placeholder")){self.classList.remove("placeholder");self.removeAttribute("autocomplete");self.value=""}self.value=value;if(!_supportPlaceholder&&!self.value&&self.getAttribute("placeholder")){self.classList.add("placeholder");self.value=self.getAttribute("placeholder");self.setAttribute("autocomplete","off")}self.checkValidity()});this.validity=_supportHTML5Forms?property(function(self){return self.validity}):property(function(self){var value=self.get("value");var validity={valueMissing:(function(){var required=self.getAttribute("required");if(required&&required!="undefined"){return !value?true:false}else{return false}})(),typeMismatch:(function(type){if(type=="url"){return !(/^\s*(?:(\w+?)\:\/\/([\w-_.]+(?::\d+)?))(.*?)?(?:;(.*?))?(?:\?(.*?))?(?:\#(\w*))?$/i).test(value)}if(type=="tel"){return !(/[^\r\n]/i).test(value)}if(type=="email"){return !(/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/i).test(value)}return false})(self.getAttribute("type")),patternMismatch:(function(){var pattern=self.get("pattern");if(pattern){return !(new RegExp("^"+pattern+"$")).test(value)}else{return false}})(),tooLong:(function(){var maxlength=self.get("maxlength");var n=Number(maxlength);if(n!=maxlength){return false}return value.length>n})(),customError:!!self.__customValidity,rangeUnderflow:false,rangeOverflow:false,stepMismatch:false};validity.valid=["valueMissing","typeMismatch","patternMismatch","tooLong","rangeUnderflow","rangeOverflow","stepMismatch","customError"].every(function(name){return validity[name]===false});self.__validationMessage=(function(){if(validity.valid){return""}if(validity.customError){return self.__customValidity}if(validity.valueMissing){return"请填写此字段。"}if(validity.typeMismatch){return"请输入一个"+self.getAttribute("type")+"。"}if(validity.patternMismatch){return"请匹配要求的格式。"}if(validity.tooLong){return"请将该文本减少为 "+self.get("maxlength")+" 个字符或更少（您当前使用了"+self.get("value").length+"个字符）。"}if(validity.rangeUnderflow){return"值必须大于或等于"+self.getAttribute("min")+"。"}if(validity.rangeOverflow){return"值必须小于或等于"+self.getAttribute("max")+"。"}if(validity.stepMismatch){return"值无效。"}})();self._set("validationMessage",self.__validationMessage);self._set("validity",validity);return validity});this.validationMessage=_supportHTML5Forms?property(function(self){return self.validationMessage}):property(function(self){self.get("validity");return self.__validationMessage});if(!_supportHTML5Forms){this.setCustomValidity=function(self,message){self.__customValidity=message;self.get("validity")};this.checkValidity=function(self){self.get("validity");return self.validity.valid}}this.focusToPosition=function(self,position){if(position===undefined){position=self.get("value").length}if(self.setSelectionRange){self.focus();self.setSelectionRange(self.get("value").length,position)}else{if(self.createTextRange){var range=self.createTextRange();range.moveStart("character",position);range.collapse(true);range.select();self.focus()}else{self.focus()}}}});this.TextBaseElement=new Class(exports.FormItemElement,function(){this.initialize=function(self){this.parent(self);if(!_supportPlaceholder){self.bindPlaceholder()}if(!_supportSelectionStart){self.addEvent("beforedeactivate",function(){self.__selectionPos=calculateSelectionPos(self)})}};this.prop_placeholder=property(function(self){return self.getAttribute("placeholder")},function(self,value){self.setAttribute("placeholder",value);if(!_supportPlaceholder){self.bindPlaceholder();if(self.get("placeholding")){self.value=value}}});this.prop_placeholding=property(function(self){return self.classList.contains("placeholder")},function(self,value){if(value){self.classList.add("placeholder");self.setAttribute("autocomplete","off")}else{self.classList.remove("placeholder");self.removeAttribute("autocomplete")}});this.bindPlaceholder=function(self){if(self._binded){return}self._binded=true;function checkEmpty(event){var placeholder=self.get("placeholder");if(!placeholder){return}if(self.get("placeholding")){if(event.type=="focus"&&self.value===placeholder){self.value=""}self.set("placeholding",false)}else{if(!self.value||((ua.ua.ie==6||ua.ua.ie==7)&&!event&&self.value==placeholder)){self.set("placeholding",true);self.value=placeholder}}}self.addNativeEvent("focus",function(event){return checkEmpty(event)});self.addNativeEvent("blur",function(event){return checkEmpty(event)});if(self.form){wrap(self.form).addNativeEvent("submit",function(){if(self.classList.contains("placeholder")){self.set("placeholding",false);self.value="";setTimeout(function(){checkEmpty()},0)}})}checkEmpty()}});this.InputElement=new Class(exports.TextBaseElement,function(){this.prop_formAction=_supportMultipleSubmit?nativeproperty():attributeproperty("");this.prop_formEnctype=_supportMultipleSubmit?nativeproperty():attributeproperty("application/x-www-form-urlencoded");this.prop_formMethod=_supportMultipleSubmit?nativeproperty():attributeproperty("get");this.prop_formNoValidate=_supportMultipleSubmit?nativeproperty():attributeproperty(false);this.prop_formTarget=_supportMultipleSubmit?nativeproperty():attributeproperty("");this.initialize=function(self){this.parent(self);if(!_supportMultipleSubmit&&self.type=="submit"){self.addNativeEvent("click",function(event){var action=self.getAttribute("formaction");if(action&&action!="undefined"){self.form.__submitButton=self}})}};this.send=function(self,data){if(self.type!="submit"){return}var action=self.getAttribute("formaction"),method=self.getAttribute("formmethod");var request=self.form.createRequest({method:method||self.form.method,url:action||self.form.action,onsuccess:function(event){self.fireEvent("requestSuccess",{request:event.request})},onerror:function(event){self.fireEvent("requestError",{request:event.request})}});request.send(data);return request}});this.TextAreaElement=new Class(exports.TextBaseElement,function(){});this.Window=new Class(exports.Element,function(){this.nativeEventNames=basicNativeEventNames.concat(["load","unload","beforeunload","resize","move","DomContentLoaded","readystatechange","scroll","mousewheel","DOMMouseScroll"])});this.Document=new Class(exports.Element,function(){this.nativeEventNames=basicNativeEventNames.concat(["load","unload","beforeunload","resize","move","DomContentLoaded","readystatechange","scroll","mousewheel","DOMMouseScroll"])});this.Elements=new Class(Array,function(){this.initialize=function(self,elements,wrapper){for(var i=0;i<elements.length;i++){self.push(wrap(elements[i]))}wrapper=self[0]?getWrapper(self[0].nodeName):exports.Element;Class.keys(wrapper).forEach(function(name){if(typeof wrapper.get(name)!="function"){return}self[name]=function(){var element;for(var i=0;i<self.length;i++){element=self[i];if(typeof element[name]=="function"){element[name].apply(self[i],[].slice.call(arguments,0))}}}});self.set=function(key,value){for(var i=0;i<self.length;i++){self[i].set(key,value)}};self.get=function(key){var result=[];for(var i=0;i<self.length;i++){result.push(self[i].get(key))}return result}}});var _tagMap={IMG:exports.ImageElement,FORM:exports.FormElement,INPUT:exports.InputElement,TEXTAREA:exports.TextAreaElement,OUTPUT:exports.FormItemElement,SELECT:exports.FormItemElement,OPTION:exports.FormItemElement,BUTTON:exports.FormItemElement};function getWrapper(tagName){var tag=tagName.toUpperCase();var cls=_tagMap[tag];if(cls){return cls}else{return exports.Element}}function getCommon(arr1,arr2){var i;for(i=0,l=arr1.length;i<l;i++){if(!arr2[i]||arr2[i]!==arr1[i]){break}}return arr1.slice(0,i)}function calculateSelectionPos(field){var range=document.selection.createRange();if(range==null||range.parentElement()!=field){return{start:-1,end:-1}}var elementRange=field.createTextRange();var duplicated=elementRange.duplicate();elementRange.moveToBookmark(range.getBookmark());duplicated.setEndPoint("EndToStart",elementRange);return{start:duplicated.text.length,end:duplicated.text.length+range.text.length}}});object.add("./net.js","dom, events",function(a,c,b){var d=window.__ajaxProxies;if(!d){d=window.__ajaxProxies={}}this.ajaxRequest=function(f,m){if(!f||typeof f!="string"||f.trim().length==0){return}if(!m||typeof m!="function"){m=function(){}}var j=document.createElement("a");j.href=f;var k=j.hostname;var o=j.protocol;if(k&&(k!=location.hostname)){var p=null;if(d[k]){(function(){if(!d[k].loaded){setTimeout(arguments.callee,100)}else{m(d[k].contentWindow.getTransport())}})()}else{var h=document.createElement("iframe"),g;h.style.display="none";c.ready(function(){d[k]=h;h.loaded=false;document.body.insertBefore(h,document.body.firstChild);h.src=o+"//"+k+"/ajaxproxy.htm";c.wrap(h).addEvent("load",function(){if(h.contentWindow.location.href!==h.src){h.contentWindow.location.href=h.src}else{h.loaded=true;try{g=h.contentWindow.getTransport()}catch(q){throw new Error("message : "+q.message+" from url : "+f)}m(g)}})})}}else{if(window.ActiveXObject){try{m(new ActiveXObject("Msxml2.XMLHTTP"))}catch(i){m(new ActiveXObject("Microsoft.XMLHTTP"))}}else{m(new XMLHttpRequest())}}};this.ping=function(f){var h="_net_ping_"+(new Date()).getTime();var g=window[h]=new Image();g.onload=(g.onerror=function(){window[h]=null});g.src=f;g=null};this.Request=new Class(function(){this.__mixins__=[b.Events];this.initialize=function(f,g){if(window._developer_no_ajax){return}g=g||{};f.url=g.url||"";f.method=g.method||"get";f.timeout=g.timeout&&g.timeout>0?g.timeout:0;f.headers=g.headers||{};f.data=g.data||null;f._xhr=null;if(f.urlMapper){f.url=f.urlMapper(f.url,f.method)||f.url}f.onSuccess=g.onSuccess;f.onsuccess=g.onsuccess;f.onerror=g.onerror;f.oncomplete=g.oncomplete};this.send=function(f,g){a.ajaxRequest(f.url,function(k){var m=false;f._xhr=k;var j={request:f};k.onreadystatechange=function(){var o=f._xhr;if(o.readyState===4){if(m){return}else{if(f._timer){clearTimeout(f._timer);f._timer=null}}f.responseText=o.responseText;f.responseXML=o.responseXML;if(f.requestBlocker&&f.requestBlocker.block&&f.requestBlocker.block(o)){f.requestBlocker.handle(o);return}j.responseText=o.responseText;j.responseXML=o.responseXML;if(o.status===undefined||o.status===0||(o.status>=200&&o.status<300)){f.fireEvent("success",j);if(f.onSuccess){f.onSuccess(j)}}else{f.fireEvent("error",j)}f.fireEvent("complete",j)}};var k=f._xhr;var i=f.url;if(!g){g=f.data}if(g&&f.method=="get"){i+=(i.indexOf("?")!=-1?"&":"?")+g;g=null}k.open(f.method,i,true);k.setRequestHeader("Content-Type","application/x-www-form-urlencoded");for(var h in f.headers){k.setRequestHeader(h,f.headers[h])}if(!f.headers["X-Requested-With"]){k.setRequestHeader("X-Requested-With","XMLHttpRequest")}if(f.timeout){f._timer=setTimeout(function(){m=true;f.abort();f.fireEvent("timeout",j);f.fireEvent("complete",j)},f.timeout)}f._xhr.send(g)})};this.abort=function(f){if(f._xhr){f._xhr.abort()}if(f._timer){clearTimeout(f._timer);f._timer=null}};this.getResponseHeader=function(f,g){return f._xhr.getResponseHeader(g)};this.setHeader=function(f,g,h){f.headers[g]=h}})});object.add("./mvc.js","events",function(a,b){this.Action=new Class(b.Events,function(){this.initialize=function(c){b.Events.initialize(c);c.view=null};this.execute=function(d,c){d.view=c;c.load(d)}})});object.add("./urlparse.js",function(a){var f="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+-.";function d(j,k,q,p){var o=k.length;for(var m=0,h=k.length;m<h;m++){if(q.indexOf(k.charAt(m))!=-1){if(m<o){o=m;break}}}j.got=k.substring(0,o);j.remained=(p?k.substring(o):k.substring(o+1));return j}function c(h,m){if(typeof h!="string"){return["","","","","",""]}var j="",k="",v="",o="",t="",s="",p=0;p=h.indexOf(":");if(p>0){if(h.substring(0,p)=="http"){j=h.substring(0,p).toLowerCase();h=h.substring(p+1)}else{for(var p=0,q=h.length;p<q;p++){if(f.indexOf(h.charAt(p))==-1){break}}j=h.substring(0,p);h=h.substring(p+1)}}if(!j&&m){j=m}var u={};if(h.substring(0,2)=="//"){d(u,h.substring(2),"/?#",true);k=u.got;h=u.remained}if(h.indexOf("#")!=-1){d(u,h,"#");h=u.got;s=u.remained}if(h.indexOf("?")!=-1){d(u,h,"?");h=u.got;t=u.remained}if(h.indexOf(";")!=-1){d(u,h,";");v=u.got;o=u.remained}if(!v){v=h}return[j,k,v,o,t,s]}function g(i){if(!i){return""}var h="";if(i[0]){h+=i[0]+"://"+i[1]}if(i[1]&&i[2]&&i[2].indexOf("/")!=0){h+="/"}h+=i[2];if(i[3]){h+=";"+i[3]}if(i[4]){h+="?"+i[4]}if(i[5]){h+="#"+i[5]}return h}function b(p,m){if(!p){return m}if(!m){return p}m=String(m);p=String(p);var h=c(p);var q=c(m,h[0]);if(q[0]!=h[0]){return m}if(q[1]){return g(q)}q[1]=h[1];if(q[2].charAt(0)=="/"){return g(q)}if(!q[2]&&!q[3]){q[2]=h[2];q[3]=h[3];if(!q[4]){q[4]=h[4]}return g(q)}var k=h[2].split("/").slice(0,-1).concat(q[2].split("/"));if(k[k.length-1]=="."){k[k.length-1]=""}for(var o=0,j=k.length;o<j;o++){if(k[o]=="."){k.splice(o,1);o--}}var o;while(true){o=1;n=k.length-1;while(o<n){if(k[o]==".."&&["",".."].indexOf(k[o-1])==-1){k.splice(o-1,2);break}o++}if(o>=n){break}}if(k.length==2&&k[0]==""&&k[1]==".."){k[k.length-1]=""}else{if(k.length>=2&&k[k.length-1]==".."){k.pop();k.pop();k.push("")}}q[2]=k.join("/");return g(q)}a.urlparse=c;a.urlunparse=g;a.urljoin=b});object.add("./validator.js",function(a){this.isUrl=function(b){return/^(?:(\w+?)\:\/\/([\w-_.]+(?::\d+)?))(.*?)?(?:;(.*?))?(?:\?(.*?))?(?:\#(\w*))?$/i.test(b)};this.isEmail=function(b){return/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/i.test(b)};this.isIP=function(b){return/^(0|[1-9]\d?|[0-1]\d{2}|2[0-4]\d|25[0-5]).(0|[1-9]\d?|[0-1]\d{2}|2[0-4]\d|25[0-5]).(0|[1-9]\d?|[0-1]\d{2}|2[0-4]\d|25[0-5]).(0|[1-9]\d?|[0-1]\d{2}|2[0-4]\d|25[0-5])$/.i.test(b)}});if(object.addPath){object.addPath("http://a.xnimg.cn/")}object.add("ua/extra.js","sys",function(a,c){var b=c.modules.ua;if(b){this.__detectUAExtra=f;var d=f();object.extend(b.ua,d)}function f(k){if(!k&&typeof k!="string"){k=navigator.userAgent}var g,j,q={},p=b.numberify;var i=function(m){try{return window.external[m]}catch(o){return null}};if(g=k.match(/360SE/)||(i("twGetRunPath")&&window.external.twGetRunPath().indexOf("360se.exe")!=-1)){q[j="se360"]=3}else{if(g=k.match(/Maxthon|MAXTHON/)||i("max_version")){j="maxthon";try{q[j]=p(window.external.max_version)}catch(h){q[j]=0}}else{if(g=k.match(/TencentTraveler\s([\d\.]*)/)){q[j="tt"]=g[1]?p(g[1]):0}else{if(g=k.match(/TheWorld/)){q[j="theworld"]=3}else{if(g=k.match(/SE\s([\d\.]*)/)){q[j="sogou"]=g[1]?p(g[1]):0}else{if(g=k.match(/QQBrowser.([\d\.]*)/)){q[j="qqbrowser"]=g[1]?p(g[1]):0}}}}}}j&&(q.shell=j);return q}});object.add("ua/os.js","sys",function(d,i){var g=i.modules.ua;var b=function(k){var m=0;return parseFloat(k.replace(/_/g,".").replace(/\./g,function(){return(m++===0)?".":""}))};if(g){this._detectOS=j;var a=j(navigator.userAgent.toLowerCase());object.extend(d,a)}function f(m,k){k=k.replace(/\b[a-z]/g,function(o){return o.toUpperCase()});return Object.prototype.toString.call(m)=="[object "+k+"]"}function c(k,m){if(!k){throw new Error(m)}}function h(k,m){if(k==null){throw new Error(m)}}function j(p){p=p||navigator.userAgent;p=p.toLowerCase();var B=[{core:"windowsnt",match:function(m){return/windows\snt/.test(m)&&!/xblwp7/.test(m)},versionRule:/windows nt\s([\.\d]*)/},{core:"windowsnt",match:/windows\sxp/,version:5.1},{core:"windowsnt",match:/windows\s2000/,version:5},{core:"windowsnt",match:/winnt/,version:4},{core:"windows",match:/windows me/,version:"me"},{core:"windows",match:/windows 98|win98/,version:"98"},{core:"windows",match:/windows 95|win95/,version:"95"},{core:"windows",match:/win16/,version:"3.1"},{core:"windows/phone",match:/windows\sphone/,versionRule:/windows phone os ([\d\.]*)/},{core:"windows/phone",match:/xblwp7/,version:7},{core:"windows/mobile",match:/windows mobile|wce|windows ce|pocket pc|wince/,versionRule:/iemobile ([\.\d]*)/},{core:"windows",match:/win/,version:"unknown"},{core:"android",match:/\sandroid/,versionRule:/android ([^\s]*);/},{core:"linux/debian",match:/debian/,versionRule:/debian[\s\/-]([\.\d]*)/},{core:"linux/redhat",match:/red\shat/,versionRule:/red hat[\s\/-]([\.\d]*)/},{core:"linux/fedora",match:/fedora/,versionRule:/fedora[\s\/-]([\.\d]*)/},{core:"linux/ubuntu",match:/ubuntu/,versionRule:/ubuntu[\s\/-]([\.\d]*)/},{core:"linux/suse",match:/suse/,versionRule:/suse[\s\/-]([\.\d]*)/},{core:"linux/mint",match:/mint/,versionRule:/mint[\s\/-]([\.\d]*)/},{core:"linux/centos",match:/centos/,versionRule:/centos[\s\/-]([\.\d]*)/},{core:"linux/gentoo",match:/gentoo/,version:"unknown"},{core:"linux",match:/linux/,version:"unknown"},{core:"chromeos",match:/cros/,version:"unknown"},{core:"unix/sunos",match:/sunos/,version:"unknown"},{core:"unix/freebsd",match:/freebsd/,version:"unknown"},{core:"unix/openbsd",match:/openbsd/,version:"unknown"},{core:"unix/aix",match:/aix/,version:"unknown"},{core:"unix/hp_ux",match:/hp-ux/,version:"unknown"},{core:"unix",match:/x11/,version:"unknown"},{core:"macos",match:/mac_powerpc|ppc/,version:"ppc"},{core:"macos",match:/intel/,version:"intel"},{core:"macos",match:/mac_68000|68k/,version:"68k"},{core:"ios",match:function(m){return/applewebkit/.test(m)&&/ mobile\//.test(m)&&/like/.test(m)},versionRule:/os ([\_\.\d]*)/},{core:"macos",match:/mac/,version:"unknown"},{core:"os2",match:function(m){return/os\/2|ibm-webexplorer/.test(m)||navigator.appVersion.indexOf("os/2")!=-1},version:"unknown"},{core:"symbian",match:/symbian|s60|symbos|symbianos|series40|series60|nokian/,versionRule:/symbian(?:os)?\/([\d\.]*);/},{core:"blackberry",match:/blackberry|rim\stablet\sos/,versionRule:/(?:version\/|blackberry[\d]{4}\/)([\d\.]*)/},{core:"webos",match:/webos/,versionRule:/webos\/([^\s]*);/},{core:"palmos",match:/palmos/,version:"unknown"}];var s={};for(var v=0,u=B.length,A,k=false;v<u;v++){A=B[v];var x=A.match;c(f(x,"RegExp")||f(x,"Function"),"match rule should be regexp or function");if(f(x,"RegExp")){k=x.test(p)}else{if(f(x,"Function")){k=x(p);h(k,"match function must return true/false")}}if(!k){continue}var C=null,y=A.core.split("/"),q=y.length;if(q>1){s.oscore=y[0];C=s;for(var t=0;t<q-1;t++){C=C[y[t]]={}}}else{s.oscore=A.core}var z=A.version||"unknown";if(A.versionRule){c(f(A.versionRule,"RegExp"),"version rule should be regexp");t=p.match(A.versionRule);if(t&&t[1]){z=b(t[1])}}if(C){C[y[q-1]]=z}else{s[s.oscore]=z}break}if(s.ios){t=p.match(/ipad|ipod|iphone/);if(t&&t[0]){s[t[0]]=s.ios}}if(navigator&&navigator.cajaVersion){s.caja=navigator.cajaVersion}if(!k){s.oscore="unknown"}if(/wow64|x64|win64|ia64|x86_64|amd64|sparc64|ppc64/.test(p)){s.processor=64}else{s.processor=32}if(window.devicePixelRatio>=2){s.resolution={width:screen.width*window.devicePixelRatio,height:screen.height*window.devicePixelRatio}}else{s.resolution={width:screen.width,height:screen.height}}var w=typeof window.orientation!="undefined"?true:false;if(w){if(window.innerWidth!=undefined){s.orientation=window.innerWidth>window.innerHeight?"landscape":"profile"}else{s.orientation=window.screen.width>window.screen.height?"landscape":"profile"}}else{s.orientation="unknown"}return s}});object.add("ua/flashdetect.js",function(a){this.getFlashVersion=function(){var d=false;if(navigator.plugins&&navigator.mimeTypes.length){var b=navigator.plugins["Shockwave Flash"];if(b&&b.description){d=b.description.replace(/([a-zA-Z]|\s)+/,"").replace(/(\s+r|\s+b[0-9]+)/,".").split(".")[0]}}else{if(navigator.userAgent&&navigator.userAgent.indexOf("Windows CE")>=0){var f=1;var c=3;while(f){try{c++;f=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+c);d=c}catch(g){f=null}}}else{try{var f=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7")}catch(g){try{var f=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6");d=6;f.AllowScriptAccess="always"}catch(g){if(d==6){return d}}try{f=new ActiveXObject("ShockwaveFlash.ShockwaveFlash")}catch(g){}}if(f!=null){d=f.GetVariable("$version").split(" ")[1].split(",")[0]}}}return d}});object.define("xn.net","sys, net",function(b,a){var c=b("sys");var d=b("net");var f=d.Request.prototype.send;d.Request.set("send",function(g,h){h=h||g.data||"";if(g.method=="post"&&XN.get_check&&!/[\?|\&]requestToken=/.test(h)){h+=(h?"&":"")+"requestToken="+XN.get_check}if(g.method=="post"&&XN.get_check_x&&!/[\?|\&]_rtk=/.test(h)){h+=(h?"&":"")+"_rtk="+XN.get_check_x}f.call(g,h)});this.Request=d.Request});object.define("jxn","dom, string, net, xn.net, ua",function(d,g){d("xn.net");var c=Object.prototype.toString,q=Array.prototype.slice,f=d("dom"),p=d("net"),b=d("ua"),i=d("string"),s=/^<[\w\W]+>/,o=/^<([\w]+)>$/,j=function(){},m=false,k=function(){},a=typeof console!="undefined"?console:{log:j,error:j,warn:j},h=function(x,B){var v,t=null,C,A,y,w,u;if(h.isJxnNode(x)){return x}if(h.isString(x)){x=h.trim(x);if(h.isHTMLTag(x)){v=document.createElement(RegExp.$1);t=[v]}else{if(h.isHTMLString(x)){t=f.getDom(x).childNodes;A=[];for(y=0,w=t.length;y<w;y++){if(h.isDomNode(t[y])){A[A.length]=t[y]}}t=A}else{if(x.toLowerCase()=="body"||x.toLowerCase()=="html"){t=Sizzle(x)}else{B=B||document.body;if(h.isJxnNode(B)){B=B[0]}t=Sizzle(x,B)}}}}else{if(h.isFunction(x)){f.ready(x);return}else{if(h.isAcceptableElement(x)){t=[x]}else{if(h.isArray(x)){t=x;for(y=0,w=t.length;y<w;y++){if(!h.isAcceptableElement(t[y])){u="array elements should be all dom nodes";if(t[y].nodeType==3){u+=", text node(nodeType = 3) is not acceptable"}h.error(u);return}}}}}}C=new k();var z=t?t.length:0;C.length=z;for(y=0;y<z;y++){C[y]=t[y]}return C};h.extend=function(t,u){if(typeof u==="undefined"){u=t;t=h}var v;for(v in u){if(u.hasOwnProperty(v)){t[v]=u[v]}}};h.extend({errors:[],warns:[],logs:[],consoleClean:function(t){m=t},resetLogs:function(){h.errors.length=0;h.warns.length=0;h.logs.length=0},error:function(){var t=q.call(arguments);h.errors.push(t.join(","));!m&&a.error(t)},log:function(){var t=q.call(arguments);h.logs.push(t.join(","));!m&&a.log(t)},warn:function(){var t=q.call(arguments);h.warns.push(t.join(","));!m&&a.warn(t)},slice:q,isInDomTree:function(t){return !!f.wrap(t).getParent("body")},isDomNode:function(t){return t&&t.nodeType==1},isAcceptableElement:function(t){return t&&(t.nodeType==1||t.nodeType==9||t==window)},isFunction:function(t){return c.call(t)=="[object Function]"},isUndefined:function(t){return typeof t==="undefined"},isObject:function(t){return t&&c.call(t)=="[object Object]"},isArray:function(t){return c.call(t)=="[object Array]"},isString:function(t){return typeof t=="string"},isRegExp:function(t){return c.call(t)=="[object RegExp]"},isBoolean:function(t){return t&&c.call(t)=="[object Boolean]"},isNumber:function(t){return typeof t=="number"},trim:function(t){if(!t){return t}return t.replace(/^\s+|\s+$/g,"")},isHTMLString:function(t){return h.isString(t)&&s.test(t)},isHTMLTag:function(t){return h.isString(t)&&o.test(t)},isDocument:function(t){return t&&t.nodeType===9},isWindow:function(t){return t&&typeof t==="object"&&"setInterval" in t&&h.isDocument(t.document)},getNumber:function(t){return parseFloat(t,10)},getWindow:function(t){return h.isWindow(t)?t:t.nodeType===9?t.defaultView||t.parentWindow:false},isJxnNode:function(t){return t&&t.constructor==k},forEach:function(w,u){var v,t,x;if(h.isArray(w)){for(v=0,t=w.length;v<t;v++){u.call(w,w[v],v)}}else{if(h.isObject(w)){for(x in w){if(!w.hasOwnProperty(x)){continue}u.call(w,x,w[x])}}}},registerPlugin:function(u,w,y){var v,x,t;k._plugins=k._plugins||{};if(k._plugins[u]){h.error("plugin "+u+" already exists!");return}k._plugins[u]=w;h._extendAsPlugin(k.prototype,w,u);if(h.isArray(y)){for(v=0,t=y.length;v<t;v++){x=y[v];if(!h.isString(x)){h.error(x+" is not string");continue}if(h[x]){h.error(x+" exists in jxn");continue}h[x]=w[x]}}},_extendAsPlugin:function(u,v,t){for(var w in v){if(!v.hasOwnProperty(w)){continue}pluginProp=v[w];if(h.isFunction(pluginProp)){h._appendFnToDest(u,w,pluginProp,t)}else{u[w]=v[w]}}},_appendFnToDest:function(v,w,u,t){if(w in v){h.warn(w,t,v[w].__by,"重复设置")}v[w]=function(){var A,x,E,C,z=this,B,y=[],D=false;x=z.length;if(x==0){if(w.indexOf("has")==0||w.indexOf("is")==0){return false}else{if(w.indexOf("get")==0){return undefined}}}for(A=0;A<x;A++){B=z[A];E=q.call(arguments);E.unshift(B);C=u.apply(this,E);y[y.length]=C;if(C!==undefined){D=true}}if(D){return y[0]}return this};v[w].__name=w;v[w].__by=t},tagName:function(u){if(!u||!u.tagName){return""}var t=u.tagName;return t.toLowerCase()}});if(!b.ua.ie){k.prototype=new Array();k.prototype.constructor=k}else{h.forEach(["concat","indexOf","join","lastIndexOf","pop","push","reverse","shift","slice","sort","splice","unshift","valueOf","forEach","some","every","map","filter"],function(t){k.prototype[t]=Array.prototype[t]})}h.extend(k.prototype,{each:function(v){var u,t=this.length;for(u=0;u<t;u++){v.call(this[u],this[u])}return this},toArray:function(){return q.call(this)},node:function(t){return h(this[t])},index:function(v){if(!v){if(!this[0]){return -1}return this.prevAll().length}if(h.isJxnNode(v)){v=v[0]}var u,t=this.length;for(u=0;u<t;u++){if(v==this[u]){return u}}return -1},eq:function(t){if(t==-1){return this.node(this.length-1)}return this.node(t)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)}});(function(B,y){var x={},v=function(E){if(E.preventDefault){E.preventDefault()}else{E.returnValue=false}return false},w=["error","unload","scroll","resize"],t=["blur","change","click","dblclick","focus","select","keydown","keyup","keypress","mousedown","mouseenter","mouseleave","mousemove","mouseout","mouseover","mouseup"];var D={load:function(G,F,E){if(B.isWindow(G)){f.wrap(G).addEvent("load",F,E)}else{B.loadFile.apply(G,arguments)}},delegate:function(H,I,G,F,E){B.forEach(G.split(" "),function(J){f.wrap(H).delegate(I,J,F,E)})},undelegate:function(H,I,G,F,E){B.forEach(G.split(" "),function(J){f.wrap(H).undelegate(I,J,F,E)})},trigger:function(F,E,G){f.wrap(F).fireEvent(E,G)},bind:function(K,J,I,F){if(B.isObject(J)){for(var L in J){f.wrap(K).addEvent(L,J[L],F)}return}var H=J.split(" ");for(var G=0,E=H.length;G<E;G++){f.wrap(K).addEvent(H[G],I,F)}},unbind:function(K,J,I,F){if(B.isObject(J)){for(var L in J){f.wrap(K).removeEvent(L,J[L],F)}return}var H=J.split(" ");for(var G=0,E=H.length;G<E;G++){f.wrap(K).removeEvent(H[G],I,F)}},on:function(H,G,F,E){var I=false;B.forEach(B._specialEvents,function(J){if(J.likes(G)){I=true;J.on(H,G,F,E)}});if(I){return}f.wrap(H).addEvent(G,F,E)},off:function(H,G,F,E){var I=false;B.forEach(B._specialEvents,function(J){if(J.likes(G)){I=true;J.off(H,G,F,E)}});if(I){return}f.wrap(H).removeEvent(G,x[F]||F,E);if(x[F]){x[F]=null;delete x[F]}},one:function(H,G,F,E){function I(){F.apply(this,arguments);f.wrap(H).removeEvent(G,I,E);x[F]=null;delete x[F]}x[F]=I;f.wrap(H).addEvent(G,I,E)},hover:function(F,G,E){if(!G){return}f.wrap(F).addEvent("mouseenter",G);f.wrap(F).addEvent("mouseleave",E||G)},ready:function(F,E){if(F!=document){B.error("ready should be called for jxn(document)");return}f.ready(E)},submit:function(G,F){if(!G||!G.tagName){B.error("element should have tagName");return}var E=G.tagName.toLowerCase();if(E!="form"&&E!="input"){B.error("submit event, element should be form or input");return}if(E=="input"&&G.type!="submit"){B.error("submit event, type of input should be submit")}if(F===false){F=v}f.wrap(G).addEvent("submit",F)},toggle:function(G){var F=B.slice.call(arguments);if(F.length==1){if(B.css(G,"display")=="none"){B.show(G)}else{B.hide(G)}return}F.shift();F.currentIndex=0;var E=F.length;if(E<=1){B.error("two event handlers for toggle at least");return}f.wrap(G).addEvent("click",function(){var H=F.currentIndex;F[H].apply(this,arguments);H=H+1;if(H==E){H=0}F.currentIndex=H})}};function C(E,F){D[E]=function(I,H,G){if(F&&!B.isWindow(I)){B.error(E+" caller should be window");return}if(H){f.wrap(I).addEvent(E,H,G)}else{f.wrap(I)[E]()}}}for(var A=0,u,z=w.length;A<z;A++){u=w[A];C(u,true)}for(var A=0,u,z=t.length;A<z;A++){u=t[A];C(u)}B.registerPlugin("Events",D,["on"])})(h);(function(z,t){var v=(function(){var F=document.createElement("table"),E;try{F.innerHTML="<tbody><tr><td>1</td></tr></tbody>"}catch(G){return false}E=F.getElementsByTagName("td").length!=0;F.innerHTML="";F=null;return E})(),y=(function(){var E=document.createElement("select"),F;try{E.innerHTML="<option>1</option>"}catch(G){return false}F=E.getElementsByTagName("option").length!=0;E.innerHTML="";E=null;return F})(),C=/^\s*<\s*tr\s*>/;function B(F,E){if(F){F._prevJxnNode=E}return F}function A(F){var E=F._prevJxnNode;if(E){F._prevJxnNode=null}return E}function D(G){var F=document.createElement("div");F.innerHTML="<table><tbody>"+G+"</tbody></table>";var E=F.getElementsByTagName("tr");return E}function x(H,G,F){if(F=="table"){H.appendChild(document.createElement("tbody"))}else{H=H.parentNode}var E=document.createElement("div");E.innerHTML="<table><tbody>"+G+"</tbody></table>";H.replaceChild(E.firstChild.firstChild,H.tBodies[0]);E.removeChild(E.firstChild);E=null}function u(J,I,H){var G=document.createElement("div"),F,E=J.selectedIndex,K;if(E==-1){E=0}G.innerHTML="<select>"+I+"</select>";F=G.firstChild;while(K=F.firstChild){J.appendChild(K)}G.removeChild(F);G=null;J.selectedIndex=E}var w={show:function(E){f.wrap(E).show()},hide:function(E){f.wrap(E).hide()},after:function(E,G){E=f.wrap(E);var F=G;if(z.isString(G)){F=z(G)[0]}else{if(z.isFunction(G)){G=G.call(E,null);if(!G){return}z(E).after(G);return}else{if(z.isJxnNode(G)){G.each(function(H){z.after(E,H)})}}}if(z.isDomNode(F)){f.wrap(E).grab(F,"after")}},insertBefore:function(E,F){z(F).before(E)},append:function(K,J){if(!z.isAcceptableElement(K)){return}if(z.isJxnNode(J)){J.each(function(L){K.appendChild(L)});return}var F=false;if(z.isString(J)){if(C.test(J)){F=true;J=D(J)}else{J=f.getDom(J)}}if(!F){K.appendChild(J);return}var I=z.tagName(K),G=I=="table"?(K.getElementsByTagName("tbody")[0]||K.tBodies[0]):K,E=J.length;for(var H=0;H<E;H++){G.appendChild(J[H])}},appendTo:function(G,I){if(I==="body"){I=document.body}else{if(I==="head"){I=document.head||document.getElementsByTagName("head")[0]||document.documentElement}}if(!z.isAcceptableElement(G)){return}if(z.isString(I)){I=Sizzle(I)}else{if(!z.isArray(I)&&!z.isJxnNode(I)){I=[I]}}var J=z.isInDomTree(G);for(var F=0,H,E=I.length;F<E;F++){H=I[F];H.appendChild(G);if(!J){G=G.cloneNode(true)}}},before:function(E,G){E=f.wrap(E);var F=G;if(z.isString(G)){F=z(G)[0]}else{if(z.isFunction(G)){G=G.call(E,null);if(!G){return}z.before(E,G);return}else{if(z.isJxnNode(G)){G.each(function(H){z.before(E,H)})}}}if(z.isDomNode(F)){f.wrap(E).grab(F,"before")}},clone:function(E){return E.cloneNode(true)},detach:function(){},empty:function(H){if(!H){return}if(H.nodeType===1){var F=H.getElementsByTagName("*");for(var G=0,K,E=F.length;G<E;G++){K=F[G];try{if(K.clearAttributes){K.clearAttributes()}else{for(var J in node){delete node[J]}}}catch(I){}}}while(H.firstChild){H.removeChild(H.firstChild)}},prepend:function(F,E){if(!z.isAcceptableElement(F)){return}if(z.isJxnNode(E)){E.each(function(G){F.insertBefore(G,F.firstChild)})}else{if(z.isString(E)){E=f.getDom(E)}F.insertBefore(E,F.firstChild)}},prependTo:function(G,I){if(!z.isAcceptableElement(G)){return}if(z.isString(I)){I=Sizzle(I)}else{if(!z.isArray(I)&&!z.isJxnNode(I)){I=[I]}}var J=z.isInDomTree(G);for(var F=0,H,E=I.length;F<E;F++){H=I[F];if(H.firstChild){H.insertBefore(G,H.firstChild)}else{H.appendChild(G)}if(!J){G=G.cloneNode(true)}}},remove:function(E){f.wrap(E).dispose()},replaceAll:function(G,H){if(!z.isAcceptableElement(G)){return}if(z.isString(H)){H=Sizzle(H)}else{if(!z.isArray(H)&&!z.isJxnNode(H)){H=[H]}}var I=z.isInDomTree(G);for(var F=0,E=H.length;F<E;F++){H[F].parentNode.replaceChild(G,H[F]);if(!I){G=G.cloneNode(true)}}},replaceWith:function(F,E){if(z.isString(E)){E=f.getDom(E)}F.parentNode.replaceChild(E,F)},text:function(E,F){if(F&&z.isString(F)){f.wrap(E).setContent(F)}else{return Sizzle.getText([E])}},val:function(E,F){if(!z.isUndefined(F)){E.value=F}else{return E.value}},wrap:function(G,F){if(z.isFunction(F)){F=F.call(G,null)}var H=G.parentNode,E=f.getDom(z.trim(F)),I=E.firstChild;H.insertBefore(E,G);I.appendChild(G)},unwrap:function(I){var J=I.parentNode;if(J==document.body){return}var E=J.parentNode;var H=f.wrap(J).getChildren();for(var G=0,F=H.length;G<F;G++){E.insertBefore(H[G],J)}E.removeChild(J)},wrapAll:function(){alert("not implemented")},wrapInner:function(){alert("not implemented")},html:function(G,F){if(z.isUndefined(F)){return G.innerHTML}var E=z.tagName(G);z.empty(G);if(!v&&/table|tbody/.test(E)){x(G,F,E);return}if(!y&&/select/.test(E)){u(G,F,E);return}try{f.wrap(G).setContent(F)}catch(H){z.error(E+" can not set innerHTML")}},prev:function(F,E){E=E||"*";return B(z(f.wrap(F).getPrevious(E)),this)},prevAll:function(F,E){E=E||"*";return B(z(f.wrap(F).getAllPrevious(E)),this)},next:function(F,E){E=E||"*";return B(z(f.wrap(F).getNext(E)),this)},nextAll:function(F,E){E=E||"*";return B(z(f.wrap(F).getAllNext(E)),this)},parent:function(F,E){return B(z(f.wrap(F).getParent(E)),this)},parents:function(F,E){return B(z(f.wrap(F).getParents(E)),this)},siblings:function(F,E){E=E||"*";return B(z(f.wrap(F).getSiblings(E)),this)},firstChild:function(F,E){E=E||"*";return B(z(f.wrap(F).getFirst(E)),this)},lastChild:function(F,E){E=E||"*";return B(z(f.wrap(F).getLast(E)),this)},children:function(F,E){E=E||"*";return B(z(f.wrap(F).getChildren(E)),this)},find:function(F,E){return B(z(E,F),this)},end:function(E){return A(this)}};z.registerPlugin("Dom",w,["html","empty","before","after","show","hide"])})(h);(function(v,x){var w=/^-?\d+(?:px)?$/i;var u={width:function(y){if(w.test(y)){y=parseFloat(y);if(y>=0){y=y+"px"}}return y}};u.width=u.height=u.top=u.left;var t={addClass:function(z,y){f.wrap(z).addClass(y)},removeClass:function(z,y){if(y===x){var A=v.trim(f.wrap(z).className);if(A==""){return}A=A.split(" ");v.forEach(A,function(B){B=v.trim(B);if(B!=""){f.wrap(z).removeClass(B)}})}else{f.wrap(z).removeClass(y)}},toggleClass:function(y,z){f.wrap(y).toggleClass(z)},hasClass:function(z,y){return f.wrap(z).hasClass(y)},css:function(z,y,B){if(!v.isAcceptableElement(z)){v("css() should be called by dom node");return}z=f.wrap(z);if(v.isObject(y)){v.forEach(y,function(F,E){F=i.camelCase(F);E=u[F]?u[F](E):E;z.setStyle(F,E)})}else{if(B!==x){y=i.camelCase(y);B=u[y]?u[y](B):B;z.setStyle(i.camelCase(y),B)}else{if(y){if(y.indexOf(":")!=-1){z.style.cssText+=";"+y}else{if((y=="width"||y=="height")&&z.offsetWidth===0){var A={position:"absolute",visibility:"hidden",display:"block"},C={position:z.getStyle("position"),visibility:z.getStyle("visibility"),display:z.getStyle("display")},B;for(var D in A){z.setStyle(D,A[D])}B=z.getStyle(i.camelCase(y));for(var D in C){z.setStyle(D,C[D])}return B}return z.getStyle(i.camelCase(y))}}else{return z.style.cssText}}}}};v.registerPlugin("Css",t,["css"])})(h);(function(u,z){var w={ajaxComplete:function(A,B){},ajaxSuccess:function(A,B){},ajaxStop:function(A,B){},ajaxStart:function(A,B){},ajaxSend:function(A,B){},ajaxError:function(A,B){},loadFile:function(B,A,C,E){if(u.isFunction(C)){E=C;C=z}var D=function(F){u.html(B,F||"");E&&E.call(B,F)};u.get(A,C,D)},serialize:function(B){if(!u.isDomNode(B)){u.error("serialize should be called by form element");return""}var A=B.tagName.toLowerCase();if(A!="form"){u.error("serialize should be called by form tag, not "+A);return""}return f.wrap(B).toQueryString()},serializeArray:function(A){}};function x(A,B){if(A.attachEvent){A.attachEvent("onload",function(){B.call(this,A)})}else{setTimeout(function(){var D=arguments.callee;if(B.isCalled){return}var C=false;if(b.ua.webkit){if(A.sheet){C=true}}else{if(A.sheet){try{if(A.sheet.cssRules){C=true}}catch(E){if(E.code===1000||E.code==18){C=true}}}}if(C){setTimeout(function(){B.call(A,A)},1)}else{setTimeout(D,1)}},0)}}function y(A,D){var C,B=document.head||document.getElementsByTagName("head")[0]||document.documentElement;var C=document.createElement("link");C.rel="stylesheet";C.type="text/css";C.href=A;B.appendChild(C);if(!D){return C}x(C,D);return C}function t(B,D){var A,C=document.head||document.getElementsByTagName("head")[0]||document.documentElement;A=document.createElement("script");A.async="async";A.src=B;A.onload=A.onreadystatechange=function(){if(!A.readyState||/loaded|complete/.test(A.readyState)){A.onload=A.onreadystatechange=null;if(C&&A.parentNode){u.empty(A);C.removeChild(A)}A=z;D&&D.call(this)}};C.insertBefore(A,C.firstChild)}var v={xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript"};u.extend(u,{ajax:function(C,B){if(u.isObject(C)){B=C;C=B.url}var A=B.dataType;B=B||{};if(A=="script"){t(C,B.success||B.onsuccess||B.onSuccess);return}var F={};if(B.ifModified){F["If-Modified-Since"]=parseInt(B.ifModified)}if(B.ContentType){F["Content-Type"]=B.ContentType}if(B.cache){F["Cache-Control"]=B.cache||"no-cache"}if(A){if(v[A]){F.Accept=v[A]+", */*;q=0.01"}else{if(A=="*"){F.Accept="*/*"}}}var E=u.isString(B.data)?B.data:i.toQueryString(B.data);var G=B.method||B.type||"get";var D=new p.Request({url:C||B.url,data:G=="post"?"":E,dataType:B.dataType,method:G,timeout:B.timeout,headers:F,onsuccess:B.success||B.onsuccess||B.onSuccess,onerror:B.error||B.onerror||B.onError,oncomplete:B.complete||B.oncomplete||B.onComplete});D.send(G=="post"?E:"");return D},ajaxSetup:function(){},get:function(A,D,E,B){if(u.isFunction(D)){B=B||E;E=D;D=z}var C=E;if(B=="json"){E=function(F){C&&C.call(this,JSON.parse(F.responseText||""))}}else{E=function(F){C&&C.call(this,F&&F.responseText)}}return u.ajax({method:"get",url:A,data:D,success:E,dataType:B})},getJSON:function(A,B,C){return u.get(A,B,C,"json")},getScript:function(C,E){if(u.isString(C)){return u.get(C,z,E,"script")}if(!u.isArray(C)){return}var A=C.length,B=0,D=function(){B++;if(B==A){E&&E.call(this)}};u.forEach(C,function(F){u.getScript(F,D)})},getCSS:function(D,F){if(u.isString(D)){return y(D,F)}if(!u.isArray(D)){return}var A=D.length,B=0,C=[],E=function(){B++;if(B==A){F&&F.call(this,C)}};u.forEach(D,function(G){C.push(u.getCSS(G,E))})},post:function(A,C,D,B){if(u.isFunction(C)){B=B||D;D=C;C=z}return u.ajax({method:"post",url:A,data:C,success:D,dataType:B})},param:function(){}});u.registerPlugin("Ajax",w,["loadFile"])})(h);(function(B,z){var C={linear:function(H,G,J,I){return J*H/I+G},easeIn:function(H,G,J,I){return J*(H/=I)*H+G},easeOut:function(H,G,J,I){return -J*(H/=I)*(H-2)+G},easeBoth:function(H,G,J,I){if((H/=I/2)<1){return J/2*H*H+G}return -J/2*((--H)*(H-2)-1)+G},backIn:function(H,G,K,J,I){if(typeof I=="undefined"){I=1.70158}return K*(H/=J)*H*((I+1)*H-I)+G},backOut:function(H,G,K,J,I){if(typeof I=="undefined"){I=1.70158}return K*((H=H/J-1)*H*((I+1)*H+I)+1)+G},backBoth:function(H,G,K,J,I){if(typeof I=="undefined"){I=1.70158}if((H/=J/2)<1){return K/2*(H*H*(((I*=(1.525))+1)*H-I))+G}return K/2*((H-=2)*H*(((I*=(1.525))+1)*H+I)+2)+G},bounceIn:function(H,G,J,I){return J-C.bounceOut(I-H,0,J,I)+G},bounceOut:function(H,G,J,I){if((H/=I)<(1/2.75)){return J*(7.5625*H*H)+G}else{if(H<(2/2.75)){return J*(7.5625*(H-=(1.5/2.75))*H+0.75)+G}else{if(H<(2.5/2.75)){return J*(7.5625*(H-=(2.25/2.75))*H+0.9375)+G}}}return J*(7.5625*(H-=(2.625/2.75))*H+0.984375)+G},bounceBoth:function(H,G,J,I){if(H<I/2){return C.bounceIn(H*2,0,J,I)*0.5+G}return C.bounceOut(H*2-I,0,J,I)*0.5+J*0.5+G}};var F=function(){if(this.onTweening){this.onTweening.apply(this)}if(this.current>=this.frames){this.stop();if(this.onComplete){this.onComplete.apply(this)}this.tweening=false;return}this.current++};var x=function(G,H){this.tween=G||"linear";this.duration=B.isNumber(H)?H:(A[H]||1000);this.reset(G,this.duration);this.tweening=false};x.prototype={equation:function(H,G){return this.tweenMethod((this.current/this.frames)*this.duration,H,G-H,this.duration)},reset:function(G,H){if(this.tweening){this.stop()}this.duration=H||400;this.tween=G||"linear";this.fps=this.fps||35;this.frames=Math.ceil((this.duration/1000)*this.fps);if(this.frames<1){this.frames=1}this.tweenMethod=("function"==typeof this.tween)?this.tween:C[this.tween]||C.linear;this.current=1},start:function(){this.tweening=true;var G=this,H=this.duration/this.frames;this.timer=setInterval(function(){F.call(G)},H)},stop:function(){if(this.timer){clearInterval(this.timer);this.timer=null}this.tweening=false},hold:function(){this.stop()},goon:function(){this.start()}};var w=/[a-zA-Z]+/,t=/^(?:([+\-])=)([\d\.]+)/;function v(G,I){var H=w.exec(G);if(H){return H[0]}H=w.exec(I);if(H){return H[0]}return"px"}function D(G){return B.getNumber(G)}function u(H,G){if(B.isNumber(H)){return H}if(t.test(B.trim(H))){if(RegExp.$1=="+"){return G+D(RegExp.$2)}else{return G-D(RegExp.$2)}}return D(H)}var A={slow:600,fast:200};function y(J,P,I,O,G){var Q=[],R={},L={},M={},S,T,H;if(B.isFunction(P)){P=P.call(J);if(!P||!B.isObject(P)){B.error("function as first param, should return an object");P={}}}if(B.isFunction(I)){G=I;I=P.duration}if(B.isFunction(O)){G=O;O="linear"}if(B.isObject(I)){var U=I;I=U.duration;O=U.easing;G=U.complete;H=U.step}I=B.isNumber(I)?I:(A[I]||1000);T=J.__jxnMotion;var K=T.isNew;T.isNew=false;B.forEach(P,function(V,W){V=i.camelCase(V);Q.push(V);S=D(B.css(J,V)||"0");if(isNaN(S)){S=0}R[V]=S;L[V]=u(W,S);M[V]=v(S,W)});var N=Q.length;if(N==0){}T.onTweening=function(){for(var V=0,X,W;V<N;V++){X=Q[V];W=this.equation(R[X],L[X]);if(M[X]){W=W+M[X]}B.css(J,X,W)}B.isFunction(H)&&H.call(J,this.equation(0,this.frames),this.frames,T)};T.onComplete=function(){for(var W=0,Y,X;W<N;W++){Y=Q[W];X=L[Y];if(M[Y]){X=X+M[Y]}if(B.css(J,Y)!=X){B.css(J,Y,X)}}B.isFunction(G)&&G.call(J,this.frames,T);this.tweening=false;if(J.__motionQueue&&J.__motionQueue.length!=0){var V=J.__motionQueue.shift();y.apply(J,V)}};if(!K){T.reset(O,I)}T.start();J.__motion=T}var E={animate:function(K,J,M,N,H){if(!J){B.error("need params for animate");return}var G,I=N,L=M;if(B.isFunction(I)){I="linear"}if(!K.__jxnMotion){if(B.isObject(M)){I=M.easing;L=M.duration}K.__jxnMotion=new x(I,L);K.__jxnMotion.isNew=true}G=K.__jxnMotion;if(G.tweening){K.__motionQueue=K.__motionQueue||[];K.__motionQueue.push(B.slice.call(arguments));return}y.apply(K,arguments)},clearQueue:function(J){var G=J.__motionQueue;if(!G){return}for(var I=0,H=G.length;I<H;I++){G[I]=null}J.__motionQueue=null},delay:function(G,H,I){B.animate(G,{},H,"linear",I)},dequeue:function(){},fadeOut:function(G,H,I){B.animate(G,{opacity:"0"},H,"easeIn",function(){B.css(G,"opacity","0");B.data(G,"display-bak",B.css(G,"display"));B.css(G,"display","none");I&&I.apply(G,arguments)})},fadeIn:function(H,I,J){var G=function(){B.css(H,"display",B.data(H,"display-bak")||"");B.css(H,"opacity","0");return{opacity:"1"}};B.animate(H,G,I,"easeOut",function(){B.css(H,"opacity","1");B.removeData(H,"display-bak");J&&J.apply(H,arguments)})},fadeTo:function(I,J,H,K){var G=function(){if(H!=0){B.css(I,"display",B.data(I,"display-bak")||"");B.removeData(I,"display-bak")}return{opacity:H}};B.animate(I,G,J,"linear",function(){B.css(I,"opacity",H);K&&K.apply(I,arguments)})},fadeToggle:function(){},fx:{interval:function(){},off:function(){}},queue:function(){},slideDown:function(H,I,J){var G=function(){var K,N,L,M;if(B.data(this,"animate-height-bak")){K=B.data(this,"animate-height-bak");N=B.data(this,"animate-display-bak");L=B.data(this,"animate-opacity-bak")}else{M=B("<"+this.tagName+">").appendTo("body");K=M.css("height");N=M.css("display");L=M.css("opacity");M.remove()}B.css(this,"display",N);B.css(this,"height","0px");return{height:K,opacity:L}};B.animate(H,G,I,"easeIn",J)},slideToggle:function(){},slideUp:function(H,I,J){var G=function(){B.data(this,"animate-height-bak",B.css(this,"height"));B.data(this,"animate-opacity-bak",B.css(this,"opacity"));B.data(this,"animate-display-bak",B.css(this,"display"));return{height:"0px",opacity:0}};B.animate(H,G,I,"easeIn",function(){B.css(H,"opacity","0");B.css(H,"display","none");J&&J.call(H,arguments)})},start:function(G){G.__jxnMotion&&G.__jxnMotion.start()},stop:function(I,J,H){var G=I.__jxnMotion;if(!G){return}if(J){B.clearQueue(I)}G.stop();if(H){G.onComplete()}},hold:function(G){G.__jxnMotion&&G.__jxnMotion.hold()},goon:function(G){G.__jxnMotion&&G.__jxnMotion.goon()}};B.registerPlugin("Effect",E,["animate","clearQueue"])})(h);(function(u,w){var v=/^(?:body|html)$/i;var t={position:function(y){if(!y){return null}var A=u(y),z=A.offsetParent(),B=A.offset(),x=v.test(z[0].nodeName)?{top:0,left:0}:z.offset();B.top-=parseFloat(u.css(y,"marginTop"))||0;B.left-=parseFloat(u.css(y,"marginLeft"))||0;x.top+=parseFloat(u.css(z[0],"borderTopWidth"))||0;x.left+=parseFloat(u.css(z[0],"borderLeftWidth"))||0;return{top:B.top-x.top,left:B.left-x.left}},scrollTop:function(y,z){if(z!==w){var A=u.getWindow(y);if(A){A.scrollTo(u(A).scrollLeft(),z)}else{y.scrollTop=z}return}var A=u.getWindow(y);if(A){if("pageYOffset" in A){return A.pageYOffset}var x=A.document.body;var B=A.document.documentElement;B=(B.clientWidth)?B:x;return B.scrollTop}else{return y.scrollTop}},scrollLeft:function(y,z){if(z!==w){var A=u.getWindow(y);if(A){A.scrollTo(z,u.scrollTop(A))}else{y.scrollLeft=z}return}var A=u.getWindow(y);if(A){if("pageXOffset" in A){return A.pageXOffset}var x=A.document.body;var B=A.document.documentElement;B=(B.clientWidth)?B:x;return B.scrollLeft}else{return y.scrollLeft}}};u.registerPlugin("Position",t,["position","scrollLeft","scrollTop"])})(h);(function(u,A){var w=/^(?:body|html)$/i;function v(H){if(H.getBoundingClientRect){var G=H.getBoundingClientRect(),E=H.ownerDocument.documentElement,C={x:t(H),y:y(H)},I=(H.style.position=="fixed");return{left:parseInt(G.left,10)+((I)?0:C.x)-E.clientLeft,top:parseInt(G.top,10)+((I)?0:C.y)-E.clientTop}}var D=H,B={left:0,top:0};if(H.tagName=="BODY"){return B}while(D&&D.tagName!="BODY"){B.left+=D.offsetLeft;B.top+=D.offsetTop;if(b.ua.gecko){if(!borderBox(D)){B.left+=parseFloat(D.style.borderLeftWidth);B.top+=parseFloat(D.style.borderTopWidth)}var F=D.parentNode;if(F&&F.style.overflow!="visible"){B.left+=parseFloat(F.style.borderLeftWidth);B.top+=parseFloat(F.style.borderTopWidth)}}else{if(D!=H&&b.ua.webket){B.left+=parseFloat(D.style.borderLeftWidth);B.top+=parseFloat(D.style.borderTopWidth)}}D=D.offsetParent}if(b.ua.gecko&&H.style.MozBoxSizing!="border-box"){B.left-=parseFloat(H.style.borderLeftWidth);B.top-=parseFloat(H.style.borderTopWidth)}return B}function y(B){if(document.documentElement&&document.documentElement.scrollTop){return document.documentElement.scrollTop}else{return document.body.scrollTop}}function t(B){if(document.documentElement&&document.documentElement.scrollLeft){return document.documentElement.scrollLeft}else{return document.body.scrollLeft}}function x(D,C,E){var G=C.toLowerCase();if(u.isWindow(D)){var F=D.document.documentElement["client"+C],B=D.document.body;return D.document.compatMode==="CSS1Compat"&&F||B&&B["client"+C]||F}else{if(u.isDocument(D)){return Math.max(D.documentElement["client"+C],D.body["client"+C],D.documentElement["client"+C],D.body["client"+C],D.documentElement["client"+C])}}if(E!==A){if(u.isNumber(E)){E=E+"px"}u.css(D,G,E);return}return parseInt(u.css(D,G))}var z={offsetParent:function(B){var C=B.offsetParent||document.body;while(C&&(!w.test(C.nodeName)&&u.css(C,"position")==="static")){C=C.offsetParent}return u(C)},offset:function(B){return v(B)},width:function(B,C){return x(B,"Width",C)},height:function(C,B){return x(C,"Height",B)},innerWidth:function(B){return parseFloat(u.css(B,"width"))+parseFloat(u.css(B,"paddingLeft"))+parseFloat(u.css(B,"paddingRight"))},innerHeight:function(B){return parseFloat(u.css(B,"height"))+parseFloat(u.css(B,"paddingTop"))+parseFloat(u.css(B,"paddingBottom"))},outerWidth:function(B,C){return u.innerWidth(B)+(parseFloat(u.css(B,"borderLeftWidth"))||0)+(parseFloat(u.css(B,"borderRightWidth"))||0)+(C?(parseFloat(u.css(B,"marginLeft"))+parseFloat(u.css(B,"marginRight"))):0)},outerHeight:function(B,C){return u.innerHeight(B)+(parseFloat(u.css(B,"borderTopWidth"))||0)+(parseFloat(u.css(B,"borderBottomWidth"))||0)+(C?(parseFloat(u.css(B,"marginTop"))+parseFloat(u.css(B,"marginBottom"))):0)}};u.registerPlugin("Offset",z,["innerWidth","innerHeight"])})(h);(function(v,z){var u={tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},x=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i;function t(B,A){return x.test(A)&&A in B}function w(D,B,I,F){F=F||"";if(v.isObject(B)){for(var A in B){if(!B.hasOwnProperty(A)){continue}w(D,A,B[A],F)}return}if(I===z){var H=F+B,C=null,E,I;if(t(D,H)){I=D[H];I=!!I&&I!="false";return I}else{C=D.getAttribute(H);if(v.isString(C)&&v.trim(C).indexOf("{")==0){try{E=JSON.parse(C)}catch(G){}}I=E||C}return I}else{if(v.isObject(I)){D.setAttribute(F+B,JSON.stringify(I))}else{D.setAttribute(F+B,I)}var H=F+B;if(t(D,H)){D[H]=I}}}var y={attr:function(B,A,C){return w(B,A,C)},data:function(B,A,C){return w(B,A,C,"data-")},removeAttr:function(B,A){if(B.nodeType!=1){return}A=u[A]||A;if(B.removeAttribute){B.setAttribute(A,"");B.removeAttribute(A);if(x.test(A)&&A in B){B[A]=false}}},removeData:function(B,A){A="data-"+A;if(B.removeAttribute){B.removeAttribute(A)}else{B[A]=null;try{delete B[A]}catch(C){}}}};v.registerPlugin("Data",y,["attr","data","removeData"])})(h);(function(t,u){var w={};for(var v in b.ua){w[v]=b.ua[v]}w.version=b.ua[b.ua.shell];w[b.ua.shell]=true;t.browser={};t.extend(t.browser,w)})(h);(function(t,u){var w=24*60*60*1000,v={get:function(y){var A=document.cookie,B;if(!A||A==""){return null}if(!y){return A}y=t.trim(y);B=A.split(";");for(var z=0,D,C,x=B.length;z<x;z++){C=t.trim(B[z]);D=C.split("=");if(t.trim(D[0])==y){return decodeURIComponent(t.trim(D[1]))}}return null},set:function(A,C,z){var x="",y,E,B,D;z=z||{};if(C===null){C="";z.expires=-1}if(z.expires){if(t.isNumber(z.expires)){y=new Date();y.setTime(y.getTime()+z.expires*w)}else{if(z.expires.toUTCString){y=z.expires}}x="; expires="+y.toUTCString()}E=z.path?"; path="+z.path:"";B=z.domain?"; domain="+z.domain:"";D=z.secure?"; secure":"";document.cookie=[A,"=",encodeURIComponent(C),x,E,B,D].join("")},remove:function(x){t.cookie.set(x,null)}};t.cookie=function(y,z,x){if(typeof z!="undefined"){t.cookie.set(y,z,x)}else{return t.cookie.get(y)}};t.extend(t.cookie,v)})(h);(function(w,t){function u(E,G){var F=document.createElement("div");F.style.display="none";F.style.behavior="url(#default#userData)";var D=new Date();D.setDate(D.getDate()+G);F.expires=D.toUTCString();(document.body||document.getElementsByTagName("body")[0]).appendChild(F);return F}var B=new Class(function(){this.initialize=function(E,F,D){E.__storageName=F||"ObjectJSLocalStorage";E.__expires=D||365*100;E.__storageHolder=u(E.__storageName,E.__expires)};this.setItem=function(D,H,I){var G=D.__storageHolder,F=D.__storageName;var E=D.getItem(H);G.load(F);G.setAttribute(H,I);G.save(F)};this.getItem=function(D,G){var F=D.__storageHolder,E=D.__storageName;F.load(E);return F.getAttribute(G)};this.removeItem=function(D,H){var G=D.__storageHolder,F=D.__storageName;var E=D.getItem(H);G.load(F);G.removeAttribute(H);G.save(F)};this.clear=function(D){var F=D.__storageHolder,E=D.__storageName;F.load(E);var G=new Date();G.setDate(G.getDate()-1);F.expires=G.toUTCString();F.save(E);document.body.removeChild(D.__storageHolder);D.__storageHolder=u(D.__storageName,D.__expires)}});var z=("localStorage" in window),v,y={},C=false;if(z){try{window.localStorage!=null;z=true}catch(x){z=false}}function A(){if(C){return}C=true;w(function(){v=new B();w.forEach(y,function(D,E){v.setItem(D,E);delete y[D]});y=null})}if(z){v=window.localStorage}w.storage=function(D,E){if(E===t){return w.storage.get(D)}else{w.storage.set(D,E)}};w.storage.set=function(D,E){if(w.isObject(E)){E=JSON.stringify(E)}if(!v){y[D]=E;A();return}v.setItem(D,E)};w.storage.get=function(D){if(!v){return y[D]}var F=v.getItem(D),E;if(w.isString(F)&&w.trim(F).indexOf("{")==0){try{E=JSON.parse(F)}catch(G){}}return E||F};w.storage.remove=function(D){if(!v){delete y[D];A();return}v.removeItem(D)};w.storage.clear=function(){if(!v){y={};return}v.clear()}})(h);(function(v,w){var u=2;DELAY_FACTOR={ieshell:{"6":3,"7":2.5,"8":2,"9":1.5,"10":1.3,other:1.2},firefox:1.2,chrome:1,other:1},cache={},DELAY_GID=0;function t(z,x){if(!(z in DELAY_FACTOR)){return DELAY_FACTOR.other}var y=DELAY_FACTOR[z];if(!v.isObject(y)){return y}return y[x]||y.other}v.delayDo=function(z,y){z._gid=z._gid||DELAY_GID++;var x,A;if(!z||!v.isFunction(z)){console.error('please use delayDo like "delayDo(function, priority)"');return}if(z._gid in cache){v.clearDelayDo(z._gid)}y=y||u;x=t(v.browser.shell,v.browser.version);A=setTimeout(function(){z();v.clearDelayDo(z)},y*x*1000);cache[z._gid]=A};v._getDelayDos=function(){return cache};v.delayDoOrEvent=function(A,z,B,y){if(!v.isNumber(z)){y=B;B=z;z=u}if(!B){v.delayDo(A,z);return}var C=function(){x&&B.off(y,C);v.clearDelayDo(C);A()},x;v.delayDo(C,z);if(B=="domready"){v(C)}else{B=v(B);x=true;B.on(y,C)}};v.clearDelayDo=function(x){if(v.isFunction(x)){x=x._gid}if(x in cache){clearTimeout(cache[x]);cache[x]=null;delete cache[x]}}})(h);(function(t,v){var u=t(document);t.scrollViewportTo=function(A,z){if(!A&&A!==0){return}z=z||{};var x=z.delta||0,y=u.scrollTop(),B=(A===0?0:(t(A).position().top))+x,D=B-y,w=z.noEffect||false,C=z.easing||"easeOut";if(w){u.stop().clearQueue().scrollTop(B);return}u.stop().clearQueue().animate({},{step:function(F,E){u.scrollTop(y+Math.floor(D*F/E))},duration:500,easing:C})}})(h);(function(A,v){var z,C=false,t={},B=3;function y(G,I){var F=A(document).scrollTop()-I,D=F+z+I*2,H=G.position().top,E=H+G.innerHeight();return F<H&&H<D||F<E&&E<D}function u(){var D,E=document.documentElement;if(typeof window.innerHeight!="undefined"){D=window.innerHeight}else{if(typeof E!=="undefined"&&typeof E.clientHeight!=="undefined"&&E.clientHeight!=0){D=E.clientHeight}else{D=document.getElementsByTagName("body")[0].clientHeight}}return D}function w(I,F){var D=F.length,H=F.delta;if(D==0){return}for(var E=0,G;E<D;E++){G=A(F[E]);if(!y(G,H)){continue}if(I=="value"){G.val(G.data(I)).removeData(I)}else{G.attr(I,G.data(I)).removeData(I)}F.splice(E,1);E--;D--}}function x(){A.forEach(t,function(E,D){w(E,D)})}A._lazyLoadNodes=function(){return t};A.lazyLoad=function(D,G){G=G||{};var K=G.prop||"src",F=!!G.fast,I=A.isNumber(G.frequency)?G.frequency:B,J=G.delta||0,H=A(G.parent||document.body),E;t[K]=A(D,H);t[K].delta=J;if(C){return}C=true;E=(F===true)?"scroll":("scroll/"+I);A(window).on("resize",function(){z=u();x()}).on(E,function(){x()});z=u();x()};A.addLazyLoadNodes=function(G,F){F=F||{};var K=F.prop||"src",I=t[K]=t[K]||[],D=F.selector||"[data-"+K+"]";for(var H=0,J,E=G.length;H<E;H++){J=A(G[H]);if(!J.data(K)){J=A(D,J)}if(J.length!=0){I.push(J)}}w(K,I)}})(h);(function(C,w){C._specialEvents=C._specialEvents||[];var v=/^scroll\/\d+$/,t={},u=0,D={ieshell:{6:20,7:20,8:20,9:1,10:1},firefox:10,opera:15,safari:1,chrome:1,other:1},y={};function x(){var E=D[C.browser.shell];if(!E){return D.other}if(C.isNumber(E)){return E}return E[C.browser.version]||1}function B(E,I,H,G,F){return function(){var L=this,J=arguments,K=H*100;if(K>2000){K=2000}if(E==0){I&&clearTimeout(I);I=setTimeout(function(){F.apply(L,J);E=0;I=null;delete y[G]},K);y[G]=I}E++;if(E>=H-1){F.apply(L,J);E=0;if(I){clearTimeout(I);I=null;delete y[G]}}}}function A(J,G,I,L){var K=I._scroll_gid=u++,H;H=parseInt(G.split("/")[1]);if(isNaN(H)){C.error("scroll/N, N should be a number");return}times=H*x();var E=0,F=null,M=B(E,F,times,K,I);t[I._scroll_gid]=M;f.wrap(J).addEvent("scroll",M,L)}function z(H,G,F,E){var I=F._scroll_gid,J=y[I];f.wrap(H).removeEvent("scroll",t[F._scroll_gid],E);if(J){clearTimeout(J);J=null;delete y[I]}}C._specialEvents.push({likes:function(E){return v.test(E)},on:A,off:z})})(h);return h});if(!window.jxn){object.use("jxn",function(a){window.jxn=a})}object.add("XN","dom, ua",function(b,d,c){this.DEBUG_MODE=false;var a="http://s.xnimg.cn/";this.debug={log:function(){},on:function(){b.DEBUG_MODE=true;if(window.console&&console.log){b.debug.log=function(f){console.log(f)}}},off:function(){b.debug.log=function(){}}};this.namespace=function(){var f=arguments,m=null,h,g,k;for(h=0;h<f.length;h++){k=f[h].split(".");m=b;for(g=(k[0]=="XN")?1:0;g<k.length;g++){m[k[g]]=m[k[g]]||{};m=m[k[g]]}}return m};this.log=function(f){b.debug.log(f)};this.isUndefined=function(f){return typeof f=="undefined"};this.isString=function(f){return typeof f=="string"};this.isElement=function(f){return f&&f.nodeType==1};this.isFunction=function(f){return typeof f=="function"};this.isObject=function(f){return typeof f=="object"};this.isArray=function(f){return Object.prototype.toString.call(f)==="[object Array]"};this.isNumber=function(f){return typeof f=="number"};this.$extend=function(){var f=arguments[0];for(var h=1;h<arguments.length;h++){if(typeof arguments[h]=="object"){for(var g in arguments[h]){f[g]=arguments[h][g]}}}return f};this.namespace("config");this.config.jumpOut=true;(function(){var f={};var u={};b.getFileVersionNum=function(x){return u[x]};function q(x){return !!j(x)}function j(x){return f[encodeURIComponent(x)]}function m(x){var y={};y.file=x;y.isLoad=true;y.isLoaded=true;f[encodeURIComponent(x)]=y}function h(x){x.addEvent=function(z,A){if(!this._customEventListeners){this._customEventListeners={}}var y=this._customEventListeners;if(b.isUndefined(y[z])){y[z]=[]}y[z].push(A);return this},x.delEvent=function(A,B){var y=this._customEventListeners[A];if(y){for(var z=y.length-1;z>=0;z--){if(y[z]==B){y[z]=null;break}}}return this},x.fireEvent=function(C){if(!this._customEventListeners||!this._customEventListeners[C]){return}var z=this._customEventListeners[C],D=t(arguments);D.shift();for(var B=0,A=z.length;B<A;B++){if(z[B]){try{z[B].apply(this,D)}catch(y){if(b.DEBUG_MODE){throw y}}}}}}function t(A){var x=[];for(var z=0,y=A.length;z<y;z++){x.push(A[z])}return x}function i(x,A){var z={};z.file=x;z.isLoaded=false;h(z);z.addEvent("load",function(){this.isLoaded=true});if(!A){f[encodeURIComponent(x)]=z}var y=document.createElement("script");y.type="text/javascript";y.src=x;y.async=true;z.element=y;if(c.ua.shell=="ieshell"&&c.ua.ie<11){y.onreadystatechange=function(){if((this.readyState=="loaded"||this.readyState=="complete")&&!this.hasLoad){this.hasLoad=true;var B=j(x);if(B!=null){B.fireEvent("load")}else{try{b.loadFile(x)}catch(C){}}}}}else{y.onerror=y.onload=function(){var B=j(x);if(B){B.fireEvent("load")}}}Sizzle("head")[0].insertBefore(y,null)}function p(A,C,y,D){var z=false,x=false;if(b.isObject(A)){z=(A.type=="js");x=(A.type=="css");A=A.file}A=v(A);if(/\.js(\?|$)/.test(A)||z){if(y||!q(A)){i(A,D)}if(!C){return}if(j(A).isLoaded){C.call(j(A),true)}else{j(A).addEvent("load",function(){C(true)});j(A).addEvent("error",function(){C(false)})}}else{if(/\.css(\?|$)/.test(A)||x){if(!y&&q(A)){if(C){C.call(j(A))}return}m(A);var B=document.createElement("link");B.rel="stylesheet";B.type="text/css";B.href=A;Sizzle("head")[0].insertBefore(B,null);if(C){C.call(j(A))}}}}function v(x){s(o);if(!u[x]){return x}return u[x].file}var g=new RegExp("("+a+")(a?\\d+)/([^?]*)");var w=new RegExp("(.*)\\?ver=(\d+)(..*)");function k(y){var x;if(x=g.exec(y)){u[x[1]+x[3]]={file:y,version:x[2]}}else{if(x=w.exec(y)){u[x[1]]={file:y,version:x[2]}}}}b.getFileVersion=function(y){for(var x=y.length-1;x>=0;x--){k(y[x])}};b.loadFile=function(y,z,x){d.ready(function(){p(y,z,x)})};b.loadFileForever=function(y,z,x){d.ready(function(){p(y,z,x,true)})};b.unloadFile=function(x){if(x.parentNode){x.parentNode.removeChild(x);f[encodeURIComponent(x.src)]=null}};b.clearFiles=function(){for(var x in f){if(f.hasOwnProperty(x)){if(f[x]&&f[x].element){b.unloadFile(f[x].element)}}}};b.loadFiles=function(x,z){var y=x.length;function A(){y--;if(y===0&&z){z()}}x.forEach(function(B,C){b.loadFile(B,A)})};b.getVersion=function(x){k(x)};function o(){t(document.getElementsByTagName("script")).forEach(function(x,y){if(x.src){m(x.src);k(x.src)}if(x.getAttribute("vsrc")){k(x.getAttribute("vsrc"))}});t(document.getElementsByTagName("link")).forEach(function(x,y){if(x.rel&&x.rel=="stylesheet"){m(x.href);k(x.href)}if(x.getAttribute("vhref")){k(x.getAttribute("vhref"))}});b.log("load file version:");b.log(u)}b.dynamicLoad=function(x){x.funcs.forEach(function(z,y){window[z]=function(){var A=arguments;window[z]=null;if(x.file){x.files=[x.file]}b.loadFiles(x.files,function(){window[z].apply(null,A);if(x.callBack){x.callBack.call(null)}})}})};b.namespace("img");b.img.getVersion=function(x){s(o);if(!u[x]){return""}return u[x].version};b.img.getFullName=function(x){return v(x)};function s(x){if(window.runOnceFunc==null){window.runOnceFunc={}}if(window.runOnceFunc[x]){return null}window.runOnceFunc[x]=true;return x()}})()});object.add("XN.array","XN",function(a,b){this.toQueryString=function(d,h){var c=[],g;for(var f in d){g=d[f];if(b.isFunction(g)){continue}if(b.isObject(g)){c.push(arguments.callee(g,f))}else{if(/^\d+$/.test(f)){c.push((h||f)+"="+encodeURIComponent(g))}else{c.push(f+"="+encodeURIComponent(g))}}}return c.join("&")};this.each=function(c,h){if(!c){return}if(!b.isUndefined(c.length)||!b.isUndefined(c[0])){for(var g=0,d=c.length;g<d;g++){if(h.call(c,g,c[g])===false){break}}}else{for(var f in c){if(!b.isFunction(c[f])){if(h.call(c,f,c[f])===false){break}}}}};this.include=function(c,f){var d=false;a.each(c,function(h,g){if(g===f){d=true;return false}});return d};this.build=function(g){var c=[];for(var f=0,d=g.length;f<d;f++){c.push(g[f])}return c}});object.add("XN.func",function(a){if(window.runOnceFunc==null){window.runOnceFunc={}}this.empty=function(){};this.runOnce=function(b){if(window.runOnceFunc[b]){return null}window.runOnceFunc[b]=true;return b()}});object.add("XN.string","XN",function(a,b){this.nl2br=function(c){return(c||"").replace(/([^>])\n/g,"$1<br />")};this.trim=function(c){return(c||"").replace(/^\s+|\s+$/g,"")};this.ltrim=function(c){return(c||"").replace(/^\s+/,"")};this.rtrim=function(c){return(c||"").replace(/\s+$/,"")};this.strip=function(c){return a.trim(c)};this.stripTags=function(c){return c.replace(/<\/?[^>]+>/igm,"")};this.escapeHTML=function(c){return c.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")};this.unescapeHTML=function(c){return c.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&nbsp;/g," ").replace(/&quot;/g,'"').replace(/&amp;/g,"&")};this.include=function(d,c){return d.indexOf(c)>-1};this.startsWith=function(d,c){return d.indexOf(c)===0};this.endsWith=function(g,c){var f=g.length-c.length;return f>=0&&g.lastIndexOf(c)===f};this.isBlank=function(c){return/^\s*$/.test(c)};this.isEmail=function(c){return/^[A-Z_a-z0-9-\.]+@([A-Z_a-z0-9-]+\.)+[a-z0-9A-Z]{2,4}$/.test(c)};this.isMobile=function(c){return/^((\(\d{2,3}\))|(\d{3}\-))?((1[345]\d{9})|(18\d{9}))$/.test(c)};this.isUrl=function(c){return/^(http:|ftp:)\/\/[A-Za-z0-9]+\.[A-Za-z0-9]+[\/=\?%\-&_~`@[\]\':+!]*([^<>\"])*$/.test(c)};this.isIp=function(c){return/^(0|[1-9]\d?|[0-1]\d{2}|2[0-4]\d|25[0-5]).(0|[1-9]\d?|[0-1]\d{2}|2[0-4]\d|25[0-5]).(0|[1-9]\d?|[0-1]\d{2}|2[0-4]\d|25[0-5]).(0|[1-9]\d?|[0-1]\d{2}|2[0-4]\d|25[0-5])$/.test(c)};this.isNumber=function(c){return/^\d+$/.test(c)};this.isZip=function(c){return/^[1-9]\d{5}$/.test(c)};this.isEN=function(c){return/^[A-Za-z]+$/.test(c)};this.isJSON=function(c){if(!b.isString(c)||c===""){return false}c=c.replace(/\\./g,"@").replace(/"[^"\\\n\r]*"/g,"");return(/^[,:{}\[\]0-9.\-+Eaeflnr-u \n\r\t]*$/).test(c)};this.getQuery=function(g,f){f=f||window.location.href+"";if(f.indexOf("#")!==-1){f=f.substring(0,f.indexOf("#"))}var d=[],c;var h=new RegExp("(^|\\?|&)"+g+"=([^&]*)(?=&|#|$)","g");while((c=h.exec(f))!=null){d.push(decodeURIComponent(c[2]))}if(d.length==0){return null}if(d.length==1){return d[0]}return d};this.setQuery=function(f,g,c){c=c||window.location.href+"";var j="";if(!/^http/.test(c)){return c}if(c.indexOf("#")!==-1){j=c.substring(c.indexOf("#"))}c=c.replace(j,"");c=c.replace(new RegExp("(^|\\?|&)"+f+"=[^&]*(?=&|#|$)","g"),"");g=b.isArray(g)?g:[g];for(var d=g.length-1;d>=0;d--){g[d]=encodeURIComponent(g[d])}var h=f+"="+g.join("&"+f+"=");return c+(/\?/.test(c)?"&":"?")+h+j};this.isNum=this.isNumber});object.add("XN.json",function(exports){this._PARSE_DATE=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})Z$/;this.dateToString=function(d){function _zeroPad(v){return v<10?"0"+v:v}return'"'+d.getUTCFullYear()+"-"+_zeroPad(d.getUTCMonth()+1)+"-"+_zeroPad(d.getUTCDate())+"T"+_zeroPad(d.getUTCHours())+":"+_zeroPad(d.getUTCMinutes())+":"+_zeroPad(d.getUTCSeconds())+'Z"'};this.stringToDate=function(str){if(exports._PARSE_DATE.test(str)){var d=new Date();d.setUTCFullYear(RegExp.$1,(RegExp.$2|0)-1,RegExp.$3);d.setUTCHours(RegExp.$4,RegExp.$5,RegExp.$6);return d}};this.parse=function(str){return eval("("+str+")")};this.build=function(o,w,d){return JSON.stringify(o,w,d)}});object.add("XN.util","XN, XN.json, XN.array, XN.event, XN.string",function(a,b){if(!window.__timeouts==null){window.__timeouts=[];window.__intervals=[]}this.setTimeout=function(d,c){var f=setTimeout(d,c);window.__timeouts.push(f);return f};this.setInterval=function(d,c){var f=setInterval(d,c);window.__intervals.push(f);return f};this.clearTimeout=function(d){for(var c=0;c<window.__timeouts.length;c++){if(window.__timeouts[c]==d){window.__timeouts.slice(c,1)}}clearTimeout(d)};this.clearInterval=function(d){for(var c=0;c<window.__intervals.length;c++){if(window.__intervals[c]==d){window.__intervals.slice(c,1)}}clearInterval(d)};this.clearAllTimer=function(){for(var c=0;c<window.__timeouts.length;c++){clearTimeout(window.__timeouts[c])}for(var c=0;c<window.__intervals.length;c++){clearInterval(window.__intervals[c])}window.__timeouts=[];window.__intervals=[]};this.cache=function(c){b.$extend(this,c);this._cacheData=[]};this.cache.prototype={cacheLength:null,_cacheData:null,isExist:function(c){return this.get(c)},add:function(c,d){if(!b.isUndefined(this.isExist(c))){return}if(this.cacheLength&&this.cacheLength==this._cacheData.length){this._cacheData.shift()}this._cacheData.push({key:c,value:d})},get:function(d){for(var c=this._cacheData.length-1;c>=0;c--){if(this._cacheData[c].key==d){return this._cacheData[c].value}}},clear:function(){this._cacheData=[]}};(function(){var c={};a.hotKey={add:function(g,h,k){g=String(g).toLowerCase();var i=false;var j=false;var d=false;var f=null;if(/^\d+$/.test(g)){f=parseInt(g)}else{i=/ctrl|ctr|c/.test(g);j=/alt|a/.test(g);d=/shift|s/.test(g);if(/\d+/.test(g)){f=parseInt(/\d+/.exec(g)[0])}else{f=false}}c[g]=c[g]||{};c[g][h]=function(m){m=m||window.event;code=m.keyCode;if(i&&!m.ctrlKey){return}if(j&&!m.altKey){return}if(d&&!m.shiftKey){return}if(f&&code!==f){return}h.call(k||null);b.event.stop(m)};b.event.addEvent(document,"keydown",c[g][h])},del:function(d,f){d=String(d).toLowerCase();b.event.delEvent(document,"keydown",c[d][f]);delete c[d][f]}}})();(function(){var c=0;a.createObjID=function(){c++;return c}})()});object.add("XN.datasource","XN, XN.json, XN.net, XN.string, XN.array",function(a,b){this.DS_JSON=function(c){b.$extend(this,c)};this.DS_JSON.prototype={DS_TYPE:"JSON",url:null,queryParam:"query",attachParam:"",rootKey:null,method:"get",_request:null,query:function(c,d){var h=this;try{this._request.abort()}catch(f){}function g(k){k=k.responseText;var j;try{var i=b.json.parse(k);if(h.rootKey&&i[h.rootKey]){j=i[h.rootKey]}else{j=i}}catch(m){j=[]}d(j)}this._request=new b.net.xmlhttp({url:this.url,data:this.queryParam+"="+encodeURIComponent(c)+"&"+this.attachParam,method:this.method,onSuccess:g})}};this.DS_friends=function(f){var d=new a.DS_JSON(f);d.queryParam="p";d.rootKey="candidate";d.net="";d.group="";d.page=b.isUndefined(f.page)?false:f.page;d.param=b.json.build(f.param||{});var c=b.isUndefined(f.limit)?24:f.limit;d.query=function(g,h){b.log("start query");g=g.replace(/[^a-zA-Z\u0391-\uFFE5]/g,"");if(b.string.isBlank(g)&&this.group==""&&this.net==""){h([]);return}var i=['{"init":false,','"qkey":"'+this.qkey+'",','"uid":true,','"uname":true,','"uhead":true,','"limit":'+c+",",'"param":'+this.param+",",'"query":"'+g+'",','"group":"'+this.group+'",','"net":"'+this.net+'",','"page":"'+this.page+'"',"}"].join("");a.DS_JSON.prototype.query.call(this,i,h)};return d};this.DS_Array=function(c){b.$extend(this,c);this.init()};this.DS_Array.prototype={DS_TYPE:"array",data:null,searchKey:null,init:function(){var d=this.searchKey,c=this._index=[];b.array.each(this.data,function(g,f){c.push(f[d])})},query:function(c,d){d(this._search(c))},_search:function(d){var g=this._index,h=this.data,c=[],f=new RegExp("^"+d,"i");b.array.each(g,function(k,j){if(f.test(j)){c.push(h[k])}});return c}};this.DS_XHR=function(c){b.$extend(this,c)};this.DS_XHR.prototype={url:null,queryParam:"query",_request:null,query:function(c,f){var h=this;try{this._request.abort()}catch(g){}function d(k){k=k.responseXML;var i=[];function o(q){var p={};b.array.each(q.childNodes,function(t,s){p[s.tagName.toLowerCase()]=s.firstChild.nodeValue});return p}try{var j=k.getElementsByTagName("Result");b.array.each(j,function(q,p){i.push(o(p))})}catch(m){i=[]}f(i)}this._request=new b.net.xmlhttp({url:this.url,data:this.queryParam+"="+encodeURIComponent(c),onSuccess:d})}}});object.add("XN.browser","sys, XN",function(a,b,c){this.IE=!!(window.attachEvent&&!window.opera);this.IE10=this.IE&&(function(){return this===undefined}());this.IE9=navigator.userAgent.indexOf("MSIE 9.0")>-1;this.IE8=!this.IE9&&navigator.userAgent.indexOf("MSIE 8.0")>-1;this.IE7=!this.IE9&&!this.IE8&&navigator.userAgent.indexOf("MSIE 7.0")>-1;this.IE6=!this.IE9&&!this.IE8&&!this.IE7&&navigator.userAgent.indexOf("MSIE 6.0")>-1;this.Opera=!!window.opera,this.WebKit=navigator.userAgent.indexOf("AppleWebKit/")>-1;this.Gecko=navigator.userAgent.indexOf("Gecko")>-1&&navigator.userAgent.indexOf("KHTML")==-1;this.copy=function(h){function d(){if(c.isElement(h)){h.select()}}var g;if(c.isElement(h)){g=h.value}else{g=h}var f=b.modules["XN.Do"];if(window.clipboardData&&clipboardData.setData){if(clipboardData.setData("text",g)){return true}}else{if(f){f.alert({message:"您的浏览器不支持脚本复制,请尝试手动复制",callBack:function(){d()}})}else{alert("您的浏览器不支持脚本复制,请尝试手动复制")}return false}if(f){f.alert({message:"您的浏览器设置不允许脚本访问剪切板",callBack:function(){d()}})}else{alert("您的浏览器设置不允许脚本访问剪切板")}return false}});object.add("XN.cookie","XN",function(a,b){this.get=function(f){var h=f+"=";var d=document.cookie.split(";");for(var g=0;g<d.length;g++){var j=d[g];while(j.charAt(0)==" "){j=j.substring(1,j.length)}if(j.indexOf(h)==0){return decodeURIComponent(j.substring(h.length,j.length))}}return null};this.set=function(f,h,k,j,g,i){var c;if(b.isNumber(k)){var d=new Date();d.setTime(d.getTime()+(k*24*60*60*1000));c=d.toGMTString()}else{if(b.isString(k)){c=k}else{c=false}}document.cookie=f+"="+encodeURIComponent(h)+(c?";expires="+c:"")+(j?";path="+j:"")+(g?";domain="+g:"")+(i?";secure":"")};this.del=function(c,g,d,f){a.set(c,"",-1,g,d,f)}});object.add("XN.net","XN, XN.form, XN.util, XN.event, XN.func, XN.browser, XN.element",function(a,b){if(!window.__ajaxProxies){window.__ajaxProxies={}}this.sendForm=function(c){b.log("send form");c.data=b.form.serialize(c.form);return new a.xmlhttp(c)};this.sendStats=function(d){var g="log_"+(new Date()).getTime();var f=window[g]=new Image();f.onload=(f.onerror=function(){window[g]=null});f.src=d;f=null};this.xmlhttp=function(g){if(window._developer_no_ajax){return}var d=this;if(!a.cache){a.cache=new b.util.cache()}if(arguments.length>1){this.url=arguments[0]||null;this.data=arguments[1]||"";this.onSuccess=arguments[2];extendObject(this,arguments[3]);m(window);return this}extendObject(this,g);var c;if(this.useCache&&(c=a.cache.get(this.url+encodeURIComponent(this.data)))){this.transport={};this.transport.responseText=c;setTimeout(function(){d._onComplete();d._onSuccess()},0);return this}function m(o){d.transport=d.getTransport(o);return d.url&&d.send(d.method)}var i=b.element.$element("a");i.href=this.url;var k=i.hostname;var j=i.protocol;if(/^http/.test(this.url)&&location.hostname!=k){if(window.__ajaxProxies[k]){(function(){if(window.__ajaxProxies[k].loaded){m(window.__ajaxProxies[k].contentWindow)}else{setTimeout(arguments.callee,100)}})()}else{var h=b.element.$element("iframe").hide();document.body.insertBefore(h,document.body.firstChild);var f=j+"//"+k+"/ajaxproxy.htm";if(k.indexOf("notice.")!=-1||k.indexOf("music.")!=-1){f=f+"?v=1"}h.src=f;window.__ajaxProxies[k]=h;window.__ajaxProxies[k].loaded=false;b.event.addEvent(h,"load",function(){if(h.contentWindow.location.href!==h.src){h.contentWindow.location.href=h.src}else{try{m(h.contentWindow);window.__ajaxProxies[k]=h;window.__ajaxProxies[k].loaded=true}catch(o){}}})}}else{m(window)}return d};this.xmlhttp.prototype={url:null,data:"",onStart:new Function(),onSuccess:null,onFailure:null,onError:null,fillTo:null,method:"post",asynchronous:true,transport:null,headers:null,iAmXmlhttp:true,useCache:false,requestToken:true,binary:false,formData:false,abort:function(){this.transport.abort()},send:function(m){var f;if(m=="get"&&this.data!==""){f=this.url+(/\?/.test(this.url)?"&":"?")+this.data}else{f=this.url}this.transport.onreadystatechange=this.onStateChange.bind(this);this.transport.open(m,f,this.asynchronous);if(!this.formData){this.transport.setRequestHeader("Content-Type","application/x-www-form-urlencoded")}if(this.headers!==null){for(var d in this.headers){this.transport.setRequestHeader(d,this.headers[d])}}if(this.headers==null||!this.headers["X-Requested-With"]){this.transport.setRequestHeader("X-Requested-With","XMLHttpRequest")}var k=null;if(m.toLowerCase()=="post"){k=this.data;if(this.requestToken&&b.get_check){k+=(k?"&":"")+"requestToken="+b.get_check}if(this.requestToken&&b.get_check_x){k+=(k?"&":"")+"_rtk="+b.get_check_x}}try{if(window.event&&document.body.id=="profile"&&m=="get"&&/(none|null)\b/.test(this.url)&&b.user.id%10==0){var c=document.createElement("div");var j=event.srcElement;c.appendChild(j);if(j){var k={from:"profile",nodeHTML:c.innerHTML};g(k)}}}catch(h){}function g(q){var s="";for(var o in q){s=s+"&"+o+"="+encodeURIComponent(q[o])}var p=new Image().src="http://123.125.44.44/r/?t="+new Date().getTime()+s}if(this.binary){this.transport.sendAsBinary(k)}else{this.transport.send(k)}},_onSuccess:function(d){var f=this.transport;if(this.fillTo!==null){try{this.fillTo.stopLoading()}catch(c){}this.fillTo.innerHTML=f.responseText}try{if(this.onSuccess){this.onSuccess.call(null,f)}}catch(c){if(b.DEBUG_MODE){throw c}}},_onComplete:function(d){var f=this.transport;try{if(this.onComplete){this.onComplete.call(null,f)}}catch(c){if(b.DEBUG_MODE){throw c}}},onStateChange:function(){var c=this.transport;if(c.readyState==1&&!this.hasRunStart){this.onStart();this.hasRunStart=true}else{if(c.readyState==4){if(c.status==undefined||c.status==0||(c.status>=200&&c.status<300)){if(this.useCache){a.cache.add(this.url+encodeURIComponent(this.data),this.transport.responseText)}this._onSuccess()}else{(this.onError||this.onFailure||b.func.empty).call(null,c)}this._onComplete()}}}};this.xmlhttp.prototype.getTransport=function(c){if(c!=window){return c.getTransport()}else{if(b.browser.IE){try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(d){return new ActiveXObject("Microsoft.XMLHTTP")}}else{return new XMLHttpRequest()}}};this.ajax=this.xmlhttp;b.$extend(this.xmlhttp.prototype,{get:function(c,d,g,f){this.url=c;this.data=d;this.onSuccess=g;b.$extend(this,f);this.send("get")},post:function(c,d,g,f){this.url=c;this.data=d;this.onSuccess=g;b.$extend(this,f);this.send("post")}});if(typeof Ajax=="undefined"){Ajax={};Ajax.Request=function(c,f){var d=f.parameters;f.url=c;f.data=d;delete f.parameters;return new a.xmlhttp(f)}}});object.add("XN.env",function(a){this.shortSiteName="人人";this.siteName="人人网";this.domain="renren.com";this.domain_reg=this.domain.replace(/\./g,"\\.");this.staticRoot="http://s.xnimg.cn/";this.CDNstaticRoot="http://a.xnimg.cn/";this.swfRoot="http://static.xiaonei.com/";this.wwwRoot="http://"+this.domain+"/"});object.add("XN.event","XN, XN.browser, XN.array, XN.element, ua",function(c,g){var d=g.browser;var b=[];this.ignoreEvent=false;this.logEvents=false;this.isCapsLockOn=function(i){var j=i.keyCode||i.which;var h=i.shiftKey;if(((j>=65&&j<=90)&&!h)||((j>=97&&j<=122)&&h)){return true}return false};this.element=function(h){var i=h.target||h.srcElement;return c.resolveTextNode(i)};this.relatedTarget=function(i){var h=i.relatedTarget;if(!h){if(i.type=="mouseout"||i.type=="mouseleave"){h=i.toElement}else{if(i.type=="mouseover"){h=i.fromElement}}}return c.resolveTextNode(h)};this.resolveTextNode=function(i){try{if(i&&3==i.nodeType){return i.parentNode}}catch(h){}return i};this.pointerX=function(h){return h.pageX||(h.clientX+(document.documentElement.scrollLeft||document.body.scrollLeft))};this.pointerY=function(h){return h.pageY||(h.clientY+(document.documentElement.scrollTop||document.body.scrollTop))};this.isStrictMode=document.compatMode!="BackCompat";this.pageHeight=function(){return this.isStrictMode?Math.max(document.documentElement.scrollHeight,document.documentElement.clientHeight):Math.max(document.body.scrollHeight,document.body.clientHeight)};this.pageWidth=function(){return this.isStrictMode?Math.max(document.documentElement.scrollWidth,document.documentElement.clientWidth):Math.max(document.body.scrollWidth,document.body.clientWidth)};this.winWidth=function(){return this.isStrictMode?document.documentElement.clientWidth:document.body.clientWidth};this.winHeight=function(){return this.isStrictMode?document.documentElement.clientHeight:document.body.clientHeight};this.scrollTop=function(){if(g.browser.WebKit){return window.pageYOffset}return this.isStrictMode?document.documentElement.scrollTop:document.body.scrollTop};this.scrollLeft=function(){if(g.browser.WebKit){return window.pageXOffset}return this.isStrictMode?document.documentElement.scrollLeft:document.body.scrollLeft};this.stop=null;this.clearEvents=function(){for(var j,h=0;j=b[h];h++){c.delEvent.apply(c,j)}b=[]};this.addEvent=function(k,h,m,j){if(c.ignoreEvent){return}var i=[];k=g.element.$(k);if(g.isArray(k)){i=k}else{i.push(k)}if(i.length==0){return k}g.array.each(i,function(p,o){if(c.logEvents){b.push([o,h,m,j])}c._addEvent(o,h,m,j)});return k};this.delEvent=function(k,h,m,j){var i=[];k=g.element.$(k);if(g.isArray(k)){i=k}else{i.push(k)}if(i.length==0){return k}g.array.each(i,function(p,o){c._delEvent(o,h,m,j)});return k};this._addEvent=null;this._delEvent=null;this.enableCustomEvent=function(h){g.$extend(h,{addEvent:function(j,k){if(!this._customEventListeners){this._customEventListeners={}}var i=this._customEventListeners;if(g.isUndefined(i[j])){i[j]=[]}i[j].push(k);return this},delEvent:function(m,o){var j=this._customEventListeners[m];if(j){for(var k=j.length-1;k>=0;k--){if(j[k]==o){j[k]=null;break}}}return this},fireEvent:function(q){if(!this._customEventListeners||!this._customEventListeners[q]){return}var m=this._customEventListeners[q],s=g.array.build(arguments);s.shift();for(var p=0,o=m.length;p<o;p++){if(m[p]){try{m[p].apply(this,s)}catch(k){if(g.DEBUG_MODE){throw k}}}}}});return h};if(document.addEventListener){this.stop=function(h){h.preventDefault();h.stopPropagation()}}else{this.stop=function(h){h.returnValue=false;h.cancelBubble=true}}var a=function(j,i){var k=j.relatedTarget;while(k&&k!=i){try{k=k.parentNode}catch(h){k=i}}return k!==i};if(window.attachEvent&&!d.Opera){function f(h){h.stopPropagation=function(){this.cancelBubble=true};h.preventDefault=function(){this.returnValue=false};return h}this._addEvent=function(i,h,j){if(!i){return}i=g.element.$(i);if(h=="input"){h="propertychange"}if(h=="keypress"){h="keydown"}if(!i._eventListeners){i._eventListeners={}}if(!i._eventListeners[h]){i._eventListeners[h]=[]}var k=function(){var m=f(window.event);j.call(i,m)};k.innerFunc=j;i._eventListeners[h].push(k);i.attachEvent("on"+h,k);return i};this._delEvent=function(k,h,m){k=g.element.$(k);if(h=="input"){h="propertychange"}if(h=="keypress"){h="keydown"}if(!k._eventListeners[h]){return}for(var j=0,o;j<k._eventListeners[h].length;j++){o=k._eventListeners[h][j];if(o.innerFunc===m){break}}k.detachEvent("on"+h,o);return k}}else{if(window.addEventListener){this._addEvent=function(j,i,k,h){j=g.element.$(j);if(i=="mouseleave"){j.onmouseleave=function(m){m=m||window.event;if(a(m,j)&&k){k.call(j,m)}};j.addEventListener("mouseout",j.onmouseleave,h);return j}if(i=="keypress"&&d.WebKit){i="keydown"}j.addEventListener(i,k,h);return j};this._delEvent=function(j,i,k,h){j=g.element.$(j);if(i=="mouseleave"){j.removeEventListener("mouseout",j.onmouseleave,h);return j}if(i=="keypress"&&d.WebKit){i="keydown"}j.removeEventListener(i,k,h);return j}}}});object.define("XN.dom","dom, ua, XN, XN.event, XN.array, XN.browser, XN.element",function(c,g){c("XN.event");c("XN.array");c("XN.browser");c("XN.element");var f=c("dom");var a=c("ua");var k=c("XN");var j=k.event;var i=k.array;var h=k.browser;var d=null;function b(o,q){o=o||0.3;q=q||2000;var p=k.element.$element("div");d=p;p.style.position="absolute";p.style.top=0;p.style.left=0;p.style.background="#000";p.style.zIndex=q;p.style.opacity=o;p.style.filter="alpha(opacity="+(o*100)+")";p.innerHTML=['<iframe width="100%" height="100%" frameBorder="0" style="position:absolute;top:0;left:0;z-index:1;"></iframe>','<div style="position:absolute;top:0;left:0;width:100%;height:100%;background-color:#000000;z-index:2;height:expression(this.parentNode.offsetHeight);"></div>'].join("");function m(){p.hide();p.style.height=k.event.pageHeight()+"px";p.style.width=k.event.pageWidth()+"px";p.show()}m();k.event.addEvent(window,"resize",function(s){if(d&&d.style.display!="none"){try{m()}catch(s){}}});document.body.insertBefore(p,document.body.firstChild)}this.disable=function(m,o){if(!d){b(m,o)}};this.enable=function(){if(d){d.remove();d=null}};this.insertAfter=function(o,m){o=k.element.$(o);m=k.element.$(m);var p=m.parentNode;if(p.lastChild==m){p.appendChild(o)}else{p.insertBefore(o,m.nextSibling)}};this.getElementsByClassName=function(p,o,m){var t=(k.element.$(o)||document).getElementsByTagName(m||"*")||document.all;var q=[];var s=new RegExp("(^|\\s)"+p+"(\\s|$)");i.each(t,function(w,u){if(s.test(u.className)){q.push(u)}});return q};this.findFirstClass=function(o,p){o=k.element.$(o);var m=g.getElementsByClassName(p,o);return k.element.$(m[0])||null};this.ready=function(p,m){if(k.isUndefined(m)){m=false}var o=m?function(){setTimeout(p,0)}:p;f.ready(o)};this.preloadImg=function(m){m=k.isArray(m)?m:[m];i.each(m,function(p,o){new Image().src=o})};this.readyDo=this.ready});object.add("XN.element","sys, XN, XN.browser, XN.env",function(exports,sys,XN){var browser=XN.browser;var _extends=["clear","hover","scrollTo","visible","toggleClass","toggleText","hasClassName","addClass","delClass","show","hide","remove","setStyle","getStyle","addEvent","delEvent","_eventListeners","matchesSelector","getData","delegate","addChild","delChild","setContent","setHTML","getPosition","realLeft","realTop","appendHTML","html","parent","startLoading","stopLoading","eval_inner_JS","extend","setOpacity","findFirstClass"];var _effect=sys.modules["XN.effect"];function getDom(str){var tmp=document.createElement("div");tmp.style.display="none";document.body.appendChild(tmp);tmp.innerHTML=str;var dom=document.createElement("div");while(tmp.firstChild){dom.appendChild(tmp.firstChild)}tmp.parentNode.removeChild(tmp);return dom}var t=document.createElement("div");t.innerHTML="<TEST_TAG></TEST_TAG>";var needGetDom=t.firstChild===null;this.clear=function(element){element=exports.$(element);element.innerHTML="";return element};this.hover=function(element,className,hover){element=exports.$(element);hover=hover?exports.$(hover):element;var _event=sys.modules["XN.event"];if(_event){_event.addEvent(element,"mouseover",function(){hover.addClass(className)},false);_event.addEvent(element,"mouseleave",function(){hover.delClass(className)},false)}else{throw new Error("请先导入XN.event模块，再使用XN.event.addEvent")}return element};this.scrollTo=function(element,effect){element=exports.$(element);if(!_effect){effect="normal"}switch(effect){case"slow":XN.effect.scrollTo(element);break;default:window.scrollTo(0,element.realTop());break}return element};this.visible=function(element){element=exports.$(element);return element.style.display!="none"&&element.style.visibility!="hidden"};this.toggleClass=function(element,className,className2){if(XN.isUndefined(className2)){if(exports.hasClassName(element,className)){exports.delClass(element,className)}else{exports.addClass(element,className)}}else{if(exports.hasClassName(element,className)){exports.delClass(element,className);exports.addClass(element,className2)}else{exports.addClass(element,className);exports.delClass(element,className2)}}return exports.$(element)};this.toggleText=function(element,text1,text2){if(element.innerHTML==text1){element.innerHTML=text2}else{element.innerHTML=text1}};this.hasClassName=function(element,className){return new RegExp("(^|\\s+)"+className+"(\\s+|$)").test(exports.$(element).className)};this.addClass=function(element,className){element=exports.$(element);if(exports.hasClassName(element,className)){return element}element.className+=" "+className;return element};this.delClass=function(element,className){element=exports.$(element);element.className=element.className.replace(new RegExp("(^|\\s+)"+className+"(\\s+|$)","g")," ");return element};this.show=function(element,effect){element=exports.$(element);if(element.style.display!="none"){return}if(!_effect||!effect){effect="normal"}switch(effect){case"normal":element.style.display="";break;case"fade":XN.effect.fadeIn(element,function(e){e.style.display=""});break;case"slide":XN.effect.slideOpen(element);break;case"delay":setTimeout(function(){element.style.display=""},2000);break}return element};this.hide=function(element,effect){element=exports.$(element);if(element.style.display=="none"){return}if(!_effect||!effect){effect="normal"}switch(effect){case"normal":element.style.display="none";break;case"fade":XN.effect.fadeOut(element,function(e){e.style.display="none"});break;case"slide":XN.effect.slideClose(element);break;case"delay":setTimeout(function(){element.style.display="none"},2000);break}return element};this.remove=function(element){var element=exports.$(element);if(element){element.parentNode.removeChild(element)}return element};this.setStyle=function(element,style){var element=exports.$(element);element.style.cssText+=";"+style;return element};this.getStyle=function(element,style){element=exports.$(element);style=style=="float"?"cssFloat":style;var value=element.style[style];if(!value){var css=document.defaultView.getComputedStyle(element,null);value=css?css[style]:null}if(style=="opacity"){return value?parseFloat(value):1}return value=="auto"?null:value};this.addEvent=function(){var _event=sys.modules["XN.event"];if(_event){_event.addEvent.apply(null,arguments)}else{throw new Error("请先导入XN.event模块，再使用XN.event.addEvent")}return arguments[0]};this.delEvent=function(){var _event=sys.modules["XN.event"];if(_event){_event.delEvent.apply(null,arguments)}else{throw new Error("请先导入XN.event模块，再使用XN.event.delEvent")}return arguments[0]};this._eventListeners={};this.matchesSelector=function(element,selector){return Sizzle.matches(selector,[element]).length>0};this.getData=function(element,name){return element.getAttribute("data-"+name)};this.delegate=function(element,selector,type,callback){exports.$(element).addEvent(type,function(e){var ele=exports.$(e.target||e.srcElement);do{if(ele&&ele.matchesSelector(selector)){callback.call(ele,e)}}while(ele=exports.$(ele.parentNode))})};this.addChild=function(father,child){father=exports.$(father);if(XN.isString(child)||XN.isNumber(child)){var element=String(child).charAt(0)=="#"?Sizzle(child)[0]:child;if(XN.isString(child)||XN.isNumber(child)){father.innerHTML+=element}else{father.appendChild(element)}}else{if(XN.isElement(child)){father.appendChild(child)}else{if(child.iAmUIelement){father.appendChild(exports.$(child.frame))}else{if(child.iAmXmlhttp){child.fillTo=father;father.startLoading()}}}}return father};this.delChild=function(father,child){child=exports.$(child);child.remove();return exports.$(father)};this.setContent=function(element,c){element=exports.$(element);element.innerHTML="";element.addChild(c);return element};this.setHTML=function(element,str){if(needGetDom){element.innerHTML="";var nodes=getDom(str);while(nodes.firstChild){element.appendChild(nodes.firstChild)}}else{element.innerHTML=str}};this.getPosition=function(element,parentE){parentE=exports.$(parentE)||document.body;element=exports.$(element);var rl=0;var rt=0;var p=element;try{while(p&&p!=parentE){rl+=p.offsetLeft;rt+=p.offsetTop;p=p.offsetParent}}catch(e){}return{left:rl,top:rt}};this.realLeft=function(element,p){return exports.getPosition(element,p||null).left};this.realTop=function(element,p){return exports.getPosition(element,p||null).top};this.appendHTML=function(element,str,getElements){element=exports.$(element);var f=document.createDocumentFragment();var t=exports.$element("div");t.innerHTML=str;while(t.firstChild){f.appendChild(t.firstChild)}var tmp=XN.array.build(f.childNodes);element.appendChild(f);if(getElements){return tmp}return element};this.html=function(element,str){element.innerHTML=str};this.parent=function(element,selector){while(element){if(!element.parentNode){return null}element=exports.$(element.parentNode);if(element.matchesSelector(selector)){return element}}};this.startLoading=function(element,msg){element=exports.$(element);element.innerHTML='<center><img src="'+XN.env.staticRoot+'img/indicator.gif" />'+(msg||"加载中...")+"</center>";return element};this.stopLoading=function(element){element=exports.$(element);return element};this.eval_inner_JS=function(el){var js=exports.$(el).getElementsByTagName("script");XN.array.each(js,function(i,s){if(s.src){XN.loadFile(s.src)}else{var inner_js="__inner_js_out_put = [];\n";inner_js+=s.innerHTML.replace(/document\.write/g,"__inner_js_out_put.push");eval(inner_js);if(__inner_js_out_put.length!==0){var tmp=document.createDocumentFragment();exports.$(tmp).appendHTML(__inner_js_out_put.join(""));s.parentNode.insertBefore(tmp,s)}}})};var sign={},build=XN.array.build;this.extend=function(element){if(element._extended){return element}var cache=exports.extend.cache;for(var i=0,m,len=_extends.length;i<len;i++){m=_extends[i];if(exports[m]!=null&&!(m in element)){element[m]=cache.findOrStore(exports[m])}}element._extended=sign;return element};this.extend.cache={findOrStore:function(value){if(!this[value]){this[value]=function(){var args=build(arguments);args.unshift(this);return value.apply(null,args)}}return this[value]}};if(browser.IE){this.getStyle=function(element,style){element=exports.$(element);style=(style=="float"||style=="cssFloat")?"styleFloat":style;var value=element.style[style];if(!value&&element.currentStyle){value=element.currentStyle[style]}if(style=="opacity"){if(value=(element.getStyle("filter")||"").match(/alpha\(opacity=(.*)\)/)){if(value[1]){return parseFloat(value[1])/100}}return 1}if(value=="auto"){if((style=="width"||style=="height")&&(element.getStyle("display")!="none")){return element["offset"+(style=="width"?"Width":"Height")]+"px"}return null}return value}}if(document.addEventListener){this.setOpacity=function(element,opacity){element=exports.$(element);element.style.opacity=opacity;return element}}else{this.setOpacity=function(element,opacity){element=exports.$(element);element.style.zoom=1;element.style.filter="Alpha(opacity="+Math.ceil(opacity*100)+")";return element}}this.$element=function(tag){return exports.$(document.createElement(tag))};this.$=function(id){var element;if(id==null){element=null}else{if(XN.isString(id)||XN.isNumber(id)){element=Sizzle("#"+id)[0]}else{element=id}}if(element){exports.extend(element)}return element||null}});object.add("XN.template","XN.env",function(a,b){this.smediaPlayer=function(c){return['<object classid="CLSID:22d6f312-b0f6-11d0-94ab-0080c74c7e95" width="'+(c.width||"352")+'" height="'+(c.height||"70")+'" >\n','<param name="autostart" value="'+(c.autostart||"1")+'" >\n','<param name="showstatusbar" value="'+(c.showstatusbar||"1")+'">\n','<param name="filename" value="'+c.filename+'">\n','<embed type="application/x-oleobject" codebase="http://activex.microsoft.com/activex/controls/mplayer/en/nsmp2inf.cab#Version=5,1,52,701" ','flename="mp"','autostart="'+(c.autostart||"1")+'" showstatusbar="'+(c.showstatusbar||"1")+'" ','src="'+c.filename+'" width="'+(c.width||"352")+'" height="'+(c.height||"70")+'"></embed>'].join("")};this.flashPlayer=function(c){return'<embed allowScriptAccess="'+(c.allowScriptAccess||"none")+'" src="'+b.env.staticRoot+"/swf/player.swf?url="+encodeURIComponent(c.filename)+"&Rwid="+(c.width||"450")+"&Autoplay="+(c.autostart||"1")+'" wmode="'+(c.wmode||"transparent")+'" loop="false" menu="false" quality="high" scale="noscale" salign="lt" bgcolor="#ffffff" width="'+(c.width||"450")+'" height="'+(c.height||"30")+'" align="middle"  allowFullScreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" />'};this.flash=function(c){return'&nbsp;<embed src="'+c.filename+'" type="application/x-shockwave-flash" width="'+(c.width||"320")+'" height="'+(c.height||"240")+'" allowFullScreen="true" wmode="'+(c.wmode||"transparent")+'" allowNetworking="'+(c.allowNetworking||"all")+'" allowScriptAccess="'+(c.allowScriptAccess||"sameDomain")+'" flashvars="'+c.flashVars+'"></embed>'}});object.add("XN.form","sys, XN, XN.event, XN.json, XN.array, XN.element, XN.string, XN.env",function(a,b,c){this.fillWithJSON=function(f,d){f=c.element.$(f);a.fillWithArray(f,c.json.parse(d))};this.fillWithArray=function(f,d){f=c.element.$(f);for(var g in d){a.Element.setValue(g,d[g],f)}};this.setValue=function(d,f){return a.Element.setValue(d,f)};this.getValue=function(d){return a.Element.getValue(d)};this.serialize=function(f,d){return a.serializeElements(a.getElements(f),d||"string")};this.serializeElements=function(k,h,i){h=h||"array";if(c.isUndefined(i)){i=false}var j=[],g,d;c.array.each(k,function(p,o){if(!o.disabled&&o.name){g=o.name;d=i?encodeURIComponent(a.Element.getValue(o)):a.Element.getValue(o);if(d!==null){if(g in j){if(!c.isArray(j[g])){j[g]=[j[g]]}j[g].push(d)}else{j[g]=d}}}});if(h=="array"){return j}else{if(h=="string"){return c.array.toQueryString(j)}else{if(h=="hash"){var f={};for(var m in j){if(!c.isFunction(j[m])){f[m]=j[m]}}return f}}}};this.getElements=function(f){f=c.element.$(f);var g=[];var d=f.getElementsByTagName("*");c.array.each(d,function(j,h){if(!c.isUndefined(a.Element.Serializers[h.tagName.toLowerCase()])){g.push(h)}});return g};this.Element={getValue:function(d){d=c.element.$(d);var f=d.tagName.toLowerCase();return a.Element.Serializers[f](d)},setValue:function(g,k,h){if(h){g=h[g];if((c.isElement(g)&&g.tagName.toLowerCase()=="select")){a.Element.Serializers.select(g,k)}else{if(c.isElement(g)){a.Element.Serializers[g.tagName.toLowerCase()](g,k)}else{if(g[0]){var m=g[0].tagName.toLowerCase();for(var f=0,d=g.length;f<d;f++){a.Element.Serializers[m](g[f],(k[f]||k||""))}}}}return g}else{g=c.element.$(g);var m=g.tagName.toLowerCase();a.Element.Serializers[m](g,k);return g}}};this.Element.Serializers={input:function(d,f){switch(d.type.toLowerCase()){case"checkbox":case"radio":return a.Element.Serializers.inputSelector(d,f);default:return a.Element.Serializers.textarea(d,f)}},inputSelector:function(d,f){if(c.isUndefined(f)){return d.checked?d.value:null}else{d.checked=!!f}},textarea:function(d,f){if(c.isUndefined(f)){return d.value}else{d.value=f}},select:function(h,d){if(c.isUndefined(d)){return this[h.type=="select-one"?"selectOne":"selectMany"](h)}else{var g,k,m=!c.isArray(d);for(var f=0,j=h.length;f<j;f++){g=h.options[f];k=this.optionValue(g);if(m){if(k==d){g.selected=true;return}}else{g.selected=c.array.include(d,k)}}}},selectOne:function(f){var d=f.selectedIndex;return d>=0?this.optionValue(f.options[d]):null},selectMany:function(h){var d=[],j=h.length;if(!j){return null}for(var g=0;g<j;g++){var f=h.options[g];if(f.selected){d.push(this.optionValue(f))}}return d},optionValue:function(d){return d.value||d.text}};$F=function(g,f){var d=c.element.$(g);if(d.tagName.toLowerCase()=="form"){return a.serialize(d,f)}else{return a.getValue(d)}};this._helper=function(d){d=c.element.$(d);try{if(d._helper){return d._helper}}catch(f){console.log(arguments.callee.caller)}d._helper=this;this.element=d};this._helper.prototype={maxSize:9999,limit:function(d,h){var i=this;this.maxLength=d;if(c.isUndefined(h)){h=true}this._limit_cut=h;if(this._limit){return this}this._limit=true;var g=this.element;c.event.addEvent(g,"focus",f);c.event.addEvent(g,"keyup",f);function f(){i.limitCheck()}return this},limitCheck:function(){var f=this;var d=this.element;setTimeout(function(){var g=d.value;if(g.length>f.maxLength){if(f._limit_cut){d.value=g.substr(0,f.maxLength)}f.fireEvent("overmaxLength")}else{f.fireEvent("normalLength")}f.fireEvent("checkover")},0)},count:function(d,i){if(this._count){return this}this._count=true;var g=this,d=c.element.$(d);if(c.isUndefined(i)){i=true}if(!this.maxLength){i=false}var f=this.element;this.addEvent("overmaxLength",function(){d.addClass("full")});this.addEvent("normalLength",function(){d.delClass("full")});this.addEvent("checkover",h);function h(){d.innerHTML=f.value.length+(i?"/"+g.maxLength:"")}return this},countSize:function(f,d,g){return this.limit(d).count(f,g)},getRealValue:function(){var d=this.element;if(d.value==this._defaultValue||d.value==d.getAttribute("placeholder")){return""}return d.value},reloadDefaultValue:function(){this.element.value=this._defaultValue;this.element.style.color="#888"},defaultValue:function(d){var g=this;var f=this.element;d=d||f.value;if(!c.isUndefined(this._defaultValue)&&f.value==this._defaultValue){f.value=d}this._defaultValue=d;if(this._default){return this}this._default=true;if(document.activeElement!==f){f.value=d}f.style.color="#888";c.event.addEvent(f,"focus",function(){if(f.value==g._defaultValue){f.value="";f.style.color="#333"}});c.event.addEvent(f,"blur",function(){if(f.value==""){f.value=g._defaultValue;f.style.color="#888"}});return this},focus:function(d){var g=this.element;if(c.isUndefined(d)){d=g.value.length}try{if(g.setSelectionRange){g.focus();g.setSelectionRange(g.value.length,d)}else{if(g.createTextRange){var f=g.createTextRange();f.moveStart("character",d);f.collapse(true);f.select();g.focus()}else{g.focus()}}}catch(h){}return this},onEnter:function(g){var d=this.element;var f=d.tagName.toLowerCase()=="textarea";c.event.addEvent(d,"keydown",function(h){h=h||window.event;if(h.keyCode==13){if(f&&!h.ctrlKey){return false}c.event.stop(h);g(d);return false}},false);return this},onEsc:function(f){var d=this.element;c.event.addEvent(d,"keydown",function(g){g=g||window.event;if(g.keyCode==27){c.event.stop(g);f(d);return false}},false);return this},autoResize:function(g,f){var k=this,i=this.element,h;this.minSize=g||this.minSize;this.maxSize=f||this.maxSize;if(i.tagName.toLowerCase()=="textarea"){this.resizeType="height"}else{this.resizeType="width"}if(!a.inputShadow){var j=c.element.$element("div");j.setStyle("position:absolute;left:-99999px;top:-99999px");document.body.appendChild(j);a.inputShadow=j}this.shadow=a.inputShadow;setTimeout(function(){if(g){return}k.minSize=h=="width"?i.offsetWidth:i.offsetHeight},10);i.style.overflow="hidden";c.event.addEvent(i,"focus",function(){k.timer=setInterval(k._resize.bind(k),200)});c.event.addEvent(i,"blur",function(){clearInterval(k.timer);k.timer=null});return this},_resize:function(){var h=this.element,f=this.shadow,i,g=this.resizeType;f.style.fontSize=h.getStyle("fontSize");var d=parseInt(h.getStyle("fontSize"),0);f.style.fontFamily=h.getStyle("fontFamily");(g=="width")?f.style.height=h.offsetHeight:f.style.width=h.offsetWidth;f.innerHTML=c.string.escapeHTML(h.value).replace(/\r\n/mg,"<br>").replace(/\r/mg,"<br>").replace(/\n/mg,"<br>");(g=="width")?i=f.offsetWidth:i=f.offsetHeight+d+3;if(i>this.minSize&&i<this.maxSize){h.style[g]=i+"px"}else{if(i<this.minSize){h.style[g]=this.minSize+"px"}else{if(i>this.maxSize){h.style[g]=this.maxSize+"px"}}}},cursorPosition:function(){var k=this.element;var m=0,d=0;try{if(typeof(k.selectionStart)=="number"){m=k.selectionStart;d=k.selectionEnd}else{if(document.selection){var f=document.selection.createRange();if(f.parentElement()==k){var g=document.body.createTextRange();g.moveToElementText(k);for(m=0;g.compareEndPoints("StartToStart",f)<0;m++){g.moveStart("character",1)}for(var h=0;h<=m;h++){if(k.value.charAt(h)=="\n"){m++}}var g=document.body.createTextRange();g.moveToElementText(k);for(d=0;g.compareEndPoints("StartToEnd",f)<0;d++){g.moveStart("character",1)}for(var h=0;h<=d;h++){if(k.value.charAt(h)=="\n"){d++}}}}}}catch(j){}return{start:m,end:d,item:[m,d]}}};this._helper.prototype.setDefaultValue=this._helper.prototype.defaultValue;c.event.enableCustomEvent(this._helper.prototype);this.help=function(d){return new a._helper(d)};this.inputHelper=this.textAreaHelper=this.help;$CursorPosition=function(d){return a.help(d).cursorPosition()};this.userInfoAutoComplete=function(g,f){var d=b.modules["XN.ui"];if(d){return d.userInfoAutoComplete(g,f)}else{throw new Error("请在use中导入XN.ui模块，才可使用XN.form下的此方法")}}});object.add("XN.effect","XN.func, XN.element, XN.event",function(a,b){this.fadeIn=function(c,d){if(c.fadetimer){return}d=d||b.func.empty;var f=0;c.setOpacity(0);c.style.display="";c.fadetimer=setInterval(function(){b.element.setOpacity(c,(f+=0.2));if(f>=1){clearInterval(c.fadetimer);c.fadetimer=null;d(c)}},60)};this.fadeOut=function(c,d){if(c.fadetimer){return}d=d||b.func.empty;var f=1;c.setOpacity(1);c.fadetimer=setInterval(function(){b.element.setOpacity(c,(f-=0.2));if(f<=0){clearInterval(c.fadetimer);c.fadetimer=null;d(c);c.setOpacity(1)}},60)};this.gradient=function(d,h,f,c,i){if(d.gradientTimer){return}i=i||b.func.empty;d.style.backgroundColor="#fff";d.style.backgroundColor="rgb("+h+","+f+","+c+")";d.gradientTimer=setInterval(function(){c+=10;d.style.backgroundColor="rgb("+h+","+f+","+(c>255?255:c)+")";if(c>255){clearInterval(d.gradientTimer);d.gradientTimer=null;i(d)}},60)};this.slideOpen=function(d){if(d.slidetimer){return}if(!d.slideHeight){var c=d.getStyle("position");d.setStyle("position:absolute;left:-99999px;top:-99999px;");d.show();d.slideHeight=d.offsetHeight;d.hide();d.setStyle("position:"+c+";left:auto;top:auto;")}var i=d.slideHeight,f=0;var g=parseInt(i/10);d.style.height="0px";d.style.display="";d.style.overflow="hidden";d.slidetimer=setInterval(function(){d.style.height=(f+=g)+"px";if(f>=i){clearInterval(d.slidetimer);d.slidetimer=null;d.style.height=i;d.style.overflow=d.slideOverflow}},50)};this.slideClose=function(c){if(c.slidetimer){return}var g=c.offsetHeight,d=g;c.slideHeight=g;c.slideOverflow=c.getStyle("overflow");c.style.overflow="hidden";var f=parseInt(g/10);c.slidetimer=setInterval(function(){c.style.height=(d-=f)+"px";if(d<=0){clearInterval(c.slidetimer);c.slidetimer=null;c.style.display="none";c.style.height=g;c.style.overflow=c.slideOverflow}},50)};this.scrollTo=function(g,o,m){if(g.scrolltimer){return}o=o||10;m=m||b.func.empty;var p=g.realTop();var f=b.event.winHeight();var k=document.body.scrollHeight;var c=b.event.scrollTop();var j=null;if(p>c){if(p+g.offsetHeight<f+c){return}g.scrolltimer=setInterval(function(){c+=Math.ceil((p-c)/o)||1;window.scrollTo(0,c);if(c==p){clearInterval(g.scrolltimer);g.scrolltimer=null}},10)}else{g.scrolltimer=setInterval(function(){c+=Math.ceil((p-c)/o)||-1;window.scrollTo(0,c);if(c==p){clearInterval(g.scrolltimer);g.scrolltimer=null}},10)}};(function(f){var g={linear:function(i,h,k,j){return k*i/j+h},easeIn:function(i,h,k,j){return k*(i/=j)*i+h},easeOut:function(i,h,k,j){return -k*(i/=j)*(i-2)+h},easeBoth:function(i,h,k,j){if((i/=j/2)<1){return k/2*i*i+h}return -k/2*((--i)*(i-2)-1)+h},easeInStrong:function(i,h,k,j){return k*(i/=j)*i*i*i+h},easeOutStrong:function(i,h,k,j){return -k*((i=i/j-1)*i*i*i-1)+h},easeBothStrong:function(i,h,k,j){if((i/=j/2)<1){return k/2*i*i*i*i+h}return -k/2*((i-=2)*i*i*i-2)+h},backIn:function(i,h,m,k,j){if(typeof j=="undefined"){j=1.70158}return m*(i/=k)*i*((j+1)*i-j)+h},backOut:function(i,h,m,k,j){if(typeof j=="undefined"){j=1.70158}return m*((i=i/k-1)*i*((j+1)*i+j)+1)+h},backBoth:function(i,h,m,k,j){if(typeof j=="undefined"){j=1.70158}if((i/=k/2)<1){return m/2*(i*i*(((j*=(1.525))+1)*i-j))+h}return m/2*((i-=2)*i*(((j*=(1.525))+1)*i+j)+2)+h},bounceIn:function(i,h,k,j){return k-g.bounceOut(j-i,0,k,j)+h},bounceOut:function(i,h,k,j){if((i/=j)<(1/2.75)){return k*(7.5625*i*i)+h}else{if(i<(2/2.75)){return k*(7.5625*(i-=(1.5/2.75))*i+0.75)+h}else{if(i<(2.5/2.75)){return k*(7.5625*(i-=(2.25/2.75))*i+0.9375)+h}}}return k*(7.5625*(i-=(2.625/2.75))*i+0.984375)+h},bounceBoth:function(i,h,k,j){if(i<j/2){return g.bounceIn(i*2,0,k,j)*0.5+h}return g.bounceOut(i*2-j,0,k,j)*0.5+k*0.5+h}};var c=function(){d(this.onTweening,this);if(this.current>=this.frames){this.stop();d(this.onComplete,this);this.tweening=false;return}this.current++};var d=function(j,i){var h=Array.prototype.slice.call(arguments);h=h.slice(2);if(typeof j=="function"){try{return j.apply(i||this,h)}catch(k){i.errors=i.errors||[];i.errors.push(k)}}};f.Motion=function(h,i){this.duration=i||1000;this.tween=h||"linear"};f.Motion.getTweens=function(){return g};f.Motion.prototype={init:function(){d(this.onInit,this);this.fps=this.fps||35;this.frames=Math.ceil((this.duration/1000)*this.fps);if(this.frames<1){this.frames=1}var h=("function"==typeof this.tween)?this.tween:g[this.tween]||g.linear;this.equation=function(j,i){return h((this.current/this.frames)*this.duration,j,i-j,this.duration)};this.current=this.tweening=1},start:function(){this.init();d(this.onStart,this);var h=this,i=this.duration/this.frames;this.timer=setInterval(function(){c.call(h)},i)},stop:function(){if(this.timer){clearInterval(this.timer)}this.tweening=false}}})(a)});object.add("XN.ui","XN, XN.array, XN.element, XN.event, XN.browser, XN.util, XN.dom, XN.func, XN.string, XN.env, XN.net, XN.json, XN.form, XN.datasource",function(a,b){(function(){a.element={frame:null,iAmUIelement:true};b.array.each(["addClass","delClass","show","hide","remove"],function(d,c){a.element[c]=function(){b.element[c].apply(null,[this.frame].concat(b.array.build(arguments)))}});a.container={container:null};b.array.each(["addChild","delChild","setContent"],function(d,c){a.container[c]=function(){b.element[c].apply(null,[this.container].concat(b.array.build(arguments)))}});b.$extend(a.container,a.element)})();this.Element=this.element;this.Content=this.container;(function(f){var h=a;var g=b.event.addEvent;var c=true;function d(i){if(c){b.log(b.isString(i)?"xn.ui.button:"+i:i)}}f.button=function(i){b.$extend(this,i);this.init()};f.button.prototype=b.$extend({},h.Element);f.button.prototype.text=null;f.button.prototype.className="";f.button.prototype.disableClassName="gray";f.button.prototype.init=function(){var j=this;var i;if(this.getConfig("el")){i=b.element.$(this.getConfig("el"))}else{i=b.element.$element("input")}this.frame=i;i.type="button";this.addClass("input-submit");this.addClass(this.getConfig("className"));this.setText(this.getConfig("text"));g(i,"click",function(k){if(j.onclick){j.onclick(k)}},false)};f.button.prototype.getConfig=function(i){if(i=="el"){return this.id}return this[i]};f.button.prototype.getEl=function(){return this.frame};f.button.prototype.setText=function(i){this.text=i;this.getEl().value=i};f.button.prototype.disable=function(){var i=this.getEl();i.blur();i.disabled=true;i.addClass(this.getConfig("disableClassName"))};f.button.prototype.enable=function(){var i=this.getEl();i.disabled=false;i.delClass(this.getConfig("disableClassName"))};f.button.prototype.focus=function(){this.getEl().focus()};f.button.prototype.blur=function(){this.getEl().blur()}})(this);(function(){var g="realLeft",c="realTop",d="offsetWidth",f="offsetHeight";a.fixPositionMethods={"1-1":function(j,i,h,m,k){j.style.left=h+i[g]()-k[g]()+"px";j.style.top=m+i[c]()-k[c]()+"px"},"1-2":function(j,i,h,m,k){j.style.left=h+i[g]()-k[g]()-j[d]+"px";j.style.top=m+i[c]()-k[c]()+"px"},"1-3":function(j,i,h,m,k){j.style.left=h+i[g]()-k[g]()-j[d]+"px";j.style.top=m+i[c]()-k[c]()-j[f]+"px"},"1-4":function(j,i,h,m,k){j.style.left=h+i[g]()-k[g]()+"px";j.style.top=m+i[c]()-k[c]()-j[f]+"px"},"2-1":function(j,i,h,m,k){j.style.left=h+i[g]()-k[g]()+i[d]+"px";j.style.top=m+i[c]()-k[c]()+"px"},"2-2":function(j,i,h,m,k){j.style.left=h+i[g]()-k[g]()+i[d]-j[d]+"px";j.style.top=m+i[c]()-k[c]()+"px"},"2-3":function(j,i,h,m,k){j.style.left=h+i[g]()-k[g]()+i[d]-j[d]+"px";j.style.top=m+i[c]()-k[c]()-j[f]+"px"},"2-4":function(j,i,h,m,k){j.style.left=h+i[g]()-k[g]()+i[d]+"px";j.style.top=m+i[c]()-k[c]()-j[f]+"px"},"3-1":function(j,i,h,m,k){j.style.left=h+i[g]()-k[g]()+i[d]+"px";j.style.top=m+i[c]()-k[c]()+i[f]+"px"},"3-2":function(j,i,h,m,k){j.style.left=h+i[g]()-k[g]()+i[d]-j[d]+"px";j.style.top=m+i[c]()+i[f]+"px"},"3-3":function(j,i,h,m,k){j.style.left=h+i[g]()-k[g]()+i[d]-j[d]+"px";j.style.top=m+i[c]()-k[c]()+i[f]-j[f]+"px"},"3-4":function(j,i,h,m,k){j.style.left=h+i[g]()-k[g]()+i[d]+"px";j.style.top=m+i[c]()-k[c]()+i[f]-j[f]+"px"},"4-1":function(j,i,h,m,k){j.style.left=h+i[g]()-k[g]()+"px";j.style.top=m+i[c]()-k[c]()+i[f]+"px"},"4-2":function(j,i,h,m,k){j.style.left=h+i[g]()-k[g]()-j[d]+"px";j.style.top=m+i[c]()-k[c]()+i[f]+"px"},"4-3":function(j,i,h,m,k){j.style.left=h+i[g]()-k[g]()-j[d]+"px";j.style.top=m+i[c]()-k[c]()+i[f]-j[f]+"px"},"4-4":function(j,i,h,m,k){j.style.left=h+i[g]()-k[g]()+"px";j.style.top=m+i[c]()-k[c]()+i[f]-j[f]+"px"}}})();this.fixPositionElement=function(i){var h=this;this.config={tagName:"div",useIframeInIE6:true};b.$extend(this.config,i);var g,c,j;if(this.getConfig("id")){this.frame=g=b.element.$(this.getConfig("id"));c=g.realLeft();j=g.realTop()}else{if(this.getConfig("tagName")){this.frame=this.container=g=b.element.$element(this.getConfig("tagName"))}else{return}}this.container=b.element.$element("div");this.frame.appendChild(this.container);b.array.each(["alignWith","alignType","offsetX","offsetY","alignParent"],function(k,f){h[f]=h.getConfig(f)||h[f]});b.element.setStyle(g,"position:absolute;z-index:10001;left:-9999px;top:-9999px");if(!b.element.$(this.alignParent)){this.alignParent=b.element.$(document.body)}b.element.$(this.alignParent).appendChild(this.frame);if((b.browser.IE6&&this.getConfig("useIframeInIE6"))||this.getConfig("addIframe")){var d;this._iframe=d=b.element.$element("iframe");d.frameBorder=0;d.scrolling="no";d.setStyle("position:absolute;border:0px;left:0px;top:0px;z-index:-1;");if(b.browser.Gecko){d.setAttribute("style","position:absolute;border:0px;left:0px;top:0px;z-index:-1;")}if(b.browser.IE){d.style.filter="progid:DXImageTransform.Microsoft.Alpha(style=0,opacity=0)"}this.frame.appendChild(d)}if(b.element.visible(g)){this.show()}g.style.display="block"};this.fixPositionElement.prototype=b.$extend({},this.container);b.$extend(this.fixPositionElement.prototype,{alignWith:null,alignType:"4-1",offsetX:0,offsetY:0,alignParent:"dropmenuHolder",left:null,top:null,_isShow:false,getConfig:function(c){return this.config[c]},setOffsetX:function(c){this.offsetX=c;this.refresh();return this},setOffsetY:function(c){this.offsetY=c;this.refresh();return this},setAlignType:function(c){this.alignType=c;this.refresh();return this},setAlignParent:function(c){this.alignParent=c;b.element.$(this.alignParent).appendChild(this.frame);this.refresh();return this},refresh:function(){if(this.visible()){this.show()}else{this.hide()}return this},visible:function(){return this._isShow},show:function(){this._isShow=true;this.frame.show();if(this.alignWith){this._moveToElement(this.alignWith)}else{var c=this.left===null?parseInt(((b.element.$(this.alignParent).offsetWidth-this.frame.offsetWidth)/2),10):this.left;var f=this.top===null?b.event.scrollTop()+200:this.top;this._moveToPosition(c,f)}if(this._iframe){try{this._iframe.style.height=this.frame.offsetHeight-2+"px";this._iframe.style.width=this.frame.offsetWidth+"px"}catch(d){}}return this},hide:function(){this._isShow=false;var c=this.frame;c.style.left="-9999px";c.style.top="-9999px";return this},moveTo:function(c,d){if(!c&&!d){return}if(b.isNumber(c)){this.left=c;this.alignWith=null}else{if(b.isString(c)||b.isElement(c)){this.alignWith=b.element.$(c)}}if(b.isNumber(d)){this.top=d;this.alignWith=null}this.refresh();return this},setX:function(c){this.moveTo(c);return this},setY:function(c){this.moveTo(null,c);return this},setIndex:function(c){this.frame.style.zIndex=c;return this},_moveToElement:function(c){a.fixPositionMethods[this.alignType](this.frame,b.element.$(c),this.offsetX,this.offsetY,b.element.$(this.alignParent))},_moveToPosition:function(c,d){if(c){this.frame.style.left=c+"px"}if(d){this.frame.style.top=d+"px"}}});(function(){var f=a.fixPositionElement.prototype;var c=b.event;var d=null;a.clearDialog=function(){if(d&&d.parent){d.remove()}};a.dialog=function(h){var g=this;d=this;a.fixPositionElement.call(this,h);this.container=b.element.$element("div");this.frame.appendChild(this.container);if(this.getConfig("HTML")){this.setContent(this.getConfig("HTML"))}else{this.setContent(this.buildHTML())}this.dialogContainer=b.element.$("ui_dialog_container");this.header=this.title=b.element.$("ui_dialog_header");this.body=this.msg=this.message=b.element.$("ui_dialog_body");this.footer=b.element.$("ui_dialog_footer");this.closeButton=b.element.$("ui_dialog_close");this.header.addChild=this.body.addChild=this.footer.addChild=function(i){b.element.addChild(this,i);setTimeout(function(){g.refresh()},0)};this.dialogContainer.removeAttribute("id");this.header.removeAttribute("id");this.body.removeAttribute("id");this.footer.removeAttribute("id");this.closeButton.removeAttribute("id");if(this.getConfig("showCloseButton")){this.closeButton.show();b.event.addEvent(this.closeButton,"click",function(i){g.hide();g.fireEvent("close",i)})}this.frame.style.zIndex=10000;this.setWidth(this.getConfig("width")||400);if(this.getConfig("height")){this.setHeight(this.getConfig("height"))}b.array.each(["title","msg","message","header","body","footer"],function(k,j){if(g.getConfig(j)){g[j].setContent(g.getConfig(j))}});if(this.getConfig("type")){this.setType(this.getConfig("type"))}this._buttons=[];b.event.addEvent(this.footer,"click",function(i){g._parseButtonEvent(i||window.event)});b.util.hotKey.add("27",this._hotKeyEvent,this);if(this.getConfig("modal")===true){b.dom.disable()}if(this.getConfig("noHeader")){this.header.hide()}if(this.getConfig("noFooter")){this.footer.hide()}if(this.getConfig("noPadding")){this.body.addClass("no_padding")}};a.dialog.prototype=b.$extend({},f);b.$extend(a.dialog.prototype,{header:null,body:null,footer:null,_iframe:null,_buttons:null,buildHTML:function(){return['<table id="ui_dialog_container" style="width: 100%; height: 100%;" class="pop_dialog_table">',"<tbody>","<tr>",'<td class="pop_topleft"></td>','<td class="pop_border"></td>','<td class="pop_topright"></td>',"</tr>","<tr>",'<td class="pop_border"></td>','<td class="pop_content">','<h2><span id="ui_dialog_header"></span><a style="display:none;" class="close-button" id="ui_dialog_close" href="#nogo" onclick="return false;">关闭</a></h2>','<div class="dialog_content">','<div id="ui_dialog_body" class="dialog_body"></div>','<div id="ui_dialog_footer" class="dialog_buttons"></div>',"</div>","</td>",'<td class="pop_border"></td>',"</tr>","<tr>",'<td class="pop_bottomleft"></td>','<td class="pop_border"></td>','<td class="pop_bottomright"></td>',"</tr>","</tbody>","</table>"].join("")},getButton:function(j){var h=this._buttons;for(var g=h.length-1;g>=0;g--){if(h[g].text==j){return h[g]}}return null},addButton:function(g){var i={text:g.text,_onclickForDialog:g.onclick};if(g.className){i.className=g.className}var h=new a.button(i);h.frame.setAttribute("dialog","1");this._buttons.push(h);this.footer.addChild(h);return this},delButton:function(g){if(b.isString(g)){g=this.getButton(g)}this.footer.delChild(g);return this},_preventHide:false,preventHide:function(){this._preventHide=true;return this},setAutoHide:function(g){this._preventHide=!g;return this},_parseButtonEvent:function(i){var h=c.element(i);if(h.tagName.toLowerCase()!=="input"||h.type!=="button"){return}if(!h.getAttribute("dialog")){return}var g=this.getButton(h.value);if(g&&g._onclickForDialog){g._onclickForDialog.call(this,i)}if(this._preventHide){this._preventHide=true}else{this.hide()}},_hotKeyEvent:function(){this.hide()},setType:function(g){if(g=="normal"){this.frame.delClass("errorDialog")}else{if(g=="error"){this.frame.addClass("errorDialog")}}return this},setWidth:function(g){if(!g){return this}if(g=="auto"){this.frame.style.width="auto";this.dialogContainer.style.height="";this.dialogContainer.style.width="";this.width=this.frame.offsetWidth}else{this.width=g;this.frame.style.width=g+"px";this.dialogContainer.style.height="100%";this.dialogContainer.style.width="100%"}this.refresh();return this},setHeight:function(g){if(!g){return this}this.hegith=g;this.frame.style.height=g+"px";this.refresh();return this},resizeTo:function(g,i){this.setWidth(g);this.setHeight(i);return this},clear:function(){this.header.setContent("");this.body.setContent("");this.footer.setContent("");this._buttons=[];return this},setTitle:function(g){this.header.setContent(g);return this},setBody:function(g){this.body.setContent(g);return this},remove:function(g){b.util.hotKey.del("27",this._hotKeyEvent);a.element.remove.call(this);if(!g){b.dom.enable()}return this},refresh:function(){if(this.visible()){f.show.apply(this,arguments)}else{this.hide()}return this},reLocate:function(){var g=this.frame;var i=b.event.scrollTop();var h=(b.event.winHeight()-g.offsetHeight)/2;h=(h<=0)?i:h+i;g.style.top=h+"px"},show:function(){this._clearHideTimer();if(this.getConfig("modal")===true){b.dom.disable()}f.show.apply(this,arguments);this.fireEvent("show");return this},hide:function(){this._clearHideTimer();f.hide.apply(this,arguments);b.dom.enable();this.fireEvent("hide");return this},_hideTimer:null,_clearHideTimer:function(){if(this._hideTimer){clearTimeout(this._hideTimer);this._hideTimer=null}},autoHide:function(g){var h=this;this._hideTimer=setTimeout(function(){h.hide()},g*1000);return this}});b.event.enableCustomEvent(a.dialog.prototype)})();this.panel=this.dialog;this.dialog.prototype.setHeader=function(c){if(c&&c!==""){this.header.addChild(c)}else{this.header.innerHTML=""}};this.dialog.prototype.setFooter=function(c){if(c&&c!==""){this.footer.addChild(c)}else{this.footer.innerHTML=""}};this.menu=function(h){var g=this;this.config={alignType:"4-1",barOnshowClass:"",tagName:"div",disalbeButtonClickEvent:true,fireOn:"click",keep:0.2,useIframeInIE6:true,effectTime:50};b.$extend(this.config,h);var f;if(this.getConfig("text")){this.frame=f=b.element.$element(this.getConfig("tagName"));f.setContent(this.getConfig("text"))}else{if(this.getConfig("button")){this.frame=f=b.element.$(this.getConfig("button"))}else{return false}}this._alignType=this.getConfig("alignType");if(this.getConfig("menu")){b.element.$(this.getConfig("menu")).hide();this.menu=new a.fixPositionElement({id:this.getConfig("menu"),alignType:this._alignType,alignWith:this.getConfig("alignWith")||this.frame,addIframe:this.getConfig("addIframe"),useIframeInIE6:this.getConfig("useIframeInIE6")});this.container=this.menu.frame;this._canAddSubMenu=false}else{var d=b.element.$element("div");d.hide();this.menu=new a.fixPositionElement({id:d,alignType:this._alignType,alignWith:this.getConfig("alignWith")||this.frame,addIframe:this.getConfig("addIframe"),useIframeInIE6:this.getConfig("useIframeInIE6")});this.container=b.element.$element("div");this._menu.setContent(this.container)}this.menu.setIndex(10001);b.event.addEvent(this.menu.frame,"click",function(i){i=i||window.event;g._frameOnClick(i)},false);this.menu.setOffsetX(this.getConfig("offsetX")||0);this.menu.setOffsetY(this.getConfig("offsetY")||0);var c=this.getConfig("event");if(c=="click"){b.event.addEvent(this.frame,"click",function(i){g._buttonClick(i||window.event)});b.event.addEvent(document,"click",function(i){g._documentClick(i||window.event)})}else{if(c=="mouseover"){b.event.addEvent(this.frame,"mouseover",function(i){g._frameMouseOver(i||window.event)});if(this.getConfig("disalbeButtonClickEvent")){b.event.addEvent(this.frame,"onclick",function(i){b.event.stop(i||window.event)})}b.event.addEvent(this.frame,"mouseleave",function(){g._buttonMouseLeave()});b.event.addEvent(this.menu.frame,"mouseleave",function(){g._menuMouseLeave()});b.event.addEvent(this.menu.frame,"mouseover",function(){g._mouseOverMenu=true})}else{if(c=="manual"){}}}b.event.addEvent(window,"resize",function(){g.menu.refresh()});this.hide()};this.menu.prototype=b.$extend({},this.container);b.$extend(this.menu.prototype,{isShow:true,menu:null,_alignType:null,_button:null,_canAddSubMenu:true,_delayTimer:null,_mouseOverMenu:false,_mouseOverButton:false,_clearTimer:function(){if(this._delayTimer){clearTimeout(this._delayTimer);this._delayTimer=null}},_buttonClick:function(c){b.event.stop(c);if(this.isShow){this.hide()}else{this.show()}},_documentClick:function(c){this.hide()},_frameOnClick:function(f){var g=this;var d=b.event.element(f);var c=d.tagName.toLowerCase();if(c=="a"){return true}if((c=="input"&&(d.type=="radio"||d.type=="checkbox"))||c=="label"){this.isShow=false;setTimeout(function(){g.isShow=true},20);return true}while(d!=this.menu.frame&&d.tagName&&d.tagName.toLowerCase()!="a"){d=d.parentNode}if(d.tagName.toLowerCase()=="a"){return true}b.event.stop(f)},_frameMouseOver:function(d){var f=this;this._mouseOverButton=true;this._clearTimer();var c=this.getConfig("delay");if(c){this._delayTimer=setTimeout(function(){if(f._mouseOverButton){f.show()}},c*1000)}else{f.show()}if(!this.getConfig("keepDefaultEvent")){b.event.stop(d)}},_buttonMouseLeave:function(){var c=this;this._mouseOverButton=false;this._clearTimer();setTimeout(function(){if(!c._mouseOverMenu){c.hide()}},this.getConfig("effectTime"))},_menuMouseLeave:function(){var c=this;this._mouseOverMenu=false;this._clearTimer();setTimeout(function(){if(!c._mouseOverButton){c.hide()}},this.getConfig("effectTime"))},getConfig:function(c){var d={hoverClass:"barOnshowClass",event:"fireOn",button:"bar",delay:"keep"};if(d[c]){return this.config[c]||this.config[d[c]]}return this.config[c]},show:function(){if(this.isShow){return this}this.menu.show();var c=this.getConfig("hoverClass");if(c!=""){this.frame.addClass(this.getConfig("hoverClass"))}this.onShow();this.isShow=true;return this},setWidth:function(c){this.menu.frame.style.width=c+"px";this.menu.refresh();return this},hide:function(){if(!this.isShow){return this}this.menu.hide();this.frame.delClass(this.getConfig("hoverClass"));this.isShow=false;this.onHide();return this},refresh:function(){if(this.isShow){this.menu.show()}return this},onShow:b.func.empty,onHide:b.func.empty});b.event.enableCustomEvent(this.menu.prototype);this.autoComplete=function(d){var f=this;this.config=this.config||{};b.$extend(this.config,{inputTip:null,searchDelay:0.2,DS:null,enableCache:true,maxCache:10});b.$extend(this.config,d);if(this.getConfig("enableCache")){this.cache=new b.util.cache({cacheLength:this.getConfig("maxCache")})}if(this.getConfig("input")){var c=this.input=b.element.$(this.getConfig("input"))}else{var c=this.input=b.element.$element("input");c.type="text";c.addClass("input-text")}this.frame=c;b.event.addEvent(c,"focus",function(g){f._startCheck();f.fireEvent("focus")});b.event.addEvent(c,"blur",function(g){f._endCheck();f.fireEvent("blur")});this.addEvent("focus",function(){var g=this.input.value;if(g==""||g==this.getConfig("inputTip")){this.fireEvent("noinput")}});this.addEvent("blur",function(){this._lastInput=null});b.event.addEvent(c,"click",function(g){b.event.stop(g||window.event)});b.event.addEvent(c,"keydown",function(g){f._userInput=true;g=g||window.event;if(g.keyCode==13){b.event.stop(g)}f.fireEvent("keydown",g)});c.setAttribute("AutoComplete","off");this.DS=this.getConfig("DS")};this.autoComplete.prototype=b.$extend({},this.element);b.$extend(this.autoComplete.prototype,{input:null,cache:null,_userInput:false,_lastInput:null,getConfig:function(c){if(c=="input"){return this.config.input||this.config.id}return this.config[c]},_startCheck:function(){var c=this;if(this._inputTimer){clearInterval(this._inputTimer)}this._inputTimer=setInterval(function(){if(c._userInput){c._userInput=false;return}c._checkInput()},this.getConfig("searchDelay")*1000)},_endCheck:function(){clearInterval(this._inputTimer);this._inputTimer=null},_checkInput:function(){var f=this;var d=this.input.value;if(b.string.isBlank(d)){if(this._lastInput===""){return}this._lastInput="";this.fireEvent("noinput");return}if(d==this._lastInput){return}this._lastInput=d;this.fireEvent("searchbegin");if(this.cache){var c=this.cache.get(d);if(c){this.fireEvent("searchover",c);return}}if(!this.DS){b.log("no ds");this.fireEvent("NO_DS");return}this.DS.query(d,function(g){if(f.cache){f.cache.add(d,g)}f.fireEvent("searchover",g)})}});b.event.enableCustomEvent(this.autoComplete.prototype);(function(){var c={};getCompleteMenu=function(d){return c[d]};getParentFromClass=function(g,f){var d=null;while(g.parentNode){g=g.parentNode;if(b.element.hasClassName(g,f)){d=g;break}}return d};a.autoCompleteMenu=function(g){var h=this;this._MID=b.util.createObjID();c[this._MID]=this;this.config=this.config||{};b.$extend(this.config,{ulClassName:"",liClassName:"",liHoverClass:"m-autosug-hover",aClassName:"",noResult:"没有匹配结果",dataLoading:"正在加载数据...",noInput:null,autoSelectFirst:false,noHighlightClass:"noHighlight"});a.autoComplete.call(this,g);var f=this.input;var d=b.element.$element("div");d.innerHTML=this.getConfig("wrapper")||this._wrapper();this._menuList=d.firstChild;this._ul=this._menuList.getElementsByTagName("ul")[0];this.menu=new a.menu({button:f,menu:this._menuList,fireOn:"manual"});this.addEvent("keydown",this._inputOnkeydown);b.event.addEvent(this._ul,"mousedown",function(i){h._menuOnclick(i||window.event)},2);b.event.addEvent(f,"blur",function(){h.menu.hide()});this.menu.hide();this.addEvent("noinput",function(){var i=this.getConfig("noInput");if(!i){this.menu.hide();return}this._ul.innerHTML="<li>"+i+"</li>";this.menu.show()});this.addEvent("NO_DS",function(){this._noDataShow()});this.addEvent("searchover",function(i){this._buildMenu(i)})};a.autoCompleteMenu.prototype=b.$extend({},a.autoComplete.prototype);b.$extend(a.autoCompleteMenu.prototype,{menu:null,_menuList:null,_ul:null,_currentLi:null,_highlightMenuItem:function(d){if(d==this._currentLi){return}var g=this.getConfig("liHoverClass");if(this._currentLi!==null){b.element.delClass(this._currentLi,g)}b.element.addClass(d,g);this._currentLi=d;var f=this._currentLi.getAttribute("aid");if(f){this.fireEvent("highlight",this.result[parseInt(f)])}},_checkOnlyOneNoHightlightEl:function(){return(this._ul.lastChild==this._ul.firstChild&&b.element.hasClassName(this._ul.firstChild,this.config.noHighlightClass))},_inputOnkeydown:function(f){var d;if(f.keyCode==13){if(this.menu.isShow&&this._currentLi){var g=this._currentLi.getAttribute("aid");if(g){this._selectMenuItem(parseInt(g))}}return false}if(f.keyCode==38){if(this._checkOnlyOneNoHightlightEl()){return}if(this._currentLi&&this._currentLi.previousSibling){d=this._currentLi.previousSibling}else{d=this._ul.lastChild}while(b.element.hasClassName(d,this.config.noHighlightClass)){if(d.previousSibling){d=d.previousSibling}else{d=this._ul.lastChild}}this._highlightMenuItem(d);return false}if(f.keyCode==40){if(this._checkOnlyOneNoHightlightEl()){return}if(this._currentLi&&this._currentLi.nextSibling){d=this._currentLi.nextSibling}else{d=this._ul.firstChild}while(b.element.hasClassName(d,this.config.noHighlightClass)){if(d.nextSibling){d=d.nextSibling}else{d=this._ul.firstChild}}this._highlightMenuItem(d);return false}return true},_menuOnclick:function(f){var d=b.event.element(f);while(d&&d.tagName&&d.tagName.toLowerCase()!=="li"){d=d.parentNode}if(!d||d.nodeType!==1||!d.getAttribute("aid")){return false}this._selectMenuItem(parseInt(d.getAttribute("aid")));return false},_menuOnmouseover:function(f){var d=b.event.element(f);if(d.parentNode==b.element.$("dropmenuHolder")){return}while(d&&d.tagName&&d.tagName.toLowerCase()!=="li"){d=d.parentNode}if(!d||d.nodeType!==1||!d.getAttribute("aid")){return false}this._highlightMenuItem(d);return false},_selectMenuItem:function(d){this.menu.hide();if(!getParentFromClass(this._menuList,"feed-comment-attach")){this.input.focus()}this.fireEvent("select",this.result[d]);this._lastInput=this.input.value},_buildMenu:function(f){var i=this;this.result=f;if(f.length>0){this.fireEvent("hasResult")}if(f.length==0){this.fireEvent("noResult");var h=this.getConfig("noResult");if(b.isFunction(h)){h=h.call(this)}this._ul.innerHTML="<li>"+h+"</li>";this.menu.show();this._currentLi=null;return}var g=[];g.push(this.firstMenuItem());var d=f.length-1;b.array.each(f,function(k,j){g.push('<li onmouseover="getCompleteMenu('+i._MID+')._highlightMenuItem(this);" aid="'+k+'">'+i.buildMenu(j)+"</li>")});g.push(this.lastMenuItem());this._ul.innerHTML=g.join("");if(this.getConfig("autoSelectFirst")){this._highlightMenuItem(this._ul.firstChild)}this.menu.show()},_noDataShow:function(){var d=this.getConfig("dataLoading");this._ul.innerHTML="<li>"+d+"</li>";this.menu.show()},firstMenuItem:function(){return""},lastMenuItem:function(){return""},buildMenu:function(d){return"<li>"+d.name+"</li>"},setMenuWidth:function(d){this.menu.setWidth(d)},getCurrentItem:function(){return this._currentLi},setCurrentItem:function(d){this._currentLi=d}});a.autoCompleteMenu.prototype._wrapper=function(){return['<div class="m-autosug">','<span class="x1">','<span class="x1a"></span>',"</span>",'<span class="x2">','<span class="x2a"></span>',"</span>",'<div class="m-autosug-minwidth">','<div class="m-autosug-content">',"<ul></ul>","</div>","</div>","</div>"].join("")}})();this.friendSelector=function(d){var c=this;this.config=this.config||{};b.$extend(this.config,{getFriendsUrl:"http://browse."+b.env.domain+"/getfriendsajax.do?s=1",url:"http://sg."+b.env.domain+"/s/f",aurl:"http://friend."+b.env.domain+"/friendsSelector.do",param:{}});if(this.config.url.indexOf("sg.renren.com/s/m")!=-1){this.config.aurl="http://friend."+b.env.domain+"/friendSelectorForVip"}b.$extend(this.config,d.params);if(b.isUndefined(this.getConfig("page"))){this.config.page=false}a.autoCompleteMenu.call(this,d);this.addEvent("select",function(f){this.input.value=f.name;if(this.onSelectOne){this.onSelectOne(f)}});this.buildMenu=function(f){return f.name};this.addEvent("focus",function(){if(this._ready){return}if(this._isLoading){return}this.loadFriends()})};this.friendSelector.prototype=b.$extend({},this.autoCompleteMenu.prototype);b.$extend(this.friendSelector.prototype,{_isLoading:false,_ready:false,isReady:function(){return this._ready},isLoading:function(){return this._isLoading},loadFriends:function(c){if(this.isLoading()){return}this._isLoading=true;var f=this;var d={};d.init=true;d.uid=false;d.uhead=false;d.uname=false;d.group=false;d.net=false;d.param=this.getConfig("param");d.page=this.getConfig("page");new b.net.xmlhttp({useCache:true,url:this.getConfig("aurl"),method:"get",data:"p="+b.json.build(d),onSuccess:function(g){g=b.json.parse(g.responseText);f._onload(g)}})},_onload:function(c){this.isLoading=false;this._ready=true;this.config.qkey=c.qkey;this.DS=new b.util.DS_friends({url:this.getConfig("url"),qkey:this.getConfig("qkey"),limit:this.getConfig("limit"),page:this.getConfig("page"),param:this.getConfig("param")});this.DS.query=function(d,i){var m=this;try{this._request.abort()}catch(j){}function k(q){q=q.responseText;var p;try{var o=b.JSON.parse(q);if(m.rootKey&&o[m.rootKey]){p=o[m.rootKey]}else{p=o}}catch(s){p=[]}i(p)}var g=b.json.parse(this.param);g.q=d;this.limit&&(g.l=this.limit);g.friendId&&(g.friend=g.friendId);var h=[];for(var f in g){h.push(f+"="+encodeURIComponent(g[f]))}this._request=new b.net.xmlhttp({url:this.url,data:h.join("&"),method:this.method,onSuccess:k})}}});this.friendSelectorSynchronous=function(d,c){function f(j,h,g){if(b.isObject(j)){j=j.id}if(g.isReady()){try{g[h](j)}catch(i){}}else{g.addEvent("load",function(){try{g[h](j)}catch(k){}});g.loadFriends()}}d.addEvent("select",function(g){f(g,"select",c)});d.addEvent("deselect",function(g){f(g,"deselect",c)});c.addEvent("select",function(g){f(g,"select",d)});c.addEvent("deselect",function(g){f(g,"deselect",d)})};(function(){a.multiFriendSelector=function(f){var d=this;this._ID=b.util.createObjID();this.config=this.config||{};b.$extend(this.config,{inputName:"ids",nameInputName:"names",aurl:"http://friend."+b.env.domain+"/friendsSelector.do",url:"http://sg."+b.env.domain+"/s/f",initParam:{},param:{},noInput:false,maxNum:-1});b.$extend(this.config,f);if(this.config.url.indexOf("sg.renren.com/s/m")!=-1){this.config.aurl="http://friend."+b.env.domain+"/friendSelectorForVip"}this.frame=b.element.$element("div");var g=b.element.$element("div");g.hide();document.body.appendChild(g);g.appendChild(this.frame);this.frame.innerHTML=['<div id="'+this.getID("friendsContainer")+'" class="tokenizer friendAutoSelector">','<span id="'+this.getID("inputContainer")+'" class="tokenizer_input"><input id="'+this.getID("input")+'" type="text" /></span>',"</div>",'<div class="float-right" id="'+this.getID("menu")+'"></div>'].join("");this.input=this.getEl("input");this.menuContainer=this.getEl("menu");b.event.addEvent(this.getEl("friendsContainer"),"click",function(h){d._parseClickEvent(h||window.event)});this.autoComplete=new a.friendSelector({id:this.input,inputTip:"输入好友姓名...",autoSelectFirst:true,url:this.getConfig("url"),aurl:this.getConfig("aurl"),param:this.getConfig("param")});this.autoComplete.loadFriends=function(h){if(this.isLoading()){return}this._isLoading=true;var i={};i.init=true;i.uid=true;i.uhead=false;i.uname=true;i.group=false;i.net=false;b.$extend(i,d.getConfig("initParam"));i.param=this.getConfig("param");new b.net.xmlhttp({useCache:true,url:this.getConfig("aurl"),method:d.getConfig("loadMethod")||"get",data:"p="+b.json.build(i),onSuccess:function(j){j=b.json.parse(j.responseText);d._allFriends=j.candidate;d.fireEvent("load");d.autoComplete._onload(j)}})};this.autoComplete.buildMenu=function(h){return"<p>"+h.name+"</p>"};this.autoComplete.setMenuWidth(129);this.autoComplete.addEvent("keydown",function(h){d._onInputKeydown(h)});this.autoComplete.addEvent("select",function(h){b.log(this.input);this.input.value="";d.selectFriend(h)});if(this.getConfig("noInput")){this.input.hide()}this.fireEvent("init")};var c=a.multiFriendSelector.prototype=b.$extend({},a.element);b.$extend(c,{isReady:function(){return this.autoComplete.isReady()},isLoading:function(){return this.autoComplete.isLoading()},loadFriends:function(){this.autoComplete.loadFriends()},getUserByID:function(f){f=String(f);var d=null;b.array.each(this._allFriends,function(h,g){if(String(g.id)==f){d=g;return false}});return d},getConfig:function(d){if(d=="inputName"){return this.config.idInputName||this.config.inputName}return this.config[d]},getID:function(d){return"mfs_"+this._ID+d},getFriendID:function(d){return this.getID("friend_"+d)},getFriendEl:function(d){return b.element.$(this.getFriendID(d))},getEl:function(d){return b.element.$(this.getID(d))},getFriendsNum:function(){return this.getEl("friendsContainer").getElementsByTagName("a").length},getSelectedFriends:function(){var f=[];var d=b.array.build(this.getEl("friendsContainer").getElementsByTagName("a"));b.array.each(d,function(h,g){f.push(g.getAttribute("uid")+"")});return f},reset:function(){this.deselectAll()},deselectAll:function(){var d=b.array.build(this.getEl("friendsContainer").getElementsByTagName("a"));b.array.each(d,function(g,f){b.element.remove(f)});this.fireEvent("deselectAll",this.getIds())},selectFriends:function(d){var f=this;b.array.each(d,function(h,g){f.select(g)})},deselectFriends:function(d){var f=this;b.array.each(d,function(h,g){f.deselect(g)})},select:function(f){if(b.isUndefined(f)){return}b.log("mfs select:");b.log(f);var d=this.getConfig("maxNum");if(d!==-1){if(this.getFriendsNum()==d){this.fireEvent("overMaxNum",d);return}}if(b.isString(f)||b.isNumber(f)){f={id:f,name:this.getUserByID(f).name}}if(this.getFriendEl(f.id)){return}this.getEl("friendsContainer").insertBefore(this.createFriendHTML(f.id,f.name),this.getEl("inputContainer"));this.fireEvent("select",f.id)},deselect:function(d){if(!this.getFriendEl(d)){return}this.getFriendEl(d).remove();this.fireEvent("deselect",d)},_parseClickEvent:function(f){var d=b.event.element(f);b.event.stop(f);if(d&&d.getAttribute("action")){this.deselectFriend(d.getAttribute("uid"))}},createFriendHTML:function(g,f){var d=b.element.$element("a");d.id=this.getFriendID(g);d.setAttribute("uid",g);d.href="#nogo";d.className="token";d.tabindex="-1";d.innerHTML=['<span>\n<span>\n<span>\n<span>\n<input type="hidden" value="',g,'" name="',this.getConfig("inputName"),'" />\n','<input type="hidden" value="',f,'" name="',this.getConfig("nameInputName"),'" />\n',f,'<span uid="',g,'" action="x" class="x" onmouseout="this.className=\'x\'" onmouseover="this.className=\'x_hover\'" >\n</span>\n</span>\n</span>\n</span>\n</span>'].join("");return d},_onInputKeydown:function(j){var g=this.getEl("inputContainer"),h=g.previousSibling,d=g.nextSibling,f=this.input,k=this.getEl("friendsContainer");if(j.keyCode==8&&this.input.value==""){if(h){this.deselectFriend(h.getAttribute("uid"))}return true}else{if(j.keyCode==37&&this.input.value==""){if(h&&h.tagName.toLowerCase()=="a"){g.parentNode.removeChild(g);k.insertBefore(g,h);setTimeout(function(){f.focus()},0)}return true}else{if(j.keyCode==39&&this.input.value==""){if(d&&d.tagName.toLowerCase()=="a"){g.parentNode.removeChild(g);b.dom.insertAfter(g,d);setTimeout(function(){f.focus()},0)}return true}}}return false}});b.event.enableCustomEvent(c);c.deSelectAll=c.deselectAll;c.deSelectFriend=c.deselectFriend=c.deselect;c.selectFriend=c.select;c.getSelectedFriendsID=c.getSelectedFriends;c.getIds=c.getSelectedFriends})();this.friendSelectorWithMenu=function(d){var c=new a.friendSelector(d);var f=new a.friendSelectorMenu({url:c.getConfig("url"),aurl:c.getConfig("aurl"),param:c.getConfig("param"),multi:false,alignType:d.alignType,offsetX:d.offsetX,offsetY:d.offsetY,initParam:d.initParam});var g=b.element.$element("div");g.addChild(c);g.addChild(f);c.frame=g;c.addEvent("focus",function(){f.menu.hide()});f.addEvent("select",function(h){var i=this;setTimeout(function(){i.menu.hide()},30);c.fireEvent("select",this.getUserByID(h))});f.menu.menu.setOffsetY(9);return c};this.multiFriendSelectorWithMenu=function(d){var c=new a.multiFriendSelector(d);var f=new a.friendSelectorMenu({url:c.getConfig("url"),aurl:c.getConfig("aurl"),param:c.getConfig("param"),multi:true,showSelectAllCheckbox:c.getConfig("showSelectAllCheckbox")||false});f.addEvent("submit",function(){f.menu.hide()});c.menuContainer.setContent(f);a.friendSelectorSynchronous(c,f);return c};(function(f){var c=false;var g=b.event.addEvent;var d=function(h){if(c){b.log(b.isString(h)?"ui.tabView:"+h:h)}return h};f.tabView=function(h){this.config={selectedClass:"select",event:"click",alwaysReload:false,mouseOverDelay:0.2};b.$extend(this.config,h);this.init()};f.tabView.prototype={_tabs:null,_currentTab:null,_idPre:null,_tabIndex:0,init:function(){this._idPre=b.util.createObjID();this._tabs=[]},getConfig:function(h){if(h=="activeClass"){return this.config.activeClass||this.config.selectedClass}return this.config[h]},_getID:function(h){if(h.nodeType&&h.nodeType==1){return this._setID(h).id}return h},_setID:function(h){if(!h.id){this._tabIndex++;h.setAttribute("id","tabview_"+this._idPre+"_"+this._tabIndex)}return b.element.$(h)},_getTab:function(m){d("_getTab start");d("param:id");d(m);if(!m){return d(m)}if(m.label){return d(m)}var k=this._getID(m);d("key:"+k);var j=this._tabs;d("all tabs");d(j);for(var h=j.length-1;h>=0;h--){if(j[h].key==k){d("_getTab end");return d(j[h])}}d("_getTab end");return d(null)},getCurrentTab:function(){return this._getTab(this._currentTab)},setCurrentTab:function(j,k){d("setCurrentTab start");var i=this.getCurrentTab();var h=this._getTab(j);d("old current:");d(i);d("now current:");d(h);if(i&&i.key==h.key&&!k){return}if(i){this._deactiveTab(i)}this._activeTab(h);this._setCurrentTab(h);d("setCurrentTab end");this.fireEvent("change",h);return this},reset:function(){var h=this.getCurrentTab();if(h){this._deactiveTab(h)}this._setCurrentTab(null);return this},_activeTab:function(h){d("_activeTab:");d(h);h.getEl("label").addClass(this.getConfig("activeClass"));if(h.content){h.getEl("content").show()}h.onActive(h);d("_activeTab end")},_deactiveTab:function(h){if(h.getEl("label")){h.getEl("label").delClass(this.getConfig("activeClass"))}if(h.content){h.getEl("content").hide()}h.onInactive(h)},_setCurrentTab:function(h){d("_setCurrentTab start");h=this._getTab(h);d("currentTab:");d(h);this._currentTab=h?h.key:null;d("this._currentTab");d(this._currentTab);d("_setCurrentTab end")},addTab:function(h){d("addTab start");d("params:");d(h);var m=this;var j={onActive:b.func.empty,onClick:b.func.empty,onInactive:b.func.empty,onInit:b.func.empty,getEl:function(p){return b.element.$(this[p])},active:false};h.label=this._setID(b.element.$(h.label));h.key=h.key||h.label.id;if(h.content){h.content=this._getID(h.content);d("get content id:"+h.content)}b.$extend(j,h);this._tabs.push(j);d("all tabs");d(this._tabs);if(j.active&&this._currentTab===null){if(j.content){j.getEl("content").show()}j.label.addClass(this.getConfig("activeClass"));this._setCurrentTab(j)}else{if(j.content){j.getEl("content").hide()}}var k=this.getConfig("event");if(k=="click"){g(j.label,"click",function(p){p=p||window.event;b.event.stop(p);m._eventHander(p,j.label)},false)}else{if(k=="mouseover"){var i=true;var o=null;g(j.label,"mouseover",function(q){var p=this;i=true;o=setTimeout(function(){if(!i){return}q=q||window.event;m._eventHander(q,j.label)},m.getConfig("mouseOverDelay")*1000)},false);g(j.label,"mouseleave",function(p){i=false;if(o){clearTimeout(o)}},false)}}j.onInit(j);d("addTab end");return this},_eventHander:function(j,i){d("on click,el:");d(i);d("get tab form by el:");var h=this._getTab(i);if(this.getConfig("alwaysReload")){this.setCurrentTab(h,true)}else{this.setCurrentTab(h)}h.onClick(j,h)},refresh:function(){this._activeTab(this.getCurrentTab());return this},showTab:function(i,h){this.setCurrentTab(i,h)},hideAll:function(){this.reset()}};b.event.enableCustomEvent(f.tabView.prototype)})(this);this.refreshAll=function(){document.body.style.zoom=1.1;document.body.style.zoom=1};this.getHiddenDiv=function(){if(!this._hiddenDiv){this._hiddenDiv=b.element.$element("div").hide();document.body.appendChild(this._hiddenDiv)}return this._hiddenDiv};this.friendSearchBar=function(f){var m=b.element.$(f.input);var k=b.element.$(f.submit||null);var g=b.element.$(f.form);var o=f.tip||"找人...";var j=f.action||function(q){if(q.type&&q.type=="PAGE"){window.location.href="http://page."+b.env.domain+"/"+q.id+"?from=opensearch"}else{window.location.href="http://www."+b.env.domain+"/profile.do?id="+q.id+"&from=opensearch"}};var d=false;(new b.form.inputHelper(m)).setDefaultValue(o).onEnter(function(p){if(d){return}if(!b.string.isBlank(p.value)){g.submit()}});var h=16;var i={id:m,noResult:function(){return'搜索"'+this.input.value+'"'},limit:h,params:f.params};var c=new a.friendSelector(i);c.lastMenuItem=function(){if(this.result.length==h){return'<li><p><a onmousedown="window.location.href=this.href" href="http://friend.'+b.env.domain+"/myfriendlistx.do?qu="+this.input.value+'">点击查看更多..</a></p></li>'}else{return""}};c.setMenuWidth(m.offsetWidth);c.onSelectOne=function(q){d=true;j(q)};if(k){k.onclick=function(){if(d){return false}var p=m.value;if(p!=o&&!b.string.isBlank(p)){g.submit();return false}if(k.tagName.toLowerCase()=="a"){return true}else{return false}}}};this.navSearchBar=function(f){var m=b.element.$(f.input);var k=b.element.$(f.submit||null);var g=b.element.$(f.form);var o=f.tip||"找人...";var j=f.action||function(q){if(q.type&&q.type=="PAGE"){window.location.href="http://page."+b.env.domain+"/"+(q.id||q.uid)+"?from=opensearch"}else{window.location.href="http://www."+b.env.domain+"/profile.do?id="+(q.id||q.uid)+"&from=opensearch"}};var d=false;(new b.form.inputHelper(m)).setDefaultValue(o).onEnter(function(p){if(d){return}if(!b.string.isBlank(p.value)){g.submit()}});var h=7;var i={id:m,noResult:function(){return'<a onmousedown="window.location.href=this.href" href="http://browse.'+b.env.domain+"/searchEx.do?from=opensearchclick&q="+encodeURIComponent(this.input.value)+'" title="搜索'+this.input.value+'">搜索"'+this.input.value+'"</a>'},limit:h,params:f.params,wrapper:['<div class="">','<span class="x1">','<span class="x1a"></span>',"</span>",'<span class="x2">','<span class="x2a"></span>',"</span>",'<div class="m-autosug-minwidth">','<div class="m-autosug-content">','<ul class="search-Result"></ul>',"</div>","</div>","</div>"].join(""),url:"http://sg."+b.env.domain+"/s/h"};var c=new a.friendSelector(i);c.loadFriends=function(p){if(this.isLoading()){return}this._isLoading=true;var q=this;this._onload()};c._onload=function(){this.isLoading=false;this._ready=true;this.DS=new b.util.DS_friends({url:this.getConfig("url"),qkey:this.getConfig("qkey"),limit:this.getConfig("limit"),page:this.getConfig("page"),param:this.getConfig("param")});this.DS.query=function(p,q){var u=this;try{this._request.abort()}catch(s){}function t(x){x=x.responseText;var w;try{var v=b.json.parse(x);if(u.rootKey&&v[u.rootKey]){w=v[u.rootKey]}else{w=v}}catch(y){w=[]}q(w)}this._request=new b.net.xmlhttp({url:this.url,data:"q="+encodeURIComponent(p)+"&l="+this.limit,method:this.method,onSuccess:t})}};c.buildMenu=function(p){return'<img src="'+(p.head||p.uhead)+'" width="50" height="50" alt="'+(p.name||p.uname)+'"/><strong>'+(p.name||p.uname)+"</strong>"};c._noDataShow=function(){var p=this.getConfig("dataLoading");this._ul.innerHTML='<li class="lookMore">'+p+"</li>";this.menu.show()};c._buildMenu=function(q){var u=this;this.result=q;if(q.length==0){var t=this.getConfig("noResult");if(b.isFunction(t)){t=t.call(this)}this._ul.innerHTML='<li class="lookMore">'+t+"</li>";this.menu.show();this._currentLi=null;return}var s=[];s.push(this.firstMenuItem());var p=q.length-1;b.array.each(q,function(x,w){s.push('<li onmouseover="getCompleteMenu('+u._MID+')._highlightMenuItem(this);" aid="'+x+'">'+u.buildMenu(w)+"</li>")});s.push(this.lastMenuItem());this._ul.innerHTML=s.join("");if(this.getConfig("autoSelectFirst")){this._highlightMenuItem(this._ul.firstChild)}this.menu.show()};c.lastMenuItem=function(){if(this.result.length==h){return'<li class="lookMore"><a onmousedown="window.location.href=this.href" href="http://friend.'+b.env.domain+"/myfriendlistx.do?qu="+this.input.value+'">点击查看更多..</a></li>'}else{return""}};c.setMenuWidth(m.offsetWidth);c.onSelectOne=function(q){d=true;j(q)};if(k){k.onclick=function(){if(d){return false}var p=m.value;if(p!=o&&!b.string.isBlank(p)){g.submit();return false}if(k.tagName.toLowerCase()=="a"){return true}else{return false}}}};this.userInfoAutoComplete=function(h,d){var g={elementaryschool:"http://www."+b.env.domain+"/autocomplete_elementaryschool.jsp",juniorhighschool:"http://www."+b.env.domain+"/autocomplete_juniorhighschool.jsp",workplace:"http://www."+b.env.domain+"/autocomplete_workplace.jsp",highschool:"http://www."+b.env.domain+"/autocomplete_highschool.jsp",allnetwork:"http://www."+b.env.domain+"/autocomplete_all_network.jsp",allSchool:"http://www."+b.env.domain+"/autocomplete-school.jsp",city:"http://www."+b.env.domain+"/autocomplete-city.jsp",college:"http://www."+b.env.domain+"/autocomplete_college.jsp"};var f=new b.datasource.DS_XHR({url:g[d]});var c=new a.autoCompleteMenu({DS:f,input:h});c.buildMenu=function(i){return"<p>"+(i.name||i.Name)+"</p>"};c.addEvent("select",function(i){this.input.value=(i.name||i.Name)});return c}});object.add("XN.Do","XN, XN.func, XN.array, XN.ui",function(a,b){this.currentAlert=null;this.currentConfirm=null;this.alert=function(t,p,o,d,c,q,j,f){var g={type:"normal",width:400,button:"确定",modal:false,callBack:b.func.empty,autoHide:0,addIframe:true,closeFire:true};if(!b.isString(t)){extendObject(g,t)}else{if(b.isString(t)||arguments.length>1){var i=arguments;b.array.each(["message","title","type","X","Y","width","height","callBack"],function(u,h){if(i[u]){g[h]=i[u]}})}}var s=g.params;delete g.params;g=extendObject({},g,s);g.callback=g.callback||g.callBack;try{a.currentAlert.remove(g.modal===true)}catch(k){}var m=new b.ui.dialog(g).setType(g.type).setTitle(g.title||(g.type=="error"?"错误提示":"提示")).setWidth(g.width).setHeight(g.height).setX(g.X).setY(g.Y).addButton({text:(g.yes||g.button),onclick:function(h){m.setAutoHide(true);return g.callback.call(m,h)}}).show();if(g.closeFire===true){m.addEvent("close",function(h){g.callback.call(m,h)})}a.currentAlert=m;try{m.getButton(g.button).focus()}catch(k){}if(g.autoHide){m.autoHide(g.autoHide)}return m};this.confirm=function(u,p,g,f,t,d,c,q,k){var i={type:"normal",width:400,modal:false,yes:"确定",no:"取消",callBack:b.func.empty,focus:null,addIframe:true,closeFire:false};if(!b.isString(u)&&!b.isNumber(u)){extendObject(i,u)}else{if(b.isString(u)||arguments.length>1){var j=arguments;b.array.each(["message","title","callBack","yes","no","X","Y","w","h"],function(w,h){if(j[w]){i[h]=j[w]}})}}var s=i.params;delete i.params;i=extendObject({},i,s);i.callback=i.callback||i.callBack;try{a.currentConfirm.remove(i.modal===true)}catch(m){}var o=new b.ui.dialog(i).setType(i.type).setTitle(i.title||(i.type=="error"?"错误提示":"提示")).setBody(i.msg||i.message||"").setWidth(i.width).setHeight(i.height).setX(i.X).setY(i.Y).addButton({text:(i.submit||i.yes),onclick:function(){o.setAutoHide(true);return i.callback.call(o,true)}}).addButton({text:(i.cancel||i.no),onclick:function(){o.setAutoHide(true);return i.callback.call(o,false)}}).show();o.getButton(i.cancel||i.no).addClass("gray");if(i.focus=="submit"){i.focus=i.submit}else{if(i.focus=="cancel"){i.focus=i.cancel}}if(i.closeFire===true){o.addEvent("close",function(){i.callback.call(o,false)})}o.getButton(i.focus||i.submit||i.yes).focus();a.currentConfirm=o;return o};this.showMessage=this.showMsg=function(g,f,d){var c=a.alert({msg:g,title:(f||"提示"),noFooter:true,autoHide:(d||2)});return c};this.showError=function(g,f,d){var c=a.alert({msg:g,type:"error",title:(f||"错误提示"),noFooter:true,autoHide:(d||2)});return c}});object.use(["XN","XN.array","XN.browser","XN.cookie","XN.Do","XN.dom","XN.effect","XN.element","XN.env","XN.event","XN.form","XN.func","XN.json","XN.net","XN.string","XN.template","XN.ui","XN.util","XN.datasource"],function(c){$extend=c.$extend;if(window.XN==null){window.XN=c}else{var a=window.XN;window.XN=c;for(var d in a){if(window.XN[d]===undefined){window.XN[d]=a[d]}else{c.$extend(window.XN[d],a[d])}}}isUndefined=c.isUndefined;isString=c.isString;isElement=c.isElement;isFunction=c.isFunction;isObject=c.isObject;isArray=c.isArray;isNumber=c.isNumber;$=c.element.$;$element=c.element.$element;c.element.findFirstClass=c.dom.findFirstClass;extendObject=$extend;xn_getEl=ge=getEl=$X=$;$xElement=c.element.$element;c.DEBUG=c.Debug=c.debug;c.debug.On=c.debug.on;c.debug.Off=c.debug.off;c.namespace("ui");c.namespace("util");c.namespace("app");c.namespace("page");c.APP=c.App=c.app;c.PAGE=c.Page=c.page;c.CONFIG=c.Config=c.config;c.ENV=c.Env=c.env=c.env;c.ARRAY=c.Array=c.array=c.array;c.String=c.STRING=c.string=c.string;c.BROWSER=c.Browser=c.browser=c.browser;c.COOKIE=c.Cookie=c.cookie=c.cookie;c.EVENT=c.Event=c.event=c.event;c.DO=c.Do;c.DOM=c.Dom=c.dom=c.dom;c.EFFECT=c.Effect=c.effect=c.effect;c.ELEMENT=c.Element=c.element=c.element;c.FORM=c.Form=c.form=c.form;c.FUNC=c.Func=c.func=c.func;c.JSON=c.Json=c.json=c.json;c.NET=c.Net=c.net;c.Template=c.TEMPLATE=c.template=c.template;c.UI=c.Ui=c.ui;c.UTIL=c.Util=c.util;c.ui.DS_JSON=c.util.DS_JSON=c.datasource.DS_JSON;c.ui.DS_friends=c.util.DS_friends=c.datasource.DS_friends;c.ui.DS_Array=c.util.DS_Array=c.datasource.DS_Array;c.ui.DS_XHR=c.util.DS_XHR=c.datasource.DS_XHR;try{document.domain=String(c.env.domain)}catch(b){}if(window.isJSON==null){window.isJSON=c.string.isJSON}if(c.events==null){c.timeLog={};c.events={};c.event.enableCustomEvent(c.events)}});"abbr article aside audio canvas command details figcaption figure footer header hgroup mark meter nav output progress section summary time video".replace(/\w+/g,function(a){document.createElement(a)});(function(){function b(){}var a=!!(window.attachEvent&&!window.opera);window.Expressions=b;if(!a){return}b.ie6=(navigator.appVersion.indexOf("MSIE 6.0")!=-1);b.ie7=(navigator.appVersion.indexOf("MSIE 7.0")!=-1);b.k=1;b.timer=function(){b.k++;var c=document.getElementById("expressionsTimer");if(c){c.innerHTML=b.k}};b.ele={};b.pseudo={};b.selector={};b.style={};b.addClass=function(d,c){d.className+=" "+c};b.removeClass=function(d,c){d.className=d.className.replace(new RegExp("\\b"+c+"(\\s+|\\b)","ig"),"")};b.hasClass=function(d,c){return d.className.match(new RegExp("(\\s|^)"+c+"(\\s|$)"))};b.getPixelValue=function(g,f){if(!(/^\d+(px)?$/i).test(f)&&(/^\d/).test(f)){var d=g.style.left;var c=g.runtimeStyle.left;g.runtimeStyle.left=g.currentStyle.left;g.style.left=f||0;f=g.style.pixelLeft;g.style.left=d;g.runtimeStyle.left=c;return f}return parseInt(f)||0};b.pseudo.hover=function(d,c){if(b.ie7){return}if(!c){c="hover"}d.attachEvent("onmouseover",function(){d.className+=" "+c});d.attachEvent("onmouseout",function(){d.className=d.className.replace(new RegExp("\\s"+c,"ig"),"")});b.timer()};b.pseudo.focus=function(d,c){if(!c){c="focus"}d.attachEvent("onfocus",function(){d.className+=" "+c});d.attachEvent("onblur",function(){d.className=d.className.replace(new RegExp("\\s"+c,"ig"),"")});b.timer()};b.pseudo.disabled=function(d,c){if(!c){c="disabled"}function f(){if(d.disabled){if(!b.hasClass(d,c)){b.addClass(d,c)}}else{b.removeClass(d,c)}}d.attachEvent("onpropertychange",f);f();b.timer()};b.pseudo.enabled=function(d,c){if(!c){c="enabled"}function f(){if(!d.disabled){if(!b.hasClass(d,c)){b.addClass(d,c)}}else{b.removeClass(d,c)}}d.attachEvent("onpropertychange",f);f();b.timer()};b.pseudo.before=function(c,f){var d=document.createElement("before");c.insertBefore(d,c.firstChild);b.timer()};b.pseudo.after=function(c,g){var d=document.createElement("after");var f=setInterval(function(){try{c.appendChild(d);clearInterval(f)}catch(h){}},200);b.timer()};b.style.width=function(d,c){if(c>0){d.style.width=c+"px"}};b.style.minWidth=function(f,d){if(!d.match(/(\d+)px/)){return}d=parseInt(RegExp.$1);function c(){if(!f.__oldWidth&&document.documentElement.clientWidth<d){f.__oldWidth=f.runtimeStyle.width;f.runtimeStyle.width=d+"px"}else{if(f.__oldWidth&&document.documentElement.clientWidth>=d){f.__oldWidth=null;f.runtimeStyle.width=f.__oldWidth}}}window.attachEvent("onresize",c);c();b.timer()};b.style.outline=function(d,c){if(c=="0 none"){d.onfocus=function(){d.blur()}}};b.style.backgroundOrigin=function(c){c.style.backgroundPosition=(c.offsetWidth-14)+"px center";b.timer()};b.style.boxSizing={};b.style.boxSizing.borderBox=function(h,g,d){var f=function(m){h.runtimeStyle.width="";if(!m){m=h.currentStyle.width}var o=(h.currentStyle.bordeLeftStyle=="none"?0:parseInt(h.currentStyle.borderLeftWidth))||0;var i=(h.currentStyle.bordeRightStyle=="none"?0:parseInt(h.currentStyle.borderRightWidth))||0;var k=parseInt(h.currentStyle.paddingLeft)||0;var q=parseInt(h.currentStyle.paddingRight)||0;var p=o+i+k+q;var j=(parseInt(h.parentNode.currentStyle.paddingLeft)||0)+(parseInt(h.parentNode.currentStyle.paddingRight)||0);m=b.getPixelValue(h,m)-j;h.runtimeStyle.width=Math.max(0,m-p)+"px"};var c=function(i){h.runtimeStyle.height="";if(!i){i=h.currentStyle.height}var q=(h.currentStyle.bordeTopStyle=="none"?0:parseInt(h.currentStyle.borderTopWidth))||0;var k=(h.currentStyle.bordeBottomStyle=="none"?0:parseInt(h.currentStyle.borderBottomWidth))||0;var m=parseInt(h.currentStyle.paddingTop)||0;var o=parseInt(h.currentStyle.paddingBottom)||0;var p=q+k+m+o;var j=(parseInt(h.parentNode.currentStyle.paddingTop)||0)+(parseInt(h.parentNode.currentStyle.paddingBottom)||0);i=b.getPixelValue(h,i)-j;h.runtimeStyle.height=Math.max(0,i-p)+"px"};f(g);c(d);h.attachEvent("ondetach",function(){h.runtimeStyle.width="";h.runtimeStyle.height=""});h.attachEvent("onpropertychange",function(){var i=event.propertyName;if(i==="style.boxSizing"&&h.style.boxSizing===""){h.style.removeAttribute("boxSizing");h.runtimeStyle.boxSizing=undefined}switch(i){case"style.width":case"style.borderLeftWidth":case"style.borderLeftStyle":case"style.borderRightWidth":case"style.borderRightStyle":case"style.paddingLeft":case"style.paddingRight":f(g);break;case"style.height":case"style.borderTopWidth":case"style.borderTopStyle":case"style.borderBottomWidth":case"style.borderBottomStyle":case"style.paddingTop":case"style.paddingBottom":c(d);break;case"className":case"style.boxSizing":f(g);c(d);break;default:break}});b.timer();return};b.style.content=function(d,c){d.innerText=c;b.timer()};b.style.position={};b.style.position.fixed=function(c){var d;window.attachEvent("onscroll",function(){var f=500;if(c.hackStyle&&c.hackStyle.IE6fixedPositionDelay){f=c.hackStyle.IE6fixedPositionDelay}c.runtimeStyle.visibility="hidden";b.addClass(c,"IE6_SCROLLING");clearTimeout(d);d=setTimeout(function(){c.runtimeStyle.visibility="visible";b.removeClass(c,"IE6_SCROLLING")},f)});b.timer()};b.style.position.fixed.delay=function(d,c){if(!d.hackStyle){d.hackStyle={}}d.hackStyle.IE6fixedPositionDelay=c;b.timer()};b.style.fixLineHeight=function(g){var h=function(i){i.runtimeStyle.zoom="1";var j=document.createElement("h");j.style.zoom="1";i.insertBefore(j,i.children[0])};for(var f=0,d=["IMG","SELECT","INPUT","TEXTAREA"],c;c=d[f];f++){if(g.tagName.toUpperCase()==c){if(g.parentNode.currentStyle.lineHeight!="normal"){h(g.parentNode)}return}}h(g);b.timer()};b.selector=function(f,d){var c=Sizzle(f);for(var g=0;g<c.length;g++){b.addClass(c[g],d)}b.timer()};if(a){(function(){var c=setInterval(function(){try{document.body.doScroll("left");clearInterval(c);document.getElementsByTagName("title")[0].innerHTML}catch(d){}},20)})()}b.hover=b.pseudo.hover;b.focus=b.pseudo.focus;b.after=b.pseudo.after;b.before=b.pseudo.before})();try{document.execCommand("BackgroundImageCache",false,true)}catch(e){}try{window.onerror=function(){if(parseInt(Math.random()*10000,10)!=5000){return 1}var c=arguments,f=encodeURIComponent,b=location,g=new Date();if(c.length!=3||c[2]==0){return 1}new Image().src=["http://s.renren.com/speedstats/jserror/stats.php?message="+f(c[0]),"url="+f(c[1]),"lineNo="+c[2],"location="+f(b),"time="+g.toLocaleTimeString()].join("&");return 1}}catch(e){}if(!window.console){window.console={log:function(){},warn:function(){},error:function(){}}}window.now=new Date();XN.dom.ready(function(){if(XN.config.parentDomain||(!XN.config.jumpOut)){return}try{top.location.href.indexOf("x")}catch(a){try{top.location=self.location}catch(a){}}});if(XN.browser.Gecko&&XN.string.getQuery("debug_mode")){XN.debug.on()}(function(){var a=false;window.load_jebe_ads=function(b,d,c){if(window._developer_no_ads){return}if(!b){return}if(a&&!c){return}a=true;XN.dom.ready(function(){var f=XN.cookie.get("id");if(!f||XN.string.isBlank(f)){f=""}if(!d){d=location.href}var g="http://ebp.renren.com/ebpn/show?userid="+encodeURIComponent(f)+"&isvip="+XN.user.isVip+"&hideads="+XN.user.hideAds+(!XN.pageId?"":"&pageType="+XN.pageId)+"&tt="+new Date().getTime();if(d.match(/http:\/\/www\.renren\.com\/home/ig)){d="http://www.renren.com/Home.do"}else{if(d.indexOf("friend/manage")>-1||d.indexOf("friend/addfriends")>-1){d="http://friend.renren.com/myfriendlistx.do";g="http://ebp.renren.com/ebpn/show?userid="+encodeURIComponent(f)+"&isvip="+XN.user.isVip+"&hideads="+XN.user.hideAds+(!XN.pageId?"":"&pageType=friend")+"&tt="+new Date().getTime()}else{if(d.match(/http:\/\/(www\.)?renren\.com\/?$/ig)||d.match(/http:\/\/(www\.)?renren\.com\/?SysHome(.do)?\/?/ig)||d.match(/http:\/\/(www\.)?renren.com\/pages\/syshome_newversion.jsp/)||d.match(/http:\/\/(www\.)?renren.com\/pages\/autoLogin-ads.jsp/)){d="http://www.renren.com/SysHome.do";if($("ad100000000068")!=null){g="http://ebp.renren.com/ebpn/show?ref=http://www.renren.com/ad_100000000068"}else{if($("ad100000000108")!=null){g="http://ebp.renren.com/ebpn/show?ref=http://www.renren.com/ad_100000000108"}else{g="http://ebp.renren.com/ebpn/show?ref=http://www.renren.com/ad_100000000061"}}}}}if(XN.app.share&&XN.app.share.pageInfo){d=d.replace(/\?.*$/,"")+"?shareType="+XN.app.share.pageInfo.type}if(d){g+="&r="+encodeURIComponent(d)}XN.loadFile({file:g,type:"js"},function(){var h="http://s.xnimg.cn/a"+jebe_json.ad_js_version+"/jebe/xn.jebe.js";XN.loadFile({file:h,type:"js"})})})}})();XN.USER=XN.user=currentUser={};XN.USER.me=function(a){};XN.event.enableCustomEvent(currentUser);XN.USER.addFriendAction=function(a){this.config={commentLength:45,needComment:true,requestURI:"http://friend."+XN.env.domain+"/ajax_request_friend.do"};$extend(this.config,a)};XN.user.addFriendAction.prototype={getConfig:function(a){return this.config[a]},send:function(h,c,g,b,a){var b=b!=1?0:1;var a=a||"";var f=this;if(this.getConfig("needComment")){if(XN.STRING.isBlank(c)){this.fireEvent("checkError","您输入的信息不能为空");return}}if(c.length>this.getConfig("commentLength")){this.fireEvent("checkError","您输入的信息不能超过"+this.getConfig("commentLength")+"个字符");return}var d="id="+h+"&why="+c+"&codeFlag="+b+"&code="+a;if(this.getConfig("matchmaker")){d=d+"&matchmaker="+this.getConfig("matchmaker")}if(this.getConfig("groupname")){d=d+"&groupname="+this.getConfig("groupname")}this.fireEvent("beforePost");new XN.NET.xmlhttp({url:this.getConfig("requestURI")+"?from="+g,data:d,onSuccess:function(j){j=j.responseText;if(j&&isJSON(j)){var i=XN.JSON.parse(j)}else{f.fireEvent("error");return}if(i.result=="-1"){f.fireEvent("flagError");return}f.fireEvent("success",h,j,g);if(!window.currentUser){return}if(currentUser.fireEvent){currentUser.fireEvent("addFriendSuccess",h,j,g)}if(currentUser.onaddFriendSuccess){currentUser.onaddFriendSuccess(h,j)}},onError:function(){f.fireEvent("error",h,g);if(!window.currentUser){return}currentUser.fireEvent("addFriendError",h,r,g)}})}};XN.EVENT.enableCustomEvent(XN.USER.addFriendAction.prototype);XN.dynamicLoad({file:"http://s.xnimg.cn/jspro/xn.app.addFriend.js",funcs:["showRequestFriendDialog"]});XN.DOM.readyDo(function(){if(XN.get_check){var a=Sizzle("form");for(var b=0;b<a.length;b++){try{var c=document.createElement('<input name="requestToken" type="hidden" value="'+XN.get_check+'"/>')}catch(d){var c=document.createElement("input");c.type="hidden";c.name="requestToken";c.value=XN.get_check}a[b].appendChild(c);try{c=document.createElement('<input name="_rtk" type="hidden" value="'+XN.get_check_x+'"/>')}catch(d){c=document.createElement("input");c.type="hidden";c.name="_rtk";c.value=XN.get_check_x}a[b].appendChild(c)}}});XN.namespace("widgets");XN.WIDGETS=XN.Widgets=XN.widgets;function getImageType(f,d,a,g){var c="";if(f.naturalHeight!=undefined){if(f.naturalHeight*(d/f.naturalWidth)<=a){c="normal"}else{c="too-height"}g(c);return}if(XN.browser.IE&&parseInt(f.height)==0){var b=new Image();b.onload=function(){if(b.height<=a){c="normal"}else{c="too-height"}g(c);b.parentNode.removeChild(b)};b.width=f.getAttribute("width")||d;b.style.cssText="position:absolute;top:-9999em;left:-9999em;";document.body.appendChild(b);b.src=f.src+"?"+new Date().getTime()}else{if(!f.getAttribute("width")){f.width=d}if(f.height<=a){c="normal"}else{c="too-height"}g(c)}}function fixImage(c,b,a){c.onload=null;if(XN.browser.IE&&c.naturalHeight==undefined){XN.dom.ready(function(){getImageType(c,b,a,function(d){if(d=="normal"){return}else{if(d=="too-height"){clipImage2(c,b,a,"h")}}})})}else{getImageType(c,b,a,function(d){if(d=="normal"){c.width=b;return}else{if(d=="too-height"){clipImage2(c,b,a,"h")}}})}}function clipImage2(j,a,d,c){var b=document.createElement("span");var g=document.createElement("i");g.className=j.className;var i=j.parentNode;if(!i){return}b.style.cssText="display:block;zoom:1;overflow:hidden;width:"+a+"px;padding:0;margin:0;background:transparent none;";var f=new Image();f.onload=function(){f.onload=null;if(c=="h"){var h=f.height*(a/f.width);f.height=h;f.width=a;if(h>d){b.style.height=d+"px"}}else{if(c=="w"){f.width=f.width*(d/f.height);f.height=d}}f.style.cssText="display:block;margin:0 auto;";b.appendChild(f);g.appendChild(b);try{i.replaceChild(g,j)}catch(m){if(window.console&&console.log){console.log(j.src)}}g.style.cursor="pointer";i.style.textDecoration="none";if(XN.browser.IE){i.style.position="relative";var k=$element("div");k.style.cssText="position:absolute;top:0;left:0;cursor:pointer;width:"+b.style.width+";height:"+(b.style.height?b.style.height:d+"px")+";background:url(about:_blank);";i.insertBefore(k,i.firstChild)}};f.src=j.src}function clipImage(d){if(!d.getAttribute("width")||!d.getAttribute("height")){return}var b=parseInt(d.getAttribute("width"));var a=parseInt(d.getAttribute("height"));if(d.naturalWidth&&d.naturalHeight&&d.naturalWidth==b&&d.naturalHeight==a){return}var c=new Image();c.onload=function(){if(c.width==b&&c.height==a){return}var f=document.createElement("i");var g=d.parentNode;if(!g){return}g.replaceChild(f,d);f.style.width=b+"px";f.style.height=a+"px";if(!XN.browser.IE){f.style.display="inline-block";f.appendChild(c);f.style.overflow="hidden";if(c.width>b){c.style.marginLeft="-"+parseInt((c.width-b)/2)+"px"}if(c.height>a){c.style.marginTop="-"+parseInt((c.height-a)/2)+"px"}}else{f.style.zoom="1";var h=parseInt((c.height-a)/2);f.style.background="url("+d.src+") no-repeat -"+parseInt((c.width-b)/2)+"px -"+(h>0?h:0)+"px";if(f.parentNode.tagName=="A"){f.style.cursor="pointer"}}};c.src=d.src}function roundify(b,a){return}XN.app.statsMaster={init:function(){var a={ID:XN.cookie.get("id"),R:encodeURIComponent(location.href)};var b=XN.JSON.build(a);this.listener=function(j){var j=j||window.event,f=XN.event.pointerX(j),k=XN.event.pointerY(j),d,g,h=XN.event.element(j),c=$("dropmenuHolder");xx=XN.element.realLeft(c);if(!(h&&h.tagName)){return}g=h.tagName.toLowerCase();if(g=="a"){d=h.href}var i=h.getAttribute("stats");if(i){g=i}a.X=f-xx;a.Y=k;if(d){a.U=encodeURIComponent(d)}if(g){a.T=g}b=XN.JSON.build(a);new Image().src="http://dj."+XN.env.domain+"/click?J="+b+"&t="+Math.random()};XN.event.addEvent(document,"mousedown",this.listener);if(!window.statisFocusEventAdded){XN.event.addEvent(window,"focus",function(){new Image().src="http://dj."+XN.env.domain+"/focus?J="+b+"&t="+Math.random()});window.statisFocusEventAdded=true}if(!window.statisBlurEventAdded){XN.event.addEvent(window,"blur",function(){new Image().src="http://dj."+XN.env.domain+"/unfocus?J="+b+"&t="+Math.random()});window.statisBlurEventAdded=true}if(!window.statisBottomEventAdded){XN.events.addEvent("scrollbottom",function(){new Image().src="http://dj."+XN.env.domain+"/scrollbottom?J="+b+"&t="+Math.random()});window.statisBottomEventAdded=true}},destroy:function(){XN.event.delEvent(document,"mousedown",this.listener)}};XN.dom.ready(function(){if(!XN.BROWSER.IE6){if(window._developer_no_dj){return}XN.app.statsMaster.init()}});XN.dom.ready(function(){if(window._developer_no_guide){return}var a=false;var c=true;XN.event.addEvent(document,"mousedown",function(){c=false});XN.event.addEvent(window,"blur",function(){c=true});showConfirmDialog=function(){var f=XN.DO.alert({title:"请领取您的"+XN.env.siteName+"通行证",modal:true,message:'<iframe id="frameactive" width="410" height="100%" frameborder="no" scrolling="no" frameborder="0" marginheight="0" marginwidth="0" src="about:blank" ></iframe>',width:454,params:{showCloseButton:true},callBack:function(){a=false;showConfirmDialog.fireEvent("close")}});arguments.callee.dialog=f;f.footer.hide();$("frameactive").src="http://channel."+XN.env.domain+"/confirm/show";$("frameactive").contentWindow.location.href="http://channel."+XN.env.domain+"/confirm/show";$("frameactive").addEvent("load",function(){f.refresh()})};XN.event.enableCustomEvent(showConfirmDialog);if(!XN.cookie.get("noconfirm")){return}var b=setInterval(function(){if(c||window.noConfirmWindow||a||!XN.cookie.get("noconfirm")){return}a=true;XN.cookie.del("noconfirm","/",XN.env.domain);XN.cookie.del("noconfirm","/",window.location.hostname);showConfirmDialog()},1000);XN.log("未激活用户引导初始化over")});object.use("dom, ua",function(b,a){b.wrap(window);b.wrap(document);b.ready(function(){document.delegate("a, a span","click",function(g){if(g.button==2){return}var f=this;if(this.tagName&&this.tagName.toLowerCase()=="span"){f=b.wrap(this).getParent("a")}if(!f){return}var d=f.getAttribute("href"),c;if(!d){return}if(a.ua.ie>=9){if(d=="javascript:;"||d.indexOf("javascript:void(0)")!=-1){f.setAttribute("href","#nogo");g.preventDefault();return}}c=d.length;if(d=="#nogo"||d=="#"){g.preventDefault();return}if(c>1&&d.slice(-1)=="#"||c>4&&d.slice(-5)=="#nogo"){g.preventDefault()}})})});(function(){if(window._developer_no_webpager){return}var h=0;var b=false;var f=0;var d="l4pager";var g=null;if(XN.browser.IE6||window.location.host=="apps.renren.com"){b=true}this.checkExpand=function(){var i,j;if(document.documentElement){j=document.documentElement.clientHeight;i=document.documentElement.clientWidth}return{width:i,height:j,full:(i>=1240)&&!b,layout:h,loading:g}};var c,a=0;while(c=document.childNodes[a]){if(c.tagName&&c.tagName.toLowerCase()=="html"){break}a++}this.frameLayout=function(j){if(j==1){c.className=(c.className||"")+" marginRightForPager"}else{if(j==0){c.className=c.className.replace("marginRightForPager","")}else{return h}}h=j;window.fireEvent("changeLayout",{layout:j})};this.saveStat=function(j){var i=j?1:0;XN.cookie.set(d,i,365,"/","renren.com")};this.readStat=function(){return f};this.noLoading=function(){if(g&&g.parentNode){document.body.removeChild(g)}g=null};f=XN.cookie.get(d)=="1"?1:0;if(f&&this.checkExpand().full){this.frameLayout(1);XN.dom.ready(function(){g=document.createElement("div");g.id="wp-buddylist-placeholder";document.body.appendChild(g)})}XN.smartyBuddy=this})();(function(){if(window.webpager&&window.webpager.addEvent){return}var a=[];window.webpager={addEvent:function(){a.push(XN.array.build(arguments))}};window.addEvent("webpagerReady",function(){var b;while(b=a.shift()){window.webpager.addEvent.apply(window.webpager,b)}})})();object.use("dom",function(b){if(window._developer_no_webpager){return}function a(){var f,h,d="imengine",g;if(b.id("bottombar")==null){return}if(/\((iPhone|iPad|iPod)/i.test(navigator.userAgent)||(!window.ActiveXObject&&!window.XMLHttpRequest)){return}if(b.id(d)!=null){return}if(XN.disableWebpager){return}g="http://wpi.renren.com/wtalk/ime.htm?v="+(new Date()).getTime();function c(){if(b.id(d)!=null){return}var i=document.createElement("iframe");i.setAttribute("id",d);i.setAttribute("name",d);i.setAttribute("src",g);i.setAttribute("frameBorder","0");i.style.cssText="position:absolute;left:-1000pt;top:20pt;width:200pt;height:100pt";document.body.appendChild(i);if(h){clearTimeout(h);h=null}}f=(XN.browser.IE?6:3)*1000;h=null;window.addEvent("load",function(){if(h!=null){clearTimeout(h);h=null;c()}});h=setTimeout(c,f)}b.ready(a)});XN.dom.ready(function(){if(window._developer_no_backToTop){return}var f=jxn("#bottombar");var d=jxn("#toolBackTo");if(d.length>0){d.bind("click",function(j){var i=Sizzle("#sidebar2 .ready-to-fix")[0];setTimeout(function(){window.scrollTo(0,0)},0);if(i){jxn(i).removeClass("already-fixed")}XN.event.stop(j);return false})}var h=function(){var i=jxn(window).scrollTop()+jxn(window).height();f.css({position:"absolute",top:i+"px"}).show()};var c=function(){var k=jxn(window).scrollTop();if(k<30){d.hide();return}var o=k+jxn(window).height();var j=5;if(XN.BROWSER.IE6){j=10}if(d.length>0){var m=false;var q=1120;if(jxn("#friends-panel .actived").length>0){m=true;q=1360}var p=jxn(window).width();var i=0;if(p>q){i=(p-(m?250:0)-980)/2+10+980}else{i=p-60-(m?250:0)-j}d.css("left",i+"px").show();if(XN.BROWSER.IE6){d.css({position:"absolute",top:(o-98)+"px"}).show()}}if(k==o){XN.events.fireEvent("scrollbottom")}};c();var g=false;window.addEvent("changeLayout",function(i){c()});jxn(window).bind("resize",function(){if(!g){g=true;if(XN.BROWSER.IE6){f.hide()}d.hide();setTimeout(function(){c();if(XN.BROWSER.IE6){h()}g=false},200)}});var b=false;var a=null;if(XN.BROWSER.IE6){jxn(window).bind("scroll",function(){clearTimeout(a);if(!b){ishided=true;f.hide();d.hide()}a=setTimeout(function(){h();c();ishided=false},200)})}else{jxn(window).bind("scroll",function(){clearTimeout(a);a=setTimeout(function(){c()},10)})}});(function(){XN.ui.positionFixedElement=function(i){this.config={ele:null,holder:"dropmenuHolder",alignWith:null,alignType:"4-1",x:0,y:0};XN.$extend(this.config,i);this.init();return this};var h="-9999px",d="px",g="realLeft",a="realTop",c="offsetWidth",f="offsetHeight",b=XN.browser.IE6;XN.ui.positionFixedElement.prototype={ele:null,holder:null,alignWith:null,alignType:null,x:0,y:0,init:function(){this.ele=$(this.config.ele);this.holder=$(this.config.holder);this.alignWith=$(this.config.alignWith);this.alignType=this.config.alignType;this.x=this.config.x;this.y=this.config.y;this.ele.style.position=b?"absolute":"fixed";this.ele.style.left=h;this.ele.style.top=h;this.holder.appendChild(this.ele);var i=this;XN.event.addEvent(window,"resize",function(){i.refresh()});if(b){XN.event.addEvent(window,"scroll",function(){i.refresh()})}},methods:{"1-1":function(k,j,i,o,m){k.style.left=i+j[g]()-(b?m[g]():0)+d;k.style.top=o+j[a]()-(b?m[a]():0)+d},"1-2":function(k,j,i,o,m){k.style.left=i+j[g]()-(b?m[g]():0)-k[c]+d;k.style.top=o+j[a]()-(b?m[a]():0)+d},"1-3":function(k,j,i,o,m){k.style.left=i+j[g]()-(b?m[g]():0)-k[c]+d;k.style.top=o+j[a]()-(b?m[a]():0)-k[f]+d},"1-4":function(k,j,i,o,m){k.style.left=i+j[g]()-(b?m[g]():0)+d;k.style.top=o+j[a]()-(b?m[a]():0)-k[f]+d},"2-1":function(k,j,i,o,m){k.style.left=i+j[g]()-(b?m[g]():0)+j[c]+d;k.style.top=o+j[a]()-(b?m[a]():0)+d},"2-2":function(k,j,i,o,m){k.style.left=i+j[g]()-(b?m[g]():0)+j[c]-k[c]+d;k.style.top=o+j[a]()-(b?m[a]():0)+d},"2-3":function(k,j,i,o,m){k.style.left=i+j[g]()-(b?m[g]():0)+j[c]-k[c]+d;k.style.top=o+j[a]()-(b?m[a]():0)-k[f]+d},"2-4":function(k,j,i,o,m){k.style.left=i+j[g]()-(b?m[g]():0)+j[c]+d;k.style.top=o+j[a]()-(b?m[a]():0)-k[f]+d},"3-1":function(k,j,i,o,m){k.style.left=i+j[g]()-(b?m[g]():0)+j[c]+d;k.style.top=o+j[a]()-(b?m[a]():0)+j[f]+d},"3-2":function(k,j,i,o,m){k.style.left=i+j[g]()-(b?m[g]():0)+j[c]-k[c]+d;k.style.top=o+j[a]()+j[f]+d},"3-3":function(k,j,i,o,m){k.style.left=i+j[g]()-(b?m[g]():0)+j[c]-k[c]+d;k.style.top=o+j[a]()-(b?m[a]():0)+j[f]-k[f]+d},"3-4":function(k,j,i,o,m){k.style.left=i+j[g]()-(b?m[g]():0)+j[c]+d;k.style.top=o+j[a]()-(b?m[a]():0)+j[f]-k[f]+d},"4-1":function(k,j,i,o,m){k.style.left=i+j[g]()-(b?m[g]():0)+d;k.style.top=o+j[a]()-(b?m[a]():0)+j[f]+d},"4-2":function(k,j,i,o,m){k.style.left=i+j[g]()-(b?m[g]():0)-k[c]+d;k.style.top=o+j[a]()-(b?m[a]():0)+j[f]+d},"4-3":function(k,j,i,o,m){k.style.left=i+j[g]()-(b?m[g]():0)-k[c]+d;k.style.top=o+j[a]()-(b?m[a]():0)+j[f]-k[f]+d},"4-4":function(k,j,i,o,m){k.style.left=i+j[g]()-(b?m[g]():0)+d;k.style.top=o+j[a]()-(b?m[a]():0)+j[f]-k[f]+d}},show:function(){if(this._isShow){return}this._isShow=true;this.methods[this.alignType](this.ele,this.alignWith,this.x,this.y,this.holder)},hide:function(){if(!this._isShow){return}this._isShow=false;this.ele.style.top=h;this.ele.style.left=h},refresh:function(){if(this._isShow){this._isShow=false;this.show()}}}})();XN.dom.ready(function(){if(!$("moreWeb")){return}new XN.UI.menu({bar:"moreWeb",menu:"moredownWeb",fireOn:"click",alignType:"3-2",offsetX:1})});object.define("xn/site-nav/drop-menu-seed","dom",function(b,a,c){if(window._developer_no_dropmenu){return}var d=b("dom");d.ready(function(){var g=d.id("profileMenuActive"),h=d.id("showAppMenu"),f;if(g){g.addEvent("mouseover",function(){g.removeEvent("mouseover",arguments.callee);g.topNavhovered=true;g.addEvent("mouseleave",function(){g.topNavhovered=false;g.removeEvent("mouseleave",arguments.callee)});setTimeout(function(){b.async("xn/site-nav/drop-menu-profile",function(i){i.init()})},200)})}if(h){h.addEvent("mouseover",function(){var i=arguments.callee;h.removeEvent("mouseover",i);h.topNavhovered=true;h.addEvent("mouseleave",function(){h.topNavhovered=false;h.removeEvent("mouseleave",arguments.callee);if(f){clearTimeout(f);f=null;h.addEvent("mouseover",i)}});f=setTimeout(function(){f=null;b.async("xn/site-nav/drop-menu-app",function(j){j.init()})},50)})}})});object.execute("xn/site-nav/drop-menu-seed");object.use("dom, events",function(i,c){var h="v6_header_notify",d=["remind","apply","notice"];function b(j){switch(j){case"remind":return 0;break;case"apply":return 1;break;case"notice":return 2;break}}var a={setNum:function(m,j){var q=this,k=$("navMessage").getElementsByTagName("span");j=j>=100?"99":j;if(!i.getElement("i",k[m])){var o=document.createElement("i");o.style.display="none";o.innerHTML="<u><b>&nbsp;</b><var>0</var></u><em>&nbsp;</em>";k[m].appendChild(o)}k[m].getElementsByTagName("var")[0].innerHTML=j;if(parseInt(j,10)>0&&!XN.element.hasClassName(k[m],"click")){var p=k[m].getElementsByTagName("i")[0];if(!XN.element.visible(p)){p.style.display="block";q.show(m)}}else{k[m].getElementsByTagName("i")[0].style.display="none"}},set:function(k,j){var m=b(k);this.setNum(m,j)},show:function(j){var o,p=this,k=$("navMessage").getElementsByTagName("span")[j],m=i.getElement("i",k);setTimeout(function(){m.addClass("t")},0)},setUI:function(j){this.set("remind",parseInt(j.remind,10));this.set("apply",parseInt(j.apply,10));this.set("notice",parseInt(j.notice,10))},reset:function(k){var m=b(k);this.setNum(m,0);if(!window.webpager){return}var j=XN.json.parse(webpager.getItem(h));if(j){j[k]=0}webpager.setItem(h,JSON.stringify(j))},get:function(){new XN.net.xmlhttp({url:"http://notify.renren.com/rmessage/getunreadcount?t="+new Date().getTime(),data:"",method:"get",onSuccess:function(k){var j=XN.json.parse(k.responseText);j.t=XN.cookie.get("t");XN.cookie.del("first_login_flag","/","renren.com","false");webpager.setItem(h,JSON.stringify(j));if(typeof(isHome)=="boolean"){isHome=null}},onError:function(){XN.DO.showError("网络通信失败,请重试")}})}};var f={mouseover:function(o,k){var j=i.getElement("i",o),m=d[k];if(j&&XN.element.visible(j)){XN.element.addClass(o,"hover")}else{XN.element.addClass(o,"on")}XN.element.addClass(o,m+"-hover")},mouseout:function(m,j){var k=d[j];XN.element.delClass(m,"on");XN.element.delClass(m,"hover");XN.element.delClass(m,k+"-hover")},click:function(m,j){var k=d[j];XN.loadFile("http://s.xnimg.cn/a56606/n/core/js/message-center-all.js",function(){MessageCenter.bubble=a;if(XN.element.hasClassName(m,"click")){XN.element.delClass(m,"click");$("showMessage").style.display="none";MessageCenter.setDefault();return}MessageCenter.setDefault();XN.element.addClass(m,"click");MessageCenter.setIframePosition(m);MessageCenter.init(k,a);XN.element.addClass(m,k+"-click");a.reset(k)})}};function g(){Sizzle("#navMessage span").forEach(function(k,j){XN.event.addEvent(k,"click",function(m){f.click(k,j);m.stopPropagation()});XN.event.addEvent(k,"mouseover",function(){f.mouseover(k,j)});XN.event.addEvent(k,"mouseout",function(){f.mouseout(k,j)})})}i.ready(function(){g();var m,k=(XN.browser.IE?4:2)*1000;if(XN.browser.IE6||XN.browser.IE7){k=12*1000}function j(){m=setTimeout(function(){if(m){clearTimeout(m);m=null}a.get()},k)}window.addEvent("webpagerReady",function(u){var t,p=webpager.getItem(h),o=XN.cookie.get("first_login_flag");var q=["","remind","apply","notice"];if(window.asyncHTMLManager){window.asyncHTMLManager.addEvent("load",function(){if(typeof(isHome)=="boolean"){j()}})}if(p){p=JSON.parse(p);if(!o){t=p}}if(!t||typeof(isHome)=="boolean"){j()}else{a.setUI(p)}webpager.addEvent("storage",function(w){if(/v6_header_notify/.test(w.keys)){var v=webpager.getItem(h);v=JSON.parse(v);a.setUI(v)}});window.webpager.messager.addEvent("message",function(s){if(s.service=="notify"&&s.source=="webpager"){var v=s.data;setTimeout(function(){if(webpager.isLocalConnect()){window.imengine.imHelper.playSound()}var w=JSON.parse(webpager.getItem(h));w[q[v.bigtype]]++;webpager.setItem(h,JSON.stringify(w))},1000*Math.random())}})})})});object.define("xn/site-nav/switch-account-seed",function(b,a,c){window.__logEvents=false;b.async("xn/site-nav/switch-account",function(d){d.accMenu.show();d.fetch();window.__logEvents=true})});XN.dom.ready(function(){if(window._developer_no_account){return}var a=$("accountMenu");if(!a){return}a.addEvent("mouseover",function(){a.delEvent("mouseover",arguments.callee);object.execute("xn/site-nav/switch-account-seed")})});object.define("xn/site-nav/search-seed",function(b,a,c){window.__logEvents=false;b.async("xn/site-nav/search",function(){var d=$("navSearchInput");d.blur();d.focus();window.__logEvents=true})});XN.dom.ready(function(){if(window._developer_no_search){return}var b=$("navSearchInput"),a=$("searchBtnAC");if(!b||!a){return}if(window.asyncHTMLManager){a.addEvent=function(d,f,c){window.asyncHTMLManager.dom.Element.prototype.addEvent.call(a,d,f,c)}}if(b.value==""){b.value=="找人、视频、日志、照片";b.setAttribute("defaultval","找人、视频、日志、照片")}window.g_searchFromHead=function(){var c=b.value;if(c==="找人、视频、日志、照片"||XN.string.trim(c)===""){c=""}window.location.href="http://browse.renren.com/s/all?from=opensearch&q="+encodeURIComponent(c)};a.addEvent("click",function(c){if(XN.browser.IE6){setTimeout(function(){window.g_searchFromHead()},1)}else{window.g_searchFromHead()}});b.addEvent("focus",function(){var d=b.value;defaultVal=b.getAttribute("defaultval");if(XN.string.trim(d)===XN.string.trim(defaultVal)){b.value="";b.style.color="#000";b.style.backgroundColor="#fff";a.style.backgroundColor="#fff"}if(!b.hack4guide){object.execute("xn/site-nav/search-seed");if(XN.user.id){var c="http://search.renren.com/LogSystem/cache?userid="+XN.user.id+"&from=2&t="+Math.random();new Image().src=c}}b.hack4guide=true});b.addEvent("blur",function(){var c=b.value,d=b.getAttribute("defaultval");if(XN.string.trim(c)===""){b.value=d;b.style.color="#999";b.style.backgroundColor="#edf3f9";a.style.backgroundColor="#edf3f9"}})});XN.photoSeedHandler=(function(){function a(d){var g,c,b,f;try{XN.getFileVersion(d.version)}catch(h){}for(g=d.preLoad,c=0,b=g.length;c<b;c+=1){try{if(g[c].path()){f=new Image();f.src=g[c].src}}catch(h){}}for(g=d.exec,c=0,b=g.length;c<b;c+=1){try{if(g[c].path()){XN.loadFile(g[c].src)}}catch(h){}}}XN.dom.ready(function(){if(window._developer_no_photo_all){return}var c="http://s.xnimg.cn/n/apps/photo/modules/seed/photoSeed.js?r="+(+new Date());if(window.photoSeedSrc){c=window.photoSeedSrc}var b=document.createElement("script");b.type="text/javascript";b.async=true;b.src=c;document.getElementsByTagName("head")[0].appendChild(b)});return a})();object.add("xn","./net",function(a){});object.define("xn.net","sys, net",function(b,a){var c=b("sys");var d=b("net");var f=d.Request.prototype.send;d.Request.set("send",function(g,h){h=h||g.data||"";if(g.method=="post"&&XN.get_check&&!/[\?|\&]requestToken=/.test(h)){h+=(h?"&":"")+"requestToken="+XN.get_check}if(g.method=="post"&&XN.get_check_x&&!/[\?|\&]_rtk=/.test(h)){h+=(h?"&":"")+"_rtk="+XN.get_check_x}f.call(g,h)});this.Request=d.Request});(function(){function a(c){var b=$(XN.event.element(c||window.event));if(!b){return false}if(!b.hasClassName("share_new")){return false}if(!window.XNShareObject){setTimeout(function(){XN.loadFile("http://s.xnimg.cn/jspro/xn.app.share.js",function(){XN.event.delEvent(document,"mouseover",a);XNShareObject._register({autoRegister:false,floatMode:true});XNShareObject.forceShowFloat(b)})},0)}}XN.event.addEvent(document,"mouseover",a)})();object.define("xn.mention","dom",function(c,b,f){var g=c("dom");var d=this.initMain=function(k,j,i){if(k.mentionInited){return}k.mentionInited=true;c.async("xn/mentionMain",function(m){m.Mention.init({obj:j.obj,ugcId:j.ugcId||"",ugcType:j.ugcType||"",ownerId:j.ownerId||"",scrollable:j.scrollable,popTop:j.popTop,whisper:(j.whisper===false?false:true),button:j.button||null,limit:j.limit||10,recentLimit:j.recentLimit||6});if(i){i()}})};var a=function(k,j){if(j){XN.event.stop(j)}g.wrap(k);if(XN.browser.WebKit){k.focus();k.blur()}k.focusToPosition(k.get("selectionStart"));var i=function(){var o="@",m=XN.form.help(k).getRealValue();var p=k.get("selectionStart");if(m.slice(p-1,p)=="@"){o=""}k.value=m.slice(0,p)+o+m.slice(p);k.focusToPosition(p+o.length);k.mention.check()};if(XN.browser.IE){setTimeout(i,0)}else{i()}};function h(i){var j=i.obj;if(j.mention){return}j=$(j);j.addEvent("focus",function(){d(j,i,function(){if(i.initCallback){i.initCallback(j)}})});if(i.button){XN.event.addEvent(i.button,"click",function(k){if(j.mention){a(j,k)}else{d(j,i,function(){a(j,k);if(i.initCallback){i.initCallback(j)}})}})}}this.Mention={init:function(m){if(isArray(m)){for(var k=0,j=m.length;k<j;k++){h(m[k])}}else{if(isObject(m)){h(m)}}}}});object.use("xn.mention",function(a){window.Mention=a.mention.Mention});XN.dom.ready(function(){if(showNamecardCondition()){object.use("xn/namecard/seed",function(a){a.loadNamecardMatrix()})}});function showNamecardCondition(){if(XN.user&&XN.user.id){return true}else{return false}}object.define("xn/namecard/seed","dom",function(b,a){a.loadNamecardMatrix=function(){var c=b("dom");window.globalNamecard={additionalY:0,delRcd:false};window.globalNamecard.addFriendCallback=function(d){if(!window.globalNamecard.delRcd){return}var g=window.globalNamecard.delRcd.id.substring(16),f=window.globalNamecard.delRcd.getAttribute("data-type");if(!d){logRcd({action:"RecFcard_addFriendEnd",guest_id:g,type:f});window.globalNamecard.delRcd.parentNode.removeChild(window.globalNamecard.delRcd)}else{logRcd({action:"RecFcard_addFriend",guest_id:g,type:f})}};c.wrap(document.body).delegate("*[namecard]","mouseover",function(d){c.wrap(document.body).undelegate("*[namecard]","mouseover",arguments.callee);b.async("xn/namecard, xn/showShareFriend",function(f){window.globalNamecard.namecard=new f.Namecard(window.globalNamecard.additionalY,d)})})}});
